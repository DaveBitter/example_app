!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=9)}([function(t,e,n){"use strict";t.exports=n(16)},function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=i(t),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){"use strict";function i(t){return function(){return t}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";function i(){}function r(t){try{return t.then}catch(t){return _=t,v}}function o(t,e){try{return t(e)}catch(t){return _=t,v}}function a(t,e,n){try{t(e,n)}catch(t){return _=t,v}}function s(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==i&&g(t,this)}function u(t,e,n){return new t.constructor(function(r,o){var a=new s(i);a.then(r,o),l(t,new p(e,n,a))})}function l(t,e){for(;3===t._83;)t=t._18;if(s._47&&s._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);c(t,e)}function c(t,e){m(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?h(e.promise,t._18):d(e.promise,t._18));var i=o(n,t._18);i===v?d(e.promise,_):h(e.promise,i)})}function h(t,e){if(e===t)return d(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=r(e);if(n===v)return d(t,_);if(n===t.then&&e instanceof s)return t._83=3,t._18=e,void f(t);if("function"===typeof n)return void g(n.bind(e),t)}t._83=1,t._18=e,f(t)}function d(t,e){t._83=2,t._18=e,s._71&&s._71(t,e),f(t)}function f(t){if(1===t._75&&(l(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)l(t,t._38[e]);t._38=null}}function p(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function g(t,e){var n=!1,i=a(t,function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,d(e,t))});n||i!==v||(n=!0,d(e,_))}var m=n(12),_=null,v={};t.exports=s,s._47=null,s._71=null,s._44=i,s.prototype.then=function(t,e){if(this.constructor!==s)return u(this,t,e);var n=new s(i);return l(this,new p(t,e,n)),n}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i={};t.exports=i},function(t,e,n){(function(e){var n,i=e.crypto||e.msCrypto;if(i&&i.getRandomValues){var r=new Uint8Array(16);n=function(){return i.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=n}).call(e,n(4))},function(t,e){function n(t,e){var n=e||0,r=i;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}for(var i=[],r=0;r<256;++r)i[r]=(r+256).toString(16).substr(1);t.exports=n},function(t,e,n){var i,r;!function(o,a){i=a,void 0!==(r="function"===typeof i?i.call(e,n,e,t):i)&&(t.exports=r)}(0,function(){function t(t,e){this._input=t,this._value=e}var e,n,i={},r={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};return e=function(r){var o,s,u,l;if(e.isNumeral(r))o=r.value();else if(0===r||"undefined"===typeof r)o=0;else if(null===r||n.isNaN(r))o=null;else if("string"===typeof r)if(a.zeroFormat&&r===a.zeroFormat)o=0;else if(a.nullFormat&&r===a.nullFormat||!r.replace(/[^0-9]+/g,"").length)o=null;else{for(s in i)if((l="function"===typeof i[s].regexps.unformat?i[s].regexps.unformat():i[s].regexps.unformat)&&r.match(l)){u=i[s].unformat;break}u=u||e._.stringToNumber,o=u(r)}else o=Number(r)||null;return new t(r,o)},e.version="2.0.6",e.isNumeral=function(e){return e instanceof t},e._=n={numberToFormat:function(t,n,i){var o,a,s,u,l,c,h,d=r[e.options.currentLocale],f=!1,p=!1,g=0,m="",_="",v=!1;if(t=t||0,a=Math.abs(t),e._.includes(n,"(")?(f=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(l=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(o=n.match(/a(k|m|b|t)?/),o=!!o&&o[1],e._.includes(n," a")&&(m=" "),n=n.replace(new RegExp(m+"a[kmbt]?"),""),a>=1e12&&!o||"t"===o?(m+=d.abbreviations.trillion,t/=1e12):a<1e12&&a>=1e9&&!o||"b"===o?(m+=d.abbreviations.billion,t/=1e9):a<1e9&&a>=1e6&&!o||"m"===o?(m+=d.abbreviations.million,t/=1e6):(a<1e6&&a>=1e3&&!o||"k"===o)&&(m+=d.abbreviations.thousand,t/=1e3)),e._.includes(n,"[.]")&&(p=!0,n=n.replace("[.]",".")),s=t.toString().split(".")[0],u=n.split(".")[1],c=n.indexOf(","),g=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(e._.includes(u,"[")?(u=u.replace("]",""),u=u.split("["),_=e._.toFixed(t,u[0].length+u[1].length,i,u[1].length)):_=e._.toFixed(t,u.length,i),s=_.split(".")[0],_=e._.includes(_,".")?d.delimiters.decimal+_.split(".")[1]:"",p&&0===Number(_.slice(1))&&(_="")):s=e._.toFixed(t,0,i),m&&!o&&Number(s)>=1e3&&m!==d.abbreviations.trillion)switch(s=String(Number(s)/1e3),m){case d.abbreviations.thousand:m=d.abbreviations.million;break;case d.abbreviations.million:m=d.abbreviations.billion;break;case d.abbreviations.billion:m=d.abbreviations.trillion}if(e._.includes(s,"-")&&(s=s.slice(1),v=!0),s.length<g)for(var y=g-s.length;y>0;y--)s="0"+s;return c>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),0===n.indexOf(".")&&(s=""),h=s+_+(m||""),f?h=(f&&v?"(":"")+h+(f&&v?")":""):l>=0?h=0===l?(v?"-":"+")+h:h+(v?"-":"+"):v&&(h="-"+h),h},stringToNumber:function(t){var e,n,i,o=r[a.currentLocale],s=t,u={thousand:3,million:6,billion:9,trillion:12};if(a.zeroFormat&&t===a.zeroFormat)n=0;else if(a.nullFormat&&t===a.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{n=1,"."!==o.delimiters.decimal&&(t=t.replace(/\./g,"").replace(o.delimiters.decimal,"."));for(e in u)if(i=new RegExp("[^a-zA-Z]"+o.abbreviations[e]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),s.match(i)){n*=Math.pow(10,u[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"===typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof e)throw new TypeError(e+" is not a function");var n,i=Object(t),r=i.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<r&&!(o in i);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");n=i[o++]}for(;o<r;o++)o in i&&(n=e(n,i[o],o,i));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,e){var i=n.multiplier(e);return t>i?t:i},1)},toFixed:function(t,e,n,i){var r,o,a,s,u=t.toString().split("."),l=e-(i||0);return r=2===u.length?Math.min(Math.max(u[1].length,l),e):l,a=Math.pow(10,r),s=(n(t+"e+"+r)/a).toFixed(r),i>e-r&&(o=new RegExp("\\.?0{1,"+(i-(e-r))+"}$"),s=s.replace(o,"")),s}},e.options=a,e.formats=i,e.locales=r,e.locale=function(t){return t&&(a.currentLocale=t.toLowerCase()),a.currentLocale},e.localeData=function(t){if(!t)return r[a.currentLocale];if(t=t.toLowerCase(),!r[t])throw new Error("Unknown locale : "+t);return r[t]},e.reset=function(){for(var t in o)a[t]=o[t]},e.zeroFormat=function(t){a.zeroFormat="string"===typeof t?t:null},e.nullFormat=function(t){a.nullFormat="string"===typeof t?t:null},e.defaultFormat=function(t){a.defaultFormat="string"===typeof t?t:"0.0"},e.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},e.validate=function(t,n){var i,r,o,a,s,u,l,c;if("string"!==typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),t.match(/^\d+$/))return!0;if(""===t)return!1;try{l=e.localeData(n)}catch(t){l=e.localeData(e.locale())}return o=l.currency.symbol,s=l.abbreviations,i=l.delimiters.decimal,r="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(c=t.match(/^[^\d]+/))||(t=t.substr(1),c[0]===o))&&((null===(c=t.match(/[^\d]+$/))||(t=t.slice(0,-1),c[0]===s.thousand||c[0]===s.million||c[0]===s.billion||c[0]===s.trillion))&&(u=new RegExp(r+"{2}"),!t.match(/[^\d.,]/g)&&(a=t.split(i),!(a.length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/)))))},e.fn=t.prototype={clone:function(){return e(this)},format:function(t,n){var r,o,s,u=this._value,l=t||a.defaultFormat;if(n=n||Math.round,0===u&&null!==a.zeroFormat)o=a.zeroFormat;else if(null===u&&null!==a.nullFormat)o=a.nullFormat;else{for(r in i)if(l.match(i[r].regexps.format)){s=i[r].format;break}s=s||e._.numberToFormat,o=s(u,l,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e,n,r){return t+Math.round(i*e)}var i=n.correctionFactor.call(null,this._value,t);return this._value=n.reduce([this._value,t],e,0)/i,this},subtract:function(t){function e(t,e,n,r){return t-Math.round(i*e)}var i=n.correctionFactor.call(null,this._value,t);return this._value=n.reduce([t],e,Math.round(this._value*i))/i,this},multiply:function(t){function e(t,e,i,r){var o=n.correctionFactor(t,e);return Math.round(t*o)*Math.round(e*o)/Math.round(o*o)}return this._value=n.reduce([this._value,t],e,1),this},divide:function(t){function e(t,e,i,r){var o=n.correctionFactor(t,e);return Math.round(t*o)/Math.round(e*o)}return this._value=n.reduce([this._value,t],e),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,i){var r,o=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),r=e._.numberToFormat(t,n,i),e._.includes(r,")")?(r=r.split(""),r.splice(-1,0,o+"BPS"),r=r.join("")):r=r+o+"BPS",r},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}})}(),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i=t.suffixes.concat(n.suffixes.filter(function(e){return t.suffixes.indexOf(e)<0})),r=i.join("|");r="("+r.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(i,r,o){var a,s,u,l=e._.includes(r,"ib")?n:t,c=e._.includes(r," b")||e._.includes(r," ib")?" ":"";for(r=r.replace(/\s?i?b/,""),a=0;a<=l.suffixes.length;a++)if(s=Math.pow(l.base,a),u=Math.pow(l.base,a+1),null===i||0===i||i>=s&&i<u){c+=l.suffixes[a],s>0&&(i/=s);break}return e._.numberToFormat(i,r,o)+c},unformat:function(i){var r,o,a=e._.stringToNumber(i);if(a){for(r=t.suffixes.length-1;r>=0;r--){if(e._.includes(i,t.suffixes[r])){o=Math.pow(t.base,r);break}if(e._.includes(i,n.suffixes[r])){o=Math.pow(n.base,r);break}}a*=o||1}return a}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,i){var r,o,a=e.locales[e.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),r=e._.numberToFormat(t,n,i),t>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(s.before,"-")&&!e._.includes(s.before,"(")&&(s.before="-"+s.before),o=0;o<s.before.length;o++)switch(s.before[o]){case"$":r=e._.insert(r,a.currency.symbol,o);break;case" ":r=e._.insert(r," ",o+a.currency.symbol.length-1)}for(o=s.after.length-1;o>=0;o--)switch(s.after[o]){case"$":r=o===s.after.length-1?r+a.currency.symbol:e._.insert(r,a.currency.symbol,-(s.after.length-(1+o)));break;case" ":r=o===s.after.length-1?r+" ":e._.insert(r," ",-(s.after.length-(1+o)+a.currency.symbol.length-1))}return r}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,i){var r="number"!==typeof t||e._.isNaN(t)?"0e+0":t.toExponential(),o=r.split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(o[0]),n,i)+"e"+o[1]},unformat:function(t){function n(t,n,i,r){var o=e._.correctionFactor(t,n);return t*o*(n*o)/(o*o)}var i=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(i[0]),o=Number(i[1]);return o=e._.includes(t,"e-")?o*=-1:o,e._.reduce([r,Math.pow(10,o)],n,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,i){var r=e.locales[e.options.currentLocale],o=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=r.ordinal(t),e._.numberToFormat(t,n,i)+o}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,i){var r,o=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),r=e._.numberToFormat(t,n,i),e._.includes(r,")")?(r=r.split(""),r.splice(-1,0,o+"%"),r=r.join("")):r=r+o+"%",r},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var i=Math.floor(t/60/60),r=Math.floor((t-60*i*60)/60),o=Math.round(t-60*i*60-60*r);return i+":"+(r<10?"0"+r:r)+":"+(o<10?"0"+o:o)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}})}(),e})},function(t,e,n){n(10),t.exports=n(15)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(11).enable(),window.Promise=n(13)),n(14),Object.assign=n(1)},function(t,e,n){"use strict";function i(){l=!1,s._47=null,s._71=null}function r(t){function e(e){(t.allRejections||a(h[e].error,t.whitelist||u))&&(h[e].displayId=c++,t.onUnhandled?(h[e].logged=!0,t.onUnhandled(h[e].displayId,h[e].error)):(h[e].logged=!0,o(h[e].displayId,h[e].error)))}function n(e){h[e].logged&&(t.onHandled?t.onHandled(h[e].displayId,h[e].error):h[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+h[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+h[e].displayId+".")))}t=t||{},l&&i(),l=!0;var r=0,c=0,h={};s._47=function(t){2===t._83&&h[t._56]&&(h[t._56].logged?n(t._56):clearTimeout(h[t._56].timeout),delete h[t._56])},s._71=function(t,n){0===t._75&&(t._56=r++,h[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,u)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(3),u=[ReferenceError,TypeError,RangeError],l=!1;e.disable=i,e.enable=r},function(t,e,n){"use strict";(function(e){function n(t){a.length||(o(),s=!0),a[a.length]=t}function i(){for(;u<a.length;){var t=u;if(u+=1,a[t].call(),u>l){for(var e=0,n=a.length-u;e<n;e++)a[e]=a[e+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function r(t){return function(){function e(){clearTimeout(n),clearInterval(i),t()}var n=setTimeout(e,0),i=setInterval(e,50)}}t.exports=n;var o,a=[],s=!1,u=0,l=1024,c="undefined"!==typeof e?e:self,h=c.MutationObserver||c.WebKitMutationObserver;o="function"===typeof h?function(t){var e=1,n=new h(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}(i):r(i),n.requestFlush=o,n.makeRequestCallFromTimer=r}).call(e,n(4))},function(t,e,n){"use strict";function i(t){var e=new r(r._44);return e._83=1,e._18=t,e}var r=n(3);t.exports=r;var o=i(!0),a=i(!1),s=i(null),u=i(void 0),l=i(0),c=i("");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return s;if(void 0===t)return u;if(!0===t)return o;if(!1===t)return a;if(0===t)return l;if(""===t)return c;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new r(e.bind(t))}catch(t){return new r(function(e,n){n(t)})}return i(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function i(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?i(a,s._18):(2===s._83&&n(s._18),void s.then(function(t){i(a,t)},n))}var u=s.then;if("function"===typeof u){return void new r(u.bind(s)).then(function(t){i(a,t)},n)}}e[a]=s,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,a=0;a<e.length;a++)i(a,e[a])})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.forEach(function(t){r.resolve(t).then(e,n)})})},r.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return _.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function l(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(_.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(_.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(_.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(_.arrayBuffer&&_.blob&&y(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!_.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!x(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(t instanceof f){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=d(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function g(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}function m(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var _={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(_.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(t){return t&&DataView.prototype.isPrototypeOf(t)},x=ArrayBuffer.isView||function(t){return t&&v.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=n(i)},r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},_.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},h.call(f.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];m.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=f,t.Response=m,t.fetch=function(t,e){return new Promise(function(n,i){var r=new f(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:g(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new m(e,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&_.blob&&(o.responseType="blob"),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n.n(i),o=n(17),a=n.n(o),s=n(27),u=n(45);a.a.render(r.a.createElement(s.a,null),document.getElementById("root")),Object(u.a)()},function(t,e,n){"use strict";function i(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function r(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||L}function o(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||L}function a(){}function s(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||L}function u(t,e,n){var i,r={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)O.call(e,i)&&!I.hasOwnProperty(i)&&(r[i]=e[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];r.children=u}if(t&&t.defaultProps)for(i in s=t.defaultProps)void 0===r[i]&&(r[i]=s[i]);return{$$typeof:b,type:t,key:o,ref:a,props:r,_owner:M.current}}function l(t){return"object"===typeof t&&null!==t&&t.$$typeof===b}function c(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function h(t,e,n,i){if(N.length){var r=N.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function d(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>N.length&&N.push(t)}function f(t,e,n,r){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var a=!1;if(null===t)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case b:case S:case T:case P:a=!0}}if(a)return n(r,t,""===e?"."+p(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){o=t[s];var u=e+p(o,s);a+=f(o,u,n,r)}else if(null===t||"undefined"===typeof t?u=null:(u=C&&t[C]||t["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=e+p(o,s++),a+=f(o,u,n,r);else"object"===o&&(n=""+t,i("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function p(t,e){return"object"===typeof t&&null!==t&&null!=t.key?c(t.key):e.toString(36)}function g(t,e){t.func.call(t.context,e,t.count++)}function m(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?_(t,i,n,x.thatReturnsArgument):null!=t&&(l(t)&&(e=r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(R,"$&/")+"/")+n,t={$$typeof:b,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),i.push(t))}function _(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(R,"$&/")+"/"),e=h(e,o,i,r),null==t||f(t,"",m,e),d(e)}var v=n(1),y=n(5),x=n(2),w="function"===typeof Symbol&&Symbol.for,b=w?Symbol.for("react.element"):60103,S=w?Symbol.for("react.call"):60104,T=w?Symbol.for("react.return"):60105,P=w?Symbol.for("react.portal"):60106,A=w?Symbol.for("react.fragment"):60107,C="function"===typeof Symbol&&Symbol.iterator,L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&i("85"),this.updater.enqueueSetState(this,t,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},a.prototype=r.prototype;var E=o.prototype=new a;E.constructor=o,v(E,r.prototype),E.isPureReactComponent=!0;var k=s.prototype=new a;k.constructor=s,v(k,r.prototype),k.unstable_isAsyncReactComponent=!0,k.render=function(){return this.props.children};var M={current:null},O=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0},R=/\/+/g,N=[],z={Children:{map:function(t,e,n){if(null==t)return t;var i=[];return _(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;e=h(null,null,e,n),null==t||f(t,"",g,e),d(e)},count:function(t){return null==t?0:f(t,"",x.thatReturnsNull,null)},toArray:function(t){var e=[];return _(t,e,null,x.thatReturnsArgument),e},only:function(t){return l(t)||i("143"),t}},Component:r,PureComponent:o,unstable_AsyncComponent:s,Fragment:A,createElement:u,cloneElement:function(t,e,n){var i=v({},t.props),r=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=M.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)O.call(e,u)&&!I.hasOwnProperty(u)&&(i[u]=void 0===e[u]&&void 0!==s?s[u]:e[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:b,type:t.type,key:r,ref:o,props:i,_owner:a}},createFactory:function(t){var e=u.bind(null,t);return e.type=t,e},isValidElement:l,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:M,assign:v}},V=Object.freeze({default:z}),D=V&&z||V;t.exports=D.default?D.default:D},function(t,e,n){"use strict";function i(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}i(),t.exports=n(18)},function(t,e,n){"use strict";function i(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function r(t,e){return(t&e)===e}function o(t,e){if(En.hasOwnProperty(t)||2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))return!1;if(null===e)return!0;switch(typeof e){case"boolean":return En.hasOwnProperty(t)?t=!0:(e=a(t))?t=e.hasBooleanValue||e.hasStringBooleanValue||e.hasOverloadedBooleanValue:(t=t.toLowerCase().slice(0,5),t="data-"===t||"aria-"===t),t;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function a(t){return Mn.hasOwnProperty(t)?Mn[t]:null}function s(t){return t[1].toUpperCase()}function u(t,e,n,i,r,o,a,s,u){Un._hasCaughtError=!1,Un._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){Un._caughtError=t,Un._hasCaughtError=!0}}function l(){if(Un._hasRethrowError){var t=Un._rethrowError;throw Un._rethrowError=null,Un._hasRethrowError=!1,t}}function c(){if(Zn)for(var t in Xn){var e=Xn[t],n=Zn.indexOf(t);if(-1<n||i("96",t),!Yn[n]){e.extractEvents||i("97",t),Yn[n]=e,n=e.eventTypes;for(var r in n){var o=void 0,a=n[r],s=e,u=r;Wn.hasOwnProperty(u)&&i("99",u),Wn[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&h(l[o],s,u);o=!0}else a.registrationName?(h(a.registrationName,s,u),o=!0):o=!1;o||i("98",r,t)}}}}function h(t,e,n){qn[t]&&i("100",t),qn[t]=e,Kn[t]=e.eventTypes[n].dependencies}function d(t){Zn&&i("101"),Zn=Array.prototype.slice.call(t),c()}function f(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];Xn.hasOwnProperty(e)&&Xn[e]===r||(Xn[e]&&i("102",e),Xn[e]=r,n=!0)}n&&c()}function p(t,e,n,i){e=t.type||"unknown-event",t.currentTarget=ti(i),Un.invokeGuardedCallbackAndCatchFirstError(e,n,void 0,t),t.currentTarget=null}function g(t,e){return null==e&&i("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function m(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function _(t,e){if(t){var n=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)p(t,e,n[r],i[r]);else n&&p(t,e,n,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function v(t){return _(t,!0)}function y(t){return _(t,!1)}function x(t,e){var n=t.stateNode;if(!n)return null;var r=$n(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(t=t.type,r=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&i("231",e,typeof n),n)}function w(t,e,n,i){for(var r,o=0;o<Yn.length;o++){var a=Yn[o];a&&(a=a.extractEvents(t,e,n,i))&&(r=g(r,a))}return r}function b(t){t&&(ei=g(ei,t))}function S(t){var e=ei;ei=null,e&&(t?m(e,v):m(e,y),ei&&i("95"),Un.rethrowCaughtError())}function T(t){if(t[oi])return t[oi];for(var e=[];!t[oi];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}var n=void 0,i=t[oi];if(5===i.tag||6===i.tag)return i;for(;t&&(i=t[oi]);t=e.pop())n=i;return n}function P(t){if(5===t.tag||6===t.tag)return t.stateNode;i("33")}function A(t){return t[ai]||null}function C(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function L(t,e,n){for(var i=[];t;)i.push(t),t=C(t);for(t=i.length;0<t--;)e(i[t],"captured",n);for(t=0;t<i.length;t++)e(i[t],"bubbled",n)}function E(t,e,n){(e=x(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=g(n._dispatchListeners,e),n._dispatchInstances=g(n._dispatchInstances,t))}function k(t){t&&t.dispatchConfig.phasedRegistrationNames&&L(t._targetInst,E,t)}function M(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;e=e?C(e):null,L(e,E,t)}}function O(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=x(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=g(n._dispatchListeners,e),n._dispatchInstances=g(n._dispatchInstances,t))}function I(t){t&&t.dispatchConfig.registrationName&&O(t._targetInst,null,t)}function R(t){m(t,k)}function N(t,e,n,i){if(n&&i)t:{for(var r=n,o=i,a=0,s=r;s;s=C(s))a++;s=0;for(var u=o;u;u=C(u))s++;for(;0<a-s;)r=C(r),a--;for(;0<s-a;)o=C(o),s--;for(;a--;){if(r===o||r===o.alternate)break t;r=C(r),o=C(o)}r=null}else r=null;for(o=r,r=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)r.push(n),n=C(n);for(n=[];i&&i!==o&&(null===(a=i.alternate)||a!==o);)n.push(i),i=C(i);for(i=0;i<r.length;i++)O(r[i],"bubbled",t);for(t=n.length;0<t--;)O(n[t],"captured",e)}function z(){return!li&&xn.canUseDOM&&(li="textContent"in document.documentElement?"textContent":"innerText"),li}function V(){if(ci._fallbackText)return ci._fallbackText;var t,e,n=ci._startText,i=n.length,r=D(),o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===r[o-e];e++);return ci._fallbackText=r.slice(t,1<e?1-e:void 0),ci._fallbackText}function D(){return"value"in ci._root?ci._root.value:ci._root[z()]}function F(t,e,n,i){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var r in t)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?bn.thatReturnsTrue:bn.thatReturnsFalse,this.isPropagationStopped=bn.thatReturnsFalse,this}function G(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function B(t){t instanceof this||i("223"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function j(t){t.eventPool=[],t.getPooled=G,t.release=B}function H(t,e,n,i){return F.call(this,t,e,n,i)}function U(t,e,n,i){return F.call(this,t,e,n,i)}function Z(t,e){switch(t){case"topKeyUp":return-1!==fi.indexOf(e.keyCode);case"topKeyDown":return 229!==e.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function X(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}function Y(t,e){switch(t){case"topCompositionEnd":return X(e);case"topKeyPress":return 32!==e.which?null:(Si=!0,wi);case"topTextInput":return t=e.data,t===wi&&Si?null:t;default:return null}}function W(t,e){if(Ti)return"topCompositionEnd"===t||!pi&&Z(t,e)?(t=V(),ci._root=null,ci._startText=null,ci._fallbackText=null,Ti=!1,t):null;switch(t){case"topPaste":return null;case"topKeyPress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"topCompositionEnd":return xi?null:e.data;default:return null}}function q(t){if(t=Jn(t)){Ai&&"function"===typeof Ai.restoreControlledState||i("194");var e=$n(t.stateNode);Ai.restoreControlledState(t.stateNode,t.type,e)}}function K(t){Ci?Li?Li.push(t):Li=[t]:Ci=t}function Q(){if(Ci){var t=Ci,e=Li;if(Li=Ci=null,q(t),e)for(t=0;t<e.length;t++)q(e[t])}}function $(t,e){return t(e)}function J(t,e){if(Mi)return $(t,e);Mi=!0;try{return $(t,e)}finally{Mi=!1,Q()}}function tt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Oi[t.type]:"textarea"===e}function et(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function nt(t,e){if(!xn.canUseDOM||e&&!("addEventListener"in document))return!1;e="on"+t;var n=e in document;return n||(n=document.createElement("div"),n.setAttribute(e,"return;"),n="function"===typeof n[e]),!n&&vi&&"wheel"===t&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function it(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function rt(t){var e=it(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"function"===typeof n.get&&"function"===typeof n.set)return Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(t){i=""+t,n.set.call(this,t)}}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}function ot(t){t._valueTracker||(t._valueTracker=rt(t))}function at(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=it(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function st(t,e,n){return t=F.getPooled(Ii.change,t,e,n),t.type="change",K(n),R(t),t}function ut(t){b(t),S(!1)}function lt(t){if(at(P(t)))return t}function ct(t,e){if("topChange"===t)return e}function ht(){Ri&&(Ri.detachEvent("onpropertychange",dt),Ni=Ri=null)}function dt(t){"value"===t.propertyName&&lt(Ni)&&(t=st(Ni,t,et(t)),J(ut,t))}function ft(t,e,n){"topFocus"===t?(ht(),Ri=e,Ni=n,Ri.attachEvent("onpropertychange",dt)):"topBlur"===t&&ht()}function pt(t){if("topSelectionChange"===t||"topKeyUp"===t||"topKeyDown"===t)return lt(Ni)}function gt(t,e){if("topClick"===t)return lt(e)}function mt(t,e){if("topInput"===t||"topChange"===t)return lt(e)}function _t(t,e,n,i){return F.call(this,t,e,n,i)}function vt(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Di[t])&&!!e[t]}function yt(){return vt}function xt(t,e,n,i){return F.call(this,t,e,n,i)}function wt(t){return t=t.type,"string"===typeof t?t:"function"===typeof t?t.displayName||t.name:null}function bt(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(e=e.return,0!==(2&e.effectTag))return 1}return 3===e.tag?2:3}function St(t){return!!(t=t._reactInternalFiber)&&2===bt(t)}function Tt(t){2!==bt(t)&&i("188")}function Pt(t){var e=t.alternate;if(!e)return e=bt(t),3===e&&i("188"),1===e?null:t;for(var n=t,r=e;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return Tt(o),t;if(s===r)return Tt(o),e;s=s.sibling}i("188")}if(n.return!==r.return)n=o,r=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}s||i("189")}}n.alternate!==r&&i("190")}return 3!==n.tag&&i("188"),n.stateNode.current===n?t:e}function At(t){if(!(t=Pt(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ct(t){if(!(t=Pt(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Lt(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var n;for(n=e;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;t.ancestors.push(e),e=T(n)}while(e);for(n=0;n<t.ancestors.length;n++)e=t.ancestors[n],Ui(t.topLevelType,e,t.nativeEvent,et(t.nativeEvent))}function Et(t){Hi=!!t}function kt(t,e,n){return n?Sn.listen(n,e,Ot.bind(null,t)):null}function Mt(t,e,n){return n?Sn.capture(n,e,Ot.bind(null,t)):null}function Ot(t,e){if(Hi){var n=et(e);if(n=T(n),null===n||"number"!==typeof n.tag||2===bt(n)||(n=null),ji.length){var i=ji.pop();i.topLevelType=t,i.nativeEvent=e,i.targetInst=n,t=i}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{J(Lt,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ji.length&&ji.push(t)}}}function It(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function Rt(t){if(Yi[t])return Yi[t];if(!Xi[t])return t;var e,n=Xi[t];for(e in n)if(n.hasOwnProperty(e)&&e in Wi)return Yi[t]=n[e];return""}function Nt(t){return Object.prototype.hasOwnProperty.call(t,$i)||(t[$i]=Qi++,Ki[t[$i]]={}),Ki[t[$i]]}function zt(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vt(t,e){var n=zt(t);t=0;for(var i;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=zt(n)}}function Dt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)}function Ft(t,e){if(rr||null==er||er!==Tn())return null;var n=er;return"selectionStart"in n&&Dt(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ir&&Pn(ir,n)?null:(ir=n,t=F.getPooled(tr.select,nr,t,e),t.type="select",t.target=er,R(t),t)}function Gt(t,e,n,i){return F.call(this,t,e,n,i)}function Bt(t,e,n,i){return F.call(this,t,e,n,i)}function jt(t,e,n,i){return F.call(this,t,e,n,i)}function Ht(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,32<=t||13===t?t:0}function Ut(t,e,n,i){return F.call(this,t,e,n,i)}function Zt(t,e,n,i){return F.call(this,t,e,n,i)}function Xt(t,e,n,i){return F.call(this,t,e,n,i)}function Yt(t,e,n,i){return F.call(this,t,e,n,i)}function Wt(t,e,n,i){return F.call(this,t,e,n,i)}function qt(t){0>dr||(t.current=hr[dr],hr[dr]=null,dr--)}function Kt(t,e){dr++,hr[dr]=t.current,t.current=e}function Qt(t){return Jt(t)?gr:fr.current}function $t(t,e){var n=t.type.contextTypes;if(!n)return Ln;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Jt(t){return 2===t.tag&&null!=t.type.childContextTypes}function te(t){Jt(t)&&(qt(pr,t),qt(fr,t))}function ee(t,e,n){null!=fr.cursor&&i("168"),Kt(fr,e,t),Kt(pr,n,t)}function ne(t,e){var n=t.stateNode,r=t.type.childContextTypes;if("function"!==typeof n.getChildContext)return e;n=n.getChildContext();for(var o in n)o in r||i("108",wt(t)||"Unknown",o);return wn({},e,n)}function ie(t){if(!Jt(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Ln,gr=fr.current,Kt(fr,e,t),Kt(pr,pr.current,t),!0}function re(t,e){var n=t.stateNode;if(n||i("169"),e){var r=ne(t,gr);n.__reactInternalMemoizedMergedChildContext=r,qt(pr,t),qt(fr,t),Kt(fr,r,t)}else qt(pr,t);Kt(pr,e,t)}function oe(t,e,n){this.tag=t,this.key=e,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function ae(t,e,n){var i=t.alternate;return null===i?(i=new oe(t.tag,t.key,t.internalContextTag),i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.expirationTime=n,i.pendingProps=e,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function se(t,e,n){var r=void 0,o=t.type,a=t.key;return"function"===typeof o?(r=o.prototype&&o.prototype.isReactComponent?new oe(2,a,e):new oe(0,a,e),r.type=o,r.pendingProps=t.props):"string"===typeof o?(r=new oe(5,a,e),r.type=o,r.pendingProps=t.props):"object"===typeof o&&null!==o&&"number"===typeof o.tag?(r=o,r.pendingProps=t.props):i("130",null==o?o:typeof o,""),r.expirationTime=n,r}function ue(t,e,n,i){return e=new oe(10,i,e),e.pendingProps=t,e.expirationTime=n,e}function le(t,e,n){return e=new oe(6,null,e),e.pendingProps=t,e.expirationTime=n,e}function ce(t,e,n){return e=new oe(7,t.key,e),e.type=t.handler,e.pendingProps=t,e.expirationTime=n,e}function he(t,e,n){return t=new oe(9,null,e),t.expirationTime=n,t}function de(t,e,n){return e=new oe(4,t.key,e),e.pendingProps=t.children||[],e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fe(t){return function(e){try{return t(e)}catch(t){}}}function pe(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);mr=fe(function(t){return e.onCommitFiberRoot(n,t)}),_r=fe(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function ge(t){"function"===typeof mr&&mr(t)}function me(t){"function"===typeof _r&&_r(t)}function _e(t){return{baseState:t,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function ve(t,e){null===t.last?t.first=t.last=e:(t.last.next=e,t.last=e),(0===t.expirationTime||t.expirationTime>e.expirationTime)&&(t.expirationTime=e.expirationTime)}function ye(t,e){var n=t.alternate,i=t.updateQueue;null===i&&(i=t.updateQueue=_e(null)),null!==n?null===(t=n.updateQueue)&&(t=n.updateQueue=_e(null)):t=null,t=t!==i?t:null,null===t?ve(i,e):null===i.last||null===t.last?(ve(i,e),ve(t,e)):(ve(i,e),t.last=e)}function xe(t,e,n,i){return t=t.partialState,"function"===typeof t?t.call(e,n,i):t}function we(t,e,n,i,r,o){null!==t&&t.updateQueue===n&&(n=e.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?t=n.baseState:(t=n.baseState=e.memoizedState,n.isInitialized=!0);for(var a=!0,s=n.first,u=!1;null!==s;){var l=s.expirationTime;if(l>o){var c=n.expirationTime;(0===c||c>l)&&(n.expirationTime=l),u||(u=!0,n.baseState=t)}else u||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(t=xe(s,i,t,r),a=!0):(l=xe(s,i,t,r))&&(t=a?wn({},t,l):wn(t,l),a=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(l=n.callbackList,null===l&&(l=n.callbackList=[]),l.push(s));s=s.next}return null!==n.callbackList?e.effectTag|=32:null!==n.first||n.hasForceUpdate||(e.updateQueue=null),u||(n.baseState=t),t}function be(t,e){var n=t.callbackList;if(null!==n)for(t.callbackList=null,t=0;t<n.length;t++){var r=n[t],o=r.callback;r.callback=null,"function"!==typeof o&&i("191",o),o.call(e)}}function Se(t,e,n,r){function o(t,e){e.updater=a,t.stateNode=e,e._reactInternalFiber=t}var a={isMounted:St,enqueueSetState:function(n,i,r){n=n._reactInternalFiber,r=void 0===r?null:r;var o=e(n);ye(n,{expirationTime:o,partialState:i,callback:r,isReplace:!1,isForced:!1,nextCallback:null,next:null}),t(n,o)},enqueueReplaceState:function(n,i,r){n=n._reactInternalFiber,r=void 0===r?null:r;var o=e(n);ye(n,{expirationTime:o,partialState:i,callback:r,isReplace:!0,isForced:!1,nextCallback:null,next:null}),t(n,o)},enqueueForceUpdate:function(n,i){n=n._reactInternalFiber,i=void 0===i?null:i;var r=e(n);ye(n,{expirationTime:r,partialState:null,callback:i,isReplace:!1,isForced:!0,nextCallback:null,next:null}),t(n,r)}};return{adoptClassInstance:o,constructClassInstance:function(t,e){var n=t.type,i=Qt(t),r=2===t.tag&&null!=t.type.contextTypes,a=r?$t(t,i):Ln;return e=new n(e,a),o(t,e),r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e},mountClassInstance:function(t,e){var n=t.alternate,r=t.stateNode,o=r.state||null,s=t.pendingProps;s||i("158");var u=Qt(t);r.props=s,r.state=t.memoizedState=o,r.refs=Ln,r.context=$t(t,u),null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent&&(t.internalContextTag|=1),"function"===typeof r.componentWillMount&&(o=r.state,r.componentWillMount(),o!==r.state&&a.enqueueReplaceState(r,r.state,null),null!==(o=t.updateQueue)&&(r.state=we(n,t,o,r,s,e))),"function"===typeof r.componentDidMount&&(t.effectTag|=4)},updateClassInstance:function(t,e,o){var s=e.stateNode;s.props=e.memoizedProps,s.state=e.memoizedState;var u=e.memoizedProps,l=e.pendingProps;l||null==(l=u)&&i("159");var c=s.context,h=Qt(e);if(h=$t(e,h),"function"!==typeof s.componentWillReceiveProps||u===l&&c===h||(c=s.state,s.componentWillReceiveProps(l,h),s.state!==c&&a.enqueueReplaceState(s,s.state,null)),c=e.memoizedState,o=null!==e.updateQueue?we(t,e,e.updateQueue,s,l,o):c,!(u!==l||c!==o||pr.current||null!==e.updateQueue&&e.updateQueue.hasForceUpdate))return"function"!==typeof s.componentDidUpdate||u===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),!1;var d=l;if(null===u||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)d=!0;else{var f=e.stateNode,p=e.type;d="function"===typeof f.shouldComponentUpdate?f.shouldComponentUpdate(d,o,h):!p.prototype||!p.prototype.isPureReactComponent||(!Pn(u,d)||!Pn(c,o))}return d?("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(l,o,h),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4)):("function"!==typeof s.componentDidUpdate||u===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),n(e,l),r(e,o)),s.props=l,s.state=o,s.context=h,d}}}function Te(t){return null===t||"undefined"===typeof t?null:(t=Tr&&t[Tr]||t["@@iterator"],"function"===typeof t?t:null)}function Pe(t,e){var n=e.ref;if(null!==n&&"function"!==typeof n){if(e._owner){e=e._owner;var r=void 0;e&&(2!==e.tag&&i("110"),r=e.stateNode),r||i("147",n);var o=""+n;return null!==t&&null!==t.ref&&t.ref._stringRef===o?t.ref:(t=function(t){var e=r.refs===Ln?r.refs={}:r.refs;null===t?delete e[o]:e[o]=t},t._stringRef=o,t)}"string"!==typeof n&&i("148"),e._owner||i("149",n)}return n}function Ae(t,e){"textarea"!==t.type&&i("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function Ce(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e,n){return t=ae(t,e,n),t.index=0,t.sibling=null,t}function a(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index,i<n?(e.effectTag=2,n):i):(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,i){return null===e||6!==e.tag?(e=le(n,t.internalContextTag,i),e.return=t,e):(e=o(e,n,i),e.return=t,e)}function l(t,e,n,i){return null!==e&&e.type===n.type?(i=o(e,n.props,i),i.ref=Pe(e,n),i.return=t,i):(i=se(n,t.internalContextTag,i),i.ref=Pe(e,n),i.return=t,i)}function c(t,e,n,i){return null===e||7!==e.tag?(e=ce(n,t.internalContextTag,i),e.return=t,e):(e=o(e,n,i),e.return=t,e)}function h(t,e,n,i){return null===e||9!==e.tag?(e=he(n,t.internalContextTag,i),e.type=n.value,e.return=t,e):(e=o(e,null,i),e.type=n.value,e.return=t,e)}function d(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=de(n,t.internalContextTag,i),e.return=t,e):(e=o(e,n.children||[],i),e.return=t,e)}function f(t,e,n,i,r){return null===e||10!==e.tag?(e=ue(n,t.internalContextTag,i,r),e.return=t,e):(e=o(e,n,i),e.return=t,e)}function p(t,e,n){if("string"===typeof e||"number"===typeof e)return e=le(""+e,t.internalContextTag,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case yr:return e.type===Sr?(e=ue(e.props.children,t.internalContextTag,n,e.key),e.return=t,e):(n=se(e,t.internalContextTag,n),n.ref=Pe(null,e),n.return=t,n);case xr:return e=ce(e,t.internalContextTag,n),e.return=t,e;case wr:return n=he(e,t.internalContextTag,n),n.type=e.value,n.return=t,n;case br:return e=de(e,t.internalContextTag,n),e.return=t,e}if(Pr(e)||Te(e))return e=ue(e,t.internalContextTag,n,null),e.return=t,e;Ae(t,e)}return null}function g(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case yr:return n.key===r?n.type===Sr?f(t,e,n.props.children,i,r):l(t,e,n,i):null;case xr:return n.key===r?c(t,e,n,i):null;case wr:return null===r?h(t,e,n,i):null;case br:return n.key===r?d(t,e,n,i):null}if(Pr(n)||Te(n))return null!==r?null:f(t,e,n,i,null);Ae(t,n)}return null}function m(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return t=t.get(n)||null,u(e,t,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case yr:return t=t.get(null===i.key?n:i.key)||null,i.type===Sr?f(e,t,i.props.children,r,i.key):l(e,t,i,r);case xr:return t=t.get(null===i.key?n:i.key)||null,c(e,t,i,r);case wr:return t=t.get(n)||null,h(e,t,i,r);case br:return t=t.get(null===i.key?n:i.key)||null,d(e,t,i,r)}if(Pr(i)||Te(i))return t=t.get(n)||null,f(e,t,i,r,null);Ae(e,i)}return null}function _(i,o,s,u){for(var l=null,c=null,h=o,d=o=0,f=null;null!==h&&d<s.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var _=g(i,h,s[d],u);if(null===_){null===h&&(h=f);break}t&&h&&null===_.alternate&&e(i,h),o=a(_,o,d),null===c?l=_:c.sibling=_,c=_,h=f}if(d===s.length)return n(i,h),l;if(null===h){for(;d<s.length;d++)(h=p(i,s[d],u))&&(o=a(h,o,d),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);d<s.length;d++)(f=m(h,i,d,s[d],u))&&(t&&null!==f.alternate&&h.delete(null===f.key?d:f.key),o=a(f,o,d),null===c?l=f:c.sibling=f,c=f);return t&&h.forEach(function(t){return e(i,t)}),l}function v(o,s,u,l){var c=Te(u);"function"!==typeof c&&i("150"),null==(u=c.call(u))&&i("151");for(var h=c=null,d=s,f=s=0,_=null,v=u.next();null!==d&&!v.done;f++,v=u.next()){d.index>f?(_=d,d=null):_=d.sibling;var y=g(o,d,v.value,l);if(null===y){d||(d=_);break}t&&d&&null===y.alternate&&e(o,d),s=a(y,s,f),null===h?c=y:h.sibling=y,h=y,d=_}if(v.done)return n(o,d),c;if(null===d){for(;!v.done;f++,v=u.next())null!==(v=p(o,v.value,l))&&(s=a(v,s,f),null===h?c=v:h.sibling=v,h=v);return c}for(d=r(o,d);!v.done;f++,v=u.next())null!==(v=m(d,o,f,v.value,l))&&(t&&null!==v.alternate&&d.delete(null===v.key?f:v.key),s=a(v,s,f),null===h?c=v:h.sibling=v,h=v);return t&&d.forEach(function(t){return e(o,t)}),c}return function(t,r,a,u){"object"===typeof a&&null!==a&&a.type===Sr&&null===a.key&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case yr:t:{var c=a.key;for(l=r;null!==l;){if(l.key===c){if(10===l.tag?a.type===Sr:l.type===a.type){n(t,l.sibling),r=o(l,a.type===Sr?a.props.children:a.props,u),r.ref=Pe(l,a),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}a.type===Sr?(r=ue(a.props.children,t.internalContextTag,u,a.key),r.return=t,t=r):(u=se(a,t.internalContextTag,u),u.ref=Pe(r,a),u.return=t,t=u)}return s(t);case xr:t:{for(l=a.key;null!==r;){if(r.key===l){if(7===r.tag){n(t,r.sibling),r=o(r,a,u),r.return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}r=ce(a,t.internalContextTag,u),r.return=t,t=r}return s(t);case wr:t:{if(null!==r){if(9===r.tag){n(t,r.sibling),r=o(r,null,u),r.type=a.value,r.return=t,t=r;break t}n(t,r)}r=he(a,t.internalContextTag,u),r.type=a.value,r.return=t,t=r}return s(t);case br:t:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(t,r.sibling),r=o(r,a.children||[],u),r.return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}r=de(a,t.internalContextTag,u),r.return=t,t=r}return s(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(t,r.sibling),r=o(r,a,u)):(n(t,r),r=le(a,t.internalContextTag,u)),r.return=t,t=r,s(t);if(Pr(a))return _(t,r,a,u);if(Te(a))return v(t,r,a,u);if(l&&Ae(t,a),"undefined"===typeof a)switch(t.tag){case 2:case 1:u=t.type,i("152",u.displayName||u.name||"Component")}return n(t,r)}}function Le(t,e,n,r,o){function a(t,e,n){var i=e.expirationTime;e.child=null===t?Cr(e,null,n,i):Ar(e,t.child,n,i)}function s(t,e){var n=e.ref;null===n||t&&t.ref===n||(e.effectTag|=128)}function u(t,e,n,i){if(s(t,e),!n)return i&&re(e,!1),c(t,e);n=e.stateNode,Bi.current=e;var r=n.render();return e.effectTag|=1,a(t,e,r),e.memoizedState=n.state,e.memoizedProps=n.props,i&&re(e,!0),e.child}function l(t){var e=t.stateNode;e.pendingContext?ee(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ee(t,e.context,!1),m(t,e.containerInfo)}function c(t,e){if(null!==t&&e.child!==t.child&&i("153"),null!==e.child){t=e.child;var n=ae(t,t.pendingProps,t.expirationTime);for(e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=ae(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}function h(t,e){switch(e.tag){case 3:l(e);break;case 2:ie(e);break;case 4:m(e,e.stateNode.containerInfo)}return null}var d=t.shouldSetTextContent,f=t.useSyncScheduling,p=t.shouldDeprioritizeSubtree,g=e.pushHostContext,m=e.pushHostContainer,_=n.enterHydrationState,v=n.resetHydrationState,y=n.tryToClaimNextHydratableInstance;t=Se(r,o,function(t,e){t.memoizedProps=e},function(t,e){t.memoizedState=e});var x=t.adoptClassInstance,w=t.constructClassInstance,b=t.mountClassInstance,S=t.updateClassInstance;return{beginWork:function(t,e,n){if(0===e.expirationTime||e.expirationTime>n)return h(t,e);switch(e.tag){case 0:null!==t&&i("155");var r=e.type,o=e.pendingProps,T=Qt(e);return T=$t(e,T),r=r(o,T),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render?(e.tag=2,o=ie(e),x(e,r),b(e,n),e=u(t,e,!0,o)):(e.tag=1,a(t,e,r),e.memoizedProps=o,e=e.child),e;case 1:t:{if(o=e.type,n=e.pendingProps,r=e.memoizedProps,pr.current)null===n&&(n=r);else if(null===n||r===n){e=c(t,e);break t}r=Qt(e),r=$t(e,r),o=o(n,r),e.effectTag|=1,a(t,e,o),e.memoizedProps=n,e=e.child}return e;case 2:return o=ie(e),r=void 0,null===t?e.stateNode?i("153"):(w(e,e.pendingProps),b(e,n),r=!0):r=S(t,e,n),u(t,e,r,o);case 3:return l(e),o=e.updateQueue,null!==o?(r=e.memoizedState,o=we(t,e,o,null,null,n),r===o?(v(),e=c(t,e)):(r=o.element,T=e.stateNode,(null===t||null===t.child)&&T.hydrate&&_(e)?(e.effectTag|=2,e.child=Cr(e,null,r,n)):(v(),a(t,e,r)),e.memoizedState=o,e=e.child)):(v(),e=c(t,e)),e;case 5:g(e),null===t&&y(e),o=e.type;var P=e.memoizedProps;return r=e.pendingProps,null===r&&null===(r=P)&&i("154"),T=null!==t?t.memoizedProps:null,pr.current||null!==r&&P!==r?(P=r.children,d(o,r)?P=null:T&&d(o,T)&&(e.effectTag|=16),s(t,e),2147483647!==n&&!f&&p(o,r)?(e.expirationTime=2147483647,e=null):(a(t,e,P),e.memoizedProps=r,e=e.child)):e=c(t,e),e;case 6:return null===t&&y(e),t=e.pendingProps,null===t&&(t=e.memoizedProps),e.memoizedProps=t,null;case 8:e.tag=7;case 7:return o=e.pendingProps,pr.current?null===o&&null===(o=t&&t.memoizedProps)&&i("154"):null!==o&&e.memoizedProps!==o||(o=e.memoizedProps),r=o.children,e.stateNode=null===t?Cr(e,e.stateNode,r,n):Ar(e,e.stateNode,r,n),e.memoizedProps=o,e.stateNode;case 9:return null;case 4:t:{if(m(e,e.stateNode.containerInfo),o=e.pendingProps,pr.current)null===o&&null==(o=t&&t.memoizedProps)&&i("154");else if(null===o||e.memoizedProps===o){e=c(t,e);break t}null===t?e.child=Ar(e,null,o,n):a(t,e,o),e.memoizedProps=o,e=e.child}return e;case 10:t:{if(n=e.pendingProps,pr.current)null===n&&(n=e.memoizedProps);else if(null===n||e.memoizedProps===n){e=c(t,e);break t}a(t,e,n),e.memoizedProps=n,e=e.child}return e;default:i("156")}},beginFailedWork:function(t,e,n){switch(e.tag){case 2:ie(e);break;case 3:l(e);break;default:i("157")}return e.effectTag|=64,null===t?e.child=null:e.child!==t.child&&(e.child=t.child),0===e.expirationTime||e.expirationTime>n?h(t,e):(e.firstEffect=null,e.lastEffect=null,e.child=null===t?Cr(e,null,null,n):Ar(e,t.child,null,n),2===e.tag&&(t=e.stateNode,e.memoizedProps=t.props,e.memoizedState=t.state),e.child)}}}function Ee(t,e,n){function r(t){t.effectTag|=4}var o=t.createInstance,a=t.createTextInstance,s=t.appendInitialChild,u=t.finalizeInitialChildren,l=t.prepareUpdate,c=t.persistence,h=e.getRootHostContainer,d=e.popHostContext,f=e.getHostContext,p=e.popHostContainer,g=n.prepareToHydrateHostInstance,m=n.prepareToHydrateHostTextInstance,_=n.popHydrationState,v=void 0,y=void 0,x=void 0;return t.mutation?(v=function(){},y=function(t,e,n){(e.updateQueue=n)&&r(e)},x=function(t,e,n,i){n!==i&&r(e)}):i(c?"235":"236"),{completeWork:function(t,e,n){var c=e.pendingProps;switch(null===c?c=e.memoizedProps:2147483647===e.expirationTime&&2147483647!==n||(e.pendingProps=null),e.tag){case 1:return null;case 2:return te(e),null;case 3:return p(e),qt(pr,e),qt(fr,e),c=e.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==t&&null!==t.child||(_(e),e.effectTag&=-3),v(e),null;case 5:d(e),n=h();var w=e.type;if(null!==t&&null!=e.stateNode){var b=t.memoizedProps,S=e.stateNode,T=f();S=l(S,w,b,c,n,T),y(t,e,S,w,b,c,n),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!c)return null===e.stateNode&&i("166"),null;if(t=f(),_(e))g(e,n,t)&&r(e);else{t=o(w,c,n,t,e);t:for(b=e.child;null!==b;){if(5===b.tag||6===b.tag)s(t,b.stateNode);else if(4!==b.tag&&null!==b.child){b.child.return=b,b=b.child;continue}if(b===e)break;for(;null===b.sibling;){if(null===b.return||b.return===e)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}u(t,w,c,n)&&r(e),e.stateNode=t}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)x(t,e,t.memoizedProps,c);else{if("string"!==typeof c)return null===e.stateNode&&i("166"),null;t=h(),n=f(),_(e)?m(e)&&r(e):e.stateNode=a(c,t,n,e)}return null;case 7:(c=e.memoizedProps)||i("165"),e.tag=8,w=[];t:for((b=e.stateNode)&&(b.return=e);null!==b;){if(5===b.tag||6===b.tag||4===b.tag)i("247");else if(9===b.tag)w.push(b.type);else if(null!==b.child){b.child.return=b,b=b.child;continue}for(;null===b.sibling;){if(null===b.return||b.return===e)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}return b=c.handler,c=b(c.props,w),e.child=Ar(e,null!==t?t.child:null,c,n),e.child;case 8:return e.tag=7,null;case 9:case 10:return null;case 4:return p(e),v(e),null;case 0:i("167");default:i("156")}}}}function ke(t,e){function n(t){var n=t.ref;if(null!==n)try{n(null)}catch(n){e(t,n)}}function r(t){switch("function"===typeof me&&me(t),t.tag){case 2:n(t);var i=t.stateNode;if("function"===typeof i.componentWillUnmount)try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(n){e(t,n)}break;case 5:n(t);break;case 7:o(t.stateNode);break;case 4:l&&s(t)}}function o(t){for(var e=t;;)if(r(e),null===e.child||l&&4===e.tag){if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}else e.child.return=e,e=e.child}function a(t){return 5===t.tag||3===t.tag||4===t.tag}function s(t){for(var e=t,n=!1,a=void 0,s=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&i("160"),n.tag){case 5:a=n.stateNode,s=!1;break t;case 3:case 4:a=n.stateNode.containerInfo,s=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag)o(e),s?y(a,e.stateNode):v(a,e.stateNode);else if(4===e.tag?a=e.stateNode.containerInfo:r(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,4===e.tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}var u=t.getPublicInstance,l=t.mutation;t=t.persistence,l||i(t?"235":"236");var c=l.commitMount,h=l.commitUpdate,d=l.resetTextContent,f=l.commitTextUpdate,p=l.appendChild,g=l.appendChildToContainer,m=l.insertBefore,_=l.insertInContainerBefore,v=l.removeChild,y=l.removeChildFromContainer;return{commitResetTextContent:function(t){d(t.stateNode)},commitPlacement:function(t){t:{for(var e=t.return;null!==e;){if(a(e)){var n=e;break t}e=e.return}i("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:i("161")}16&n.effectTag&&(d(e),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||a(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var o=t;;){if(5===o.tag||6===o.tag)n?r?_(e,o.stateNode,n):m(e,o.stateNode,n):r?g(e,o.stateNode):p(e,o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},commitDeletion:function(t){s(t),t.return=null,t.child=null,t.alternate&&(t.alternate.child=null,t.alternate.return=null)},commitWork:function(t,e){switch(e.tag){case 2:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var o=e.type,a=e.updateQueue;e.updateQueue=null,null!==a&&h(n,a,o,t,r,e)}break;case 6:null===e.stateNode&&i("162"),n=e.memoizedProps,f(e.stateNode,null!==t?t.memoizedProps:n,n);break;case 3:break;default:i("163")}},commitLifeCycles:function(t,e){switch(e.tag){case 2:var n=e.stateNode;if(4&e.effectTag)if(null===t)n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidMount();else{var r=t.memoizedProps;t=t.memoizedState,n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidUpdate(r,t)}e=e.updateQueue,null!==e&&be(e,n);break;case 3:n=e.updateQueue,null!==n&&be(n,null!==e.child?e.child.stateNode:null);break;case 5:n=e.stateNode,null===t&&4&e.effectTag&&c(n,e.type,e.memoizedProps,e);break;case 6:case 4:break;default:i("163")}},commitAttachRef:function(t){var e=t.ref;if(null!==e){var n=t.stateNode;switch(t.tag){case 5:e(u(n));break;default:e(n)}}},commitDetachRef:function(t){null!==(t=t.ref)&&t(null)}}}function Me(t){function e(t){return t===Lr&&i("174"),t}var n=t.getChildHostContext,r=t.getRootHostContext,o={current:Lr},a={current:Lr},s={current:Lr};return{getHostContext:function(){return e(o.current)},getRootHostContainer:function(){return e(s.current)},popHostContainer:function(t){qt(o,t),qt(a,t),qt(s,t)},popHostContext:function(t){a.current===t&&(qt(o,t),qt(a,t))},pushHostContainer:function(t,e){Kt(s,e,t),e=r(e),Kt(a,t,t),Kt(o,e,t)},pushHostContext:function(t){var i=e(s.current),r=e(o.current);i=n(r,t.type,i),r!==i&&(Kt(a,t,t),Kt(o,i,t))},resetHostContainer:function(){o.current=Lr,s.current=Lr}}}function Oe(t){function e(t,e){var n=new oe(5,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function n(t,e){switch(t.tag){case 5:return null!==(e=a(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=s(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function r(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;d=t}var o=t.shouldSetTextContent;if(!(t=t.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){i("175")},prepareToHydrateHostTextInstance:function(){i("176")},popHydrationState:function(){return!1}};var a=t.canHydrateInstance,s=t.canHydrateTextInstance,u=t.getNextHydratableSibling,l=t.getFirstHydratableChild,c=t.hydrateInstance,h=t.hydrateTextInstance,d=null,f=null,p=!1;return{enterHydrationState:function(t){return f=l(t.stateNode.containerInfo),d=t,p=!0},resetHydrationState:function(){f=d=null,p=!1},tryToClaimNextHydratableInstance:function(t){if(p){var i=f;if(i){if(!n(t,i)){if(!(i=u(i))||!n(t,i))return t.effectTag|=2,p=!1,void(d=t);e(d,f)}d=t,f=l(i)}else t.effectTag|=2,p=!1,d=t}},prepareToHydrateHostInstance:function(t,e,n){return e=c(t.stateNode,t.type,t.memoizedProps,e,n,t),t.updateQueue=e,null!==e},prepareToHydrateHostTextInstance:function(t){return h(t.stateNode,t.memoizedProps,t)},popHydrationState:function(t){if(t!==d)return!1;if(!p)return r(t),p=!0,!1;var n=t.type;if(5!==t.tag||"head"!==n&&"body"!==n&&!o(n,t.memoizedProps))for(n=f;n;)e(t,n),n=u(n);return r(t),f=d?u(t.stateNode):null,!0}}}function Ie(t){function e(t){ot=q=!0;var e=t.stateNode;if(e.current===t&&i("177"),e.isReadyForCommit=!1,Bi.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var n=t.firstEffect}else n=t;else n=t.firstEffect;for(U(),J=n;null!==J;){var r=!1,o=void 0;try{for(;null!==J;){var a=J.effectTag;if(16&a&&I(J),128&a){var s=J.alternate;null!==s&&F(s)}switch(-242&a){case 2:R(J),J.effectTag&=-3;break;case 6:R(J),J.effectTag&=-3,z(J.alternate,J);break;case 4:z(J.alternate,J);break;case 8:at=!0,N(J),at=!1}J=J.nextEffect}}catch(t){r=!0,o=t}r&&(null===J&&i("178"),u(J,o),null!==J&&(J=J.nextEffect))}for(Z(),e.current=t,J=n;null!==J;){n=!1,r=void 0;try{for(;null!==J;){var l=J.effectTag;if(36&l&&V(J.alternate,J),128&l&&D(J),64&l)switch(o=J,a=void 0,null!==tt&&(a=tt.get(o),tt.delete(o),null==a&&null!==o.alternate&&(o=o.alternate,a=tt.get(o),tt.delete(o))),null==a&&i("184"),o.tag){case 2:o.stateNode.componentDidCatch(a.error,{componentStack:a.componentStack});break;case 3:null===it&&(it=a.error);break;default:i("157")}var c=J.nextEffect;J.nextEffect=null,J=c}}catch(t){n=!0,r=t}n&&(null===J&&i("178"),u(J,r),null!==J&&(J=J.nextEffect))}return q=ot=!1,"function"===typeof ge&&ge(t.stateNode),nt&&(nt.forEach(g),nt=null),null!==it&&(t=it,it=null,S(t)),e=e.current.expirationTime,0===e&&(et=tt=null),e}function n(t){for(;;){var e=O(t.alternate,t,$),n=t.return,i=t.sibling,r=t;if(2147483647===$||2147483647!==r.expirationTime){if(2!==r.tag&&3!==r.tag)var o=0;else o=r.updateQueue,o=null===o?0:o.expirationTime;for(var a=r.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;r.expirationTime=o}if(null!==e)return e;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t)),null!==i)return i;if(null===n){t.stateNode.isReadyForCommit=!0;break}t=n}return null}function r(t){var e=k(t.alternate,t,$);return null===e&&(e=n(t)),Bi.current=null,e}function o(t){var e=M(t.alternate,t,$);return null===e&&(e=n(t)),Bi.current=null,e}function a(t){if(null!==tt){if(!(0===$||$>t))if($<=Y)for(;null!==K;)K=l(K)?o(K):r(K);else for(;null!==K&&!b();)K=l(K)?o(K):r(K)}else if(!(0===$||$>t))if($<=Y)for(;null!==K;)K=r(K);else for(;null!==K&&!b();)K=r(K)}function s(t,e){if(q&&i("243"),q=!0,t.isReadyForCommit=!1,t!==Q||e!==$||null===K){for(;-1<dr;)hr[dr]=null,dr--;gr=Ln,fr.current=Ln,pr.current=!1,L(),Q=t,$=e,K=ae(Q.current,null,e)}var n=!1,r=null;try{a(e)}catch(t){n=!0,r=t}for(;n;){if(rt){it=r;break}var s=K;if(null===s)rt=!0;else{var l=u(s,r);if(null===l&&i("183"),!rt){try{for(n=l,r=e,l=n;null!==s;){switch(s.tag){case 2:te(s);break;case 5:C(s);break;case 3:A(s);break;case 4:A(s)}if(s===l||s.alternate===l)break;s=s.return}K=o(n),a(r)}catch(t){n=!0,r=t;continue}break}}}return e=it,rt=q=!1,it=null,null!==e&&S(e),t.isReadyForCommit?t.current.alternate:null}function u(t,e){var n=Bi.current=null,i=!1,r=!1,o=null;if(3===t.tag)n=t,c(t)&&(rt=!0);else for(var a=t.return;null!==a&&null===n;){if(2===a.tag?"function"===typeof a.stateNode.componentDidCatch&&(i=!0,o=wt(a),n=a,r=!0):3===a.tag&&(n=a),c(a)){if(at||null!==nt&&(nt.has(a)||null!==a.alternate&&nt.has(a.alternate)))return null;n=null,r=!1}a=a.return}if(null!==n){null===et&&(et=new Set),et.add(n);var s="";a=t;do{t:switch(a.tag){case 0:case 1:case 2:case 5:var u=a._debugOwner,l=a._debugSource,h=wt(a),d=null;u&&(d=wt(u)),u=l,h="\n    in "+(h||"Unknown")+(u?" (at "+u.fileName.replace(/^.*[\\\/]/,"")+":"+u.lineNumber+")":d?" (created by "+d+")":"");break t;default:h=""}s+=h,a=a.return}while(a);a=s,t=wt(t),null===tt&&(tt=new Map),e={componentName:t,componentStack:a,error:e,errorBoundary:i?n.stateNode:null,errorBoundaryFound:i,errorBoundaryName:o,willRetry:r},tt.set(n,e);try{var f=e.error;f&&f.suppressReactErrorLogging||console.error(f)}catch(t){t&&t.suppressReactErrorLogging||console.error(t)}return ot?(null===nt&&(nt=new Set),nt.add(n)):g(n),n}return null===it&&(it=e),null}function l(t){return null!==tt&&(tt.has(t)||null!==t.alternate&&tt.has(t.alternate))}function c(t){return null!==et&&(et.has(t)||null!==t.alternate&&et.has(t.alternate))}function h(){return 20*(1+((m()+100)/20|0))}function d(t){return 0!==W?W:q?ot?1:$:!H||1&t.internalContextTag?h():1}function f(t,e){return p(t,e,!1)}function p(t,e){for(;null!==t;){if((0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>e)&&(t.alternate.expirationTime=e),null===t.return){if(3!==t.tag)break;var n=t.stateNode;!q&&n===Q&&e<$&&(K=Q=null,$=0);var r=n,o=e;if(bt>xt&&i("185"),null===r.nextScheduledRoot)r.remainingExpirationTime=o,null===ut?(st=ut=r,r.nextScheduledRoot=r):(ut=ut.nextScheduledRoot=r,ut.nextScheduledRoot=st);else{var a=r.remainingExpirationTime;(0===a||o<a)&&(r.remainingExpirationTime=o)}ht||(vt?yt&&(dt=r,ft=1,w(dt,ft)):1===o?x(1,null):_(o)),!q&&n===Q&&e<$&&(K=Q=null,$=0)}t=t.return}}function g(t){p(t,1,!0)}function m(){return Y=2+((G()-X)/10|0)}function _(t){if(0!==lt){if(t>lt)return;j(ct)}var e=G()-X;lt=t,ct=B(y,{timeout:10*(t-2)-e})}function v(){var t=0,e=null;if(null!==ut)for(var n=ut,r=st;null!==r;){var o=r.remainingExpirationTime;if(0===o){if((null===n||null===ut)&&i("244"),r===r.nextScheduledRoot){st=ut=r.nextScheduledRoot=null;break}if(r===st)st=o=r.nextScheduledRoot,ut.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===ut){ut=n,ut.nextScheduledRoot=st,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===t||o<t)&&(t=o,e=r),r===ut)break;n=r,r=r.nextScheduledRoot}}n=dt,null!==n&&n===e?bt++:bt=0,dt=e,ft=t}function y(t){x(0,t)}function x(t,e){for(_t=e,v();null!==dt&&0!==ft&&(0===t||ft<=t)&&!pt;)w(dt,ft),v();if(null!==_t&&(lt=0,ct=-1),0!==ft&&_(ft),_t=null,pt=!1,bt=0,gt)throw t=mt,mt=null,gt=!1,t}function w(t,n){if(ht&&i("245"),ht=!0,n<=m()){var r=t.finishedWork;null!==r?(t.finishedWork=null,t.remainingExpirationTime=e(r)):(t.finishedWork=null,null!==(r=s(t,n))&&(t.remainingExpirationTime=e(r)))}else r=t.finishedWork,null!==r?(t.finishedWork=null,t.remainingExpirationTime=e(r)):(t.finishedWork=null,null!==(r=s(t,n))&&(b()?t.finishedWork=r:t.remainingExpirationTime=e(r)));ht=!1}function b(){return!(null===_t||_t.timeRemaining()>St)&&(pt=!0)}function S(t){null===dt&&i("246"),dt.remainingExpirationTime=0,gt||(gt=!0,mt=t)}var T=Me(t),P=Oe(t),A=T.popHostContainer,C=T.popHostContext,L=T.resetHostContainer,E=Le(t,T,P,f,d),k=E.beginWork,M=E.beginFailedWork,O=Ee(t,T,P).completeWork;T=ke(t,u);var I=T.commitResetTextContent,R=T.commitPlacement,N=T.commitDeletion,z=T.commitWork,V=T.commitLifeCycles,D=T.commitAttachRef,F=T.commitDetachRef,G=t.now,B=t.scheduleDeferredCallback,j=t.cancelDeferredCallback,H=t.useSyncScheduling,U=t.prepareForCommit,Z=t.resetAfterCommit,X=G(),Y=2,W=0,q=!1,K=null,Q=null,$=0,J=null,tt=null,et=null,nt=null,it=null,rt=!1,ot=!1,at=!1,st=null,ut=null,lt=0,ct=-1,ht=!1,dt=null,ft=0,pt=!1,gt=!1,mt=null,_t=null,vt=!1,yt=!1,xt=1e3,bt=0,St=1;return{computeAsyncExpiration:h,computeExpirationForFiber:d,scheduleWork:f,batchedUpdates:function(t,e){var n=vt;vt=!0;try{return t(e)}finally{(vt=n)||ht||x(1,null)}},unbatchedUpdates:function(t){if(vt&&!yt){yt=!0;try{return t()}finally{yt=!1}}return t()},flushSync:function(t){var e=vt;vt=!0;try{t:{var n=W;W=1;try{var r=t();break t}finally{W=n}r=void 0}return r}finally{vt=e,ht&&i("187"),x(1,null)}},deferredUpdates:function(t){var e=W;W=h();try{return t()}finally{W=e}}}}function Re(t){function e(t){return t=At(t),null===t?null:t.stateNode}var n=t.getPublicInstance;t=Ie(t);var r=t.computeAsyncExpiration,o=t.computeExpirationForFiber,a=t.scheduleWork;return{createContainer:function(t,e){var n=new oe(3,null,0);return t={current:n,containerInfo:t,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:e,nextScheduledRoot:null},n.stateNode=t},updateContainer:function(t,e,n,s){var u=e.current;if(n){n=n._reactInternalFiber;var l;t:{for(2===bt(n)&&2===n.tag||i("170"),l=n;3!==l.tag;){if(Jt(l)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}(l=l.return)||i("171")}l=l.stateNode.context}n=Jt(n)?ne(n,l):l}else n=Ln;null===e.context?e.context=n:e.pendingContext=n,e=s,e=void 0===e?null:e,s=null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent?r():o(u),ye(u,{expirationTime:s,partialState:{element:t},callback:e,isReplace:!1,isForced:!1,nextCallback:null,next:null}),a(u,s)},batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,flushSync:t.flushSync,getPublicRootInstance:function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return n(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:e,findHostInstanceWithNoPortals:function(t){return t=Ct(t),null===t?null:t.stateNode},injectIntoDevTools:function(t){var n=t.findFiberByHostInstance;return pe(wn({},t,{findHostInstanceByFiber:function(t){return e(t)},findFiberByHostInstance:function(t){return n?n(t):null}}))}}}function Ne(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:br,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}function ze(t){return!!Wr.hasOwnProperty(t)||!Yr.hasOwnProperty(t)&&(Xr.test(t)?Wr[t]=!0:(Yr[t]=!0,!1))}function Ve(t,e,n){var i=a(e);if(i&&o(e,n)){var r=i.mutationMethod;r?r(t,n):null==n||i.hasBooleanValue&&!n||i.hasNumericValue&&isNaN(n)||i.hasPositiveNumericValue&&1>n||i.hasOverloadedBooleanValue&&!1===n?Fe(t,e):i.mustUseProperty?t[i.propertyName]=n:(e=i.attributeName,(r=i.attributeNamespace)?t.setAttributeNS(r,e,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===n?t.setAttribute(e,""):t.setAttribute(e,""+n))}else De(t,e,o(e,n)?n:null)}function De(t,e,n){ze(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))}function Fe(t,e){var n=a(e);n?(e=n.mutationMethod)?e(t,void 0):n.mustUseProperty?t[n.propertyName]=!n.hasBooleanValue&&"":t.removeAttribute(n.attributeName):t.removeAttribute(e)}function Ge(t,e){var n=e.value,i=e.checked;return wn({type:void 0,step:void 0,min:void 0,max:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=i?i:t._wrapperState.initialChecked})}function Be(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function je(t,e){null!=(e=e.checked)&&Ve(t,"checked",e)}function He(t,e){je(t,e);var n=e.value;null!=n?0===n&&""===t.value?t.value="0":"number"===e.type?(e=parseFloat(t.value)||0,(n!=e||n==e&&t.value!=n)&&(t.value=""+n)):t.value!==""+n&&(t.value=""+n):(null==e.value&&null!=e.defaultValue&&t.defaultValue!==""+e.defaultValue&&(t.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked))}function Ue(t,e){switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":t.value="",t.value=t.defaultValue;break;default:t.value=t.value}e=t.name,""!==e&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==e&&(t.name=e)}function Ze(t){var e="";return yn.Children.forEach(t,function(t){null==t||"string"!==typeof t&&"number"!==typeof t||(e+=t)}),e}function Xe(t,e){return t=wn({children:void 0},e),(e=Ze(e.children))&&(t.children=e),t}function Ye(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+n,e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function We(t,e){var n=e.value;t._wrapperState={initialValue:null!=n?n:e.defaultValue,wasMultiple:!!e.multiple}}function qe(t,e){return null!=e.dangerouslySetInnerHTML&&i("91"),wn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ke(t,e){var n=e.value;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n&&i("92"),Array.isArray(e)&&(1>=e.length||i("93"),e=e[0]),n=""+e),null==n&&(n="")),t._wrapperState={initialValue:""+n}}function Qe(t,e){var n=e.value;null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function $e(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}function Je(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Je(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function en(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function nn(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=n,o=e[n];r=null==o||"boolean"===typeof o||""===o?"":i||"number"!==typeof o||0===o||$r.hasOwnProperty(r)&&$r[r]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}function rn(t,e,n){e&&(to[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&i("137",t,n()),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&i("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||i("61")),null!=e.style&&"object"!==typeof e.style&&i("62",n()))}function on(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function an(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=Nt(t);e=Kn[e];for(var i=0;i<e.length;i++){var r=e[i];n.hasOwnProperty(r)&&n[r]||("topScroll"===r?Mt("topScroll","scroll",t):"topFocus"===r||"topBlur"===r?(Mt("topFocus","focus",t),Mt("topBlur","blur",t),n.topBlur=!0,n.topFocus=!0):"topCancel"===r?(nt("cancel",!0)&&Mt("topCancel","cancel",t),n.topCancel=!0):"topClose"===r?(nt("close",!0)&&Mt("topClose","close",t),n.topClose=!0):qi.hasOwnProperty(r)&&kt(r,qi[r],t),n[r]=!0)}}function sn(t,e,n,i){return n=9===n.nodeType?n:n.ownerDocument,i===eo&&(i=Je(t)),i===eo?"script"===t?(t=n.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"===typeof e.is?n.createElement(t,{is:e.is}):n.createElement(t):t=n.createElementNS(i,t),t}function un(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function ln(t,e,n,i){var r=on(e,n);switch(e){case"iframe":case"object":kt("topLoad","load",t);var o=n;break;case"video":case"audio":for(o in io)io.hasOwnProperty(o)&&kt(o,io[o],t);o=n;break;case"source":kt("topError","error",t),o=n;break;case"img":case"image":kt("topError","error",t),kt("topLoad","load",t),o=n;break;case"form":kt("topReset","reset",t),kt("topSubmit","submit",t),o=n;break;case"details":kt("topToggle","toggle",t),o=n;break;case"input":Be(t,n),o=Ge(t,n),kt("topInvalid","invalid",t),an(i,"onChange");break;case"option":o=Xe(t,n);break;case"select":We(t,n),o=wn({},n,{value:void 0}),kt("topInvalid","invalid",t),an(i,"onChange");break;case"textarea":Ke(t,n),o=qe(t,n),kt("topInvalid","invalid",t),an(i,"onChange");break;default:o=n}rn(e,o,no);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];"style"===a?nn(t,u,no):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&Qr(t,u):"children"===a?"string"===typeof u?("textarea"!==e||""!==u)&&en(t,u):"number"===typeof u&&en(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(qn.hasOwnProperty(a)?null!=u&&an(i,a):r?De(t,a,u):null!=u&&Ve(t,a,u))}switch(e){case"input":ot(t),Ue(t,n);break;case"textarea":ot(t),$e(t,n);break;case"option":null!=n.value&&t.setAttribute("value",n.value);break;case"select":t.multiple=!!n.multiple,e=n.value,null!=e?Ye(t,!!n.multiple,e,!1):null!=n.defaultValue&&Ye(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=bn)}}function cn(t,e,n,i,r){var o=null;switch(e){case"input":n=Ge(t,n),i=Ge(t,i),o=[];break;case"option":n=Xe(t,n),i=Xe(t,i),o=[];break;case"select":n=wn({},n,{value:void 0}),i=wn({},i,{value:void 0}),o=[];break;case"textarea":n=qe(t,n),i=qe(t,i),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof i.onClick&&(t.onclick=bn)}rn(e,i,no);var a,s;t=null;for(a in n)if(!i.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!=n[a])if("style"===a)for(s in e=n[a])e.hasOwnProperty(s)&&(t||(t={}),t[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(qn.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in i){var u=i[a];if(e=null!=n?n[a]:void 0,i.hasOwnProperty(a)&&u!==e&&(null!=u||null!=e))if("style"===a)if(e){for(s in e)!e.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in u)u.hasOwnProperty(s)&&e[s]!==u[s]&&(t||(t={}),t[s]=u[s])}else t||(o||(o=[]),o.push(a,t)),t=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,e=e?e.__html:void 0,null!=u&&e!==u&&(o=o||[]).push(a,""+u)):"children"===a?e===u||"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(qn.hasOwnProperty(a)?(null!=u&&an(r,a),o||e===u||(o=[])):(o=o||[]).push(a,u))}return t&&(o=o||[]).push("style",t),o}function hn(t,e,n,i,r){"input"===n&&"radio"===r.type&&null!=r.name&&je(t,r),on(n,i),i=on(n,r);for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];"style"===a?nn(t,s,no):"dangerouslySetInnerHTML"===a?Qr(t,s):"children"===a?en(t,s):i?null!=s?De(t,a,s):t.removeAttribute(a):null!=s?Ve(t,a,s):Fe(t,a)}switch(n){case"input":He(t,r);break;case"textarea":Qe(t,r);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,n=r.value,null!=n?Ye(t,!!r.multiple,n,!1):e!==!!r.multiple&&(null!=r.defaultValue?Ye(t,!!r.multiple,r.defaultValue,!0):Ye(t,!!r.multiple,r.multiple?[]:"",!1))}}function dn(t,e,n,i,r){switch(e){case"iframe":case"object":kt("topLoad","load",t);break;case"video":case"audio":for(var o in io)io.hasOwnProperty(o)&&kt(o,io[o],t);break;case"source":kt("topError","error",t);break;case"img":case"image":kt("topError","error",t),kt("topLoad","load",t);break;case"form":kt("topReset","reset",t),kt("topSubmit","submit",t);break;case"details":kt("topToggle","toggle",t);break;case"input":Be(t,n),kt("topInvalid","invalid",t),an(r,"onChange");break;case"select":We(t,n),kt("topInvalid","invalid",t),an(r,"onChange");break;case"textarea":Ke(t,n),kt("topInvalid","invalid",t),an(r,"onChange")}rn(e,n,no),i=null;for(var a in n)n.hasOwnProperty(a)&&(o=n[a],"children"===a?"string"===typeof o?t.textContent!==o&&(i=["children",o]):"number"===typeof o&&t.textContent!==""+o&&(i=["children",""+o]):qn.hasOwnProperty(a)&&null!=o&&an(r,a));switch(e){case"input":ot(t),Ue(t,n);break;case"textarea":ot(t),$e(t,n);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(t.onclick=bn)}return i}function fn(t,e){return t.nodeValue!==e}function pn(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function gn(t){return!(!(t=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))}function mn(t,e,n,r,o){pn(n)||i("200");var a=n._reactRootContainer;if(a)so.updateContainer(e,a,t,o);else{if(!(r=r||gn(n)))for(a=void 0;a=n.lastChild;)n.removeChild(a);var s=so.createContainer(n,r);a=n._reactRootContainer=s,so.unbatchedUpdates(function(){so.updateContainer(e,s,t,o)})}return so.getPublicRootInstance(a)}function _n(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return pn(e)||i("200"),Ne(t,e,null,n)}function vn(t,e){this._reactRootContainer=so.createContainer(t,e)}var yn=n(0),xn=n(19),wn=n(1),bn=n(2),Sn=n(20),Tn=n(21),Pn=n(22),An=n(23),Cn=n(26),Ln=n(5);yn||i("227");var En={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},kn={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=kn,n=t.Properties||{},o=t.DOMAttributeNamespaces||{},a=t.DOMAttributeNames||{};t=t.DOMMutationMethods||{};for(var s in n){Mn.hasOwnProperty(s)&&i("48",s);var u=s.toLowerCase(),l=n[s];u={attributeName:u,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:r(l,e.MUST_USE_PROPERTY),hasBooleanValue:r(l,e.HAS_BOOLEAN_VALUE),hasNumericValue:r(l,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(l,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(l,e.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:r(l,e.HAS_STRING_BOOLEAN_VALUE)},1>=u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue||i("50",s),a.hasOwnProperty(s)&&(u.attributeName=a[s]),o.hasOwnProperty(s)&&(u.attributeNamespace=o[s]),t.hasOwnProperty(s)&&(u.mutationMethod=t[s]),Mn[s]=u}}},Mn={},On=kn,In=On.MUST_USE_PROPERTY,Rn=On.HAS_BOOLEAN_VALUE,Nn=On.HAS_NUMERIC_VALUE,zn=On.HAS_POSITIVE_NUMERIC_VALUE,Vn=On.HAS_OVERLOADED_BOOLEAN_VALUE,Dn=On.HAS_STRING_BOOLEAN_VALUE,Fn={Properties:{allowFullScreen:Rn,async:Rn,autoFocus:Rn,autoPlay:Rn,capture:Vn,checked:In|Rn,cols:zn,contentEditable:Dn,controls:Rn,default:Rn,defer:Rn,disabled:Rn,download:Vn,draggable:Dn,formNoValidate:Rn,hidden:Rn,loop:Rn,multiple:In|Rn,muted:In|Rn,noValidate:Rn,open:Rn,playsInline:Rn,readOnly:Rn,required:Rn,reversed:Rn,rows:zn,rowSpan:Nn,scoped:Rn,seamless:Rn,selected:In|Rn,size:zn,start:Nn,span:zn,spellCheck:Dn,style:0,tabIndex:0,itemScope:Rn,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:Dn},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(t,e){if(null==e)return t.removeAttribute("value");"number"!==t.type||!1===t.hasAttribute("value")?t.setAttribute("value",""+e):t.validity&&!t.validity.badInput&&t.ownerDocument.activeElement!==t&&t.setAttribute("value",""+e)}}},Gn=On.HAS_STRING_BOOLEAN_VALUE,Bn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},jn={Properties:{autoReverse:Gn,externalResourcesRequired:Gn,preserveAlpha:Gn},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Bn.xlink,xlinkArcrole:Bn.xlink,xlinkHref:Bn.xlink,xlinkRole:Bn.xlink,xlinkShow:Bn.xlink,xlinkTitle:Bn.xlink,xlinkType:Bn.xlink,xmlBase:Bn.xml,xmlLang:Bn.xml,xmlSpace:Bn.xml}},Hn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(t){var e=t.replace(Hn,s);jn.Properties[e]=0,jn.DOMAttributeNames[e]=t}),On.injectDOMPropertyConfig(Fn),On.injectDOMPropertyConfig(jn);var Un={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(t){"function"!==typeof t.invokeGuardedCallback&&i("197"),u=t.invokeGuardedCallback}},invokeGuardedCallback:function(t,e,n,i,r,o,a,s,l){u.apply(Un,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,n,i,r,o,a,s,u){if(Un.invokeGuardedCallback.apply(this,arguments),Un.hasCaughtError()){var l=Un.clearCaughtError();Un._hasRethrowError||(Un._hasRethrowError=!0,Un._rethrowError=l)}},rethrowCaughtError:function(){return l.apply(Un,arguments)},hasCaughtError:function(){return Un._hasCaughtError},clearCaughtError:function(){if(Un._hasCaughtError){var t=Un._caughtError;return Un._caughtError=null,Un._hasCaughtError=!1,t}i("198")}},Zn=null,Xn={},Yn=[],Wn={},qn={},Kn={},Qn=Object.freeze({plugins:Yn,eventNameDispatchConfigs:Wn,registrationNameModules:qn,registrationNameDependencies:Kn,possibleRegistrationNames:null,injectEventPluginOrder:d,injectEventPluginsByName:f}),$n=null,Jn=null,ti=null,ei=null,ni={injectEventPluginOrder:d,injectEventPluginsByName:f},ii=Object.freeze({injection:ni,getListener:x,extractEvents:w,enqueueEvents:b,processEventQueue:S}),ri=Math.random().toString(36).slice(2),oi="__reactInternalInstance$"+ri,ai="__reactEventHandlers$"+ri,si=Object.freeze({precacheFiberNode:function(t,e){e[oi]=t},getClosestInstanceFromNode:T,getInstanceFromNode:function(t){return t=t[oi],!t||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:P,getFiberCurrentPropsFromNode:A,updateFiberProps:function(t,e){t[ai]=e}}),ui=Object.freeze({accumulateTwoPhaseDispatches:R,accumulateTwoPhaseDispatchesSkipTarget:function(t){m(t,M)},accumulateEnterLeaveDispatches:N,accumulateDirectDispatches:function(t){m(t,I)}}),li=null,ci={_root:null,_startText:null,_fallbackText:null},hi="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),di={type:null,target:null,currentTarget:bn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};wn(F.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=bn.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=bn.thatReturnsTrue)},persist:function(){this.isPersistent=bn.thatReturnsTrue},isPersistent:bn.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<hi.length;e++)this[hi[e]]=null}}),F.Interface=di,F.augmentClass=function(t,e){function n(){}n.prototype=this.prototype;var i=new n;wn(i,t.prototype),t.prototype=i,t.prototype.constructor=t,t.Interface=wn({},this.Interface,e),t.augmentClass=this.augmentClass,j(t)},j(F),F.augmentClass(H,{data:null}),F.augmentClass(U,{data:null});var fi=[9,13,27,32],pi=xn.canUseDOM&&"CompositionEvent"in window,gi=null;xn.canUseDOM&&"documentMode"in document&&(gi=document.documentMode);var mi;if(mi=xn.canUseDOM&&"TextEvent"in window&&!gi){var _i=window.opera;mi=!("object"===typeof _i&&"function"===typeof _i.version&&12>=parseInt(_i.version(),10))}var vi,yi=mi,xi=xn.canUseDOM&&(!pi||gi&&8<gi&&11>=gi),wi=String.fromCharCode(32),bi={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Si=!1,Ti=!1,Pi={eventTypes:bi,extractEvents:function(t,e,n,i){var r;if(pi)t:{switch(t){case"topCompositionStart":var o=bi.compositionStart;break t;case"topCompositionEnd":o=bi.compositionEnd;break t;case"topCompositionUpdate":o=bi.compositionUpdate;break t}o=void 0}else Ti?Z(t,n)&&(o=bi.compositionEnd):"topKeyDown"===t&&229===n.keyCode&&(o=bi.compositionStart);return o?(xi&&(Ti||o!==bi.compositionStart?o===bi.compositionEnd&&Ti&&(r=V()):(ci._root=i,ci._startText=D(),Ti=!0)),o=H.getPooled(o,e,n,i),r?o.data=r:null!==(r=X(n))&&(o.data=r),R(o),r=o):r=null,(t=yi?Y(t,n):W(t,n))?(e=U.getPooled(bi.beforeInput,e,n,i),e.data=t,R(e)):e=null,[r,e]}},Ai=null,Ci=null,Li=null,Ei={injectFiberControlledHostComponent:function(t){Ai=t}},ki=Object.freeze({injection:Ei,enqueueStateRestore:K,restoreStateIfNeeded:Q}),Mi=!1,Oi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};xn.canUseDOM&&(vi=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Ii={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ri=null,Ni=null,zi=!1;xn.canUseDOM&&(zi=nt("input")&&(!document.documentMode||9<document.documentMode));var Vi={eventTypes:Ii,_isInputEventSupported:zi,extractEvents:function(t,e,n,i){var r=e?P(e):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=ct;else if(tt(r))if(zi)a=mt;else{a=pt;var s=ft}else!(o=r.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==r.type&&"radio"!==r.type||(a=gt);if(a&&(a=a(t,e)))return st(a,n,i);s&&s(t,r,e),"topBlur"===t&&null!=e&&(t=e._wrapperState||r._wrapperState)&&t.controlled&&"number"===r.type&&(t=""+r.value,r.getAttribute("value")!==t&&r.setAttribute("value",t))}};F.augmentClass(_t,{view:null,detail:null});var Di={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};_t.augmentClass(xt,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:yt,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}});var Fi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Gi={eventTypes:Fi,extractEvents:function(t,e,n,i){if("topMouseOver"===t&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==t&&"topMouseOver"!==t)return null;var r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window;if("topMouseOut"===t?(t=e,e=(e=n.relatedTarget||n.toElement)?T(e):null):t=null,t===e)return null;var o=null==t?r:P(t);r=null==e?r:P(e);var a=xt.getPooled(Fi.mouseLeave,t,n,i);return a.type="mouseleave",a.target=o,a.relatedTarget=r,n=xt.getPooled(Fi.mouseEnter,e,n,i),n.type="mouseenter",n.target=r,n.relatedTarget=o,N(a,n,t,e),[a,n]}},Bi=yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ji=[],Hi=!0,Ui=void 0,Zi=Object.freeze({get _enabled(){return Hi},get _handleTopLevel(){return Ui},setHandleTopLevel:function(t){Ui=t},setEnabled:Et,isEnabled:function(){return Hi},trapBubbledEvent:kt,trapCapturedEvent:Mt,dispatchEvent:Ot}),Xi={animationend:It("Animation","AnimationEnd"),animationiteration:It("Animation","AnimationIteration"),animationstart:It("Animation","AnimationStart"),transitionend:It("Transition","TransitionEnd")},Yi={},Wi={};xn.canUseDOM&&(Wi=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);var qi={topAbort:"abort",topAnimationEnd:Rt("animationend")||"animationend",topAnimationIteration:Rt("animationiteration")||"animationiteration",topAnimationStart:Rt("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Rt("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Ki={},Qi=0,$i="_reactListenersID"+(""+Math.random()).slice(2),Ji=xn.canUseDOM&&"documentMode"in document&&11>=document.documentMode,tr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},er=null,nr=null,ir=null,rr=!1,or={eventTypes:tr,extractEvents:function(t,e,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){t:{o=Nt(o),r=Kn.onSelect;for(var a=0;a<r.length;a++){var s=r[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}r=!o}if(r)return null;switch(o=e?P(e):window,t){case"topFocus":(tt(o)||"true"===o.contentEditable)&&(er=o,nr=e,ir=null);break;case"topBlur":ir=nr=er=null;break;case"topMouseDown":rr=!0;break;case"topContextMenu":case"topMouseUp":return rr=!1,Ft(n,i);case"topSelectionChange":if(Ji)break;case"topKeyDown":case"topKeyUp":return Ft(n,i)}return null}};F.augmentClass(Gt,{animationName:null,elapsedTime:null,pseudoElement:null}),F.augmentClass(Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_t.augmentClass(jt,{relatedTarget:null});var ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};_t.augmentClass(Ut,{key:function(t){if(t.key){var e=ar[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=Ht(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?sr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:yt,charCode:function(t){return"keypress"===t.type?Ht(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ht(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),xt.augmentClass(Zt,{dataTransfer:null}),_t.augmentClass(Xt,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:yt}),F.augmentClass(Yt,{propertyName:null,elapsedTime:null,pseudoElement:null}),xt.augmentClass(Wt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null});var ur={},lr={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(t){var e=t[0].toUpperCase()+t.slice(1),n="on"+e;e="top"+e,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[e]},ur[t]=n,lr[e]=n});var cr={eventTypes:ur,extractEvents:function(t,e,n,i){var r=lr[t];if(!r)return null;switch(t){case"topKeyPress":if(0===Ht(n))return null;case"topKeyDown":case"topKeyUp":t=Ut;break;case"topBlur":case"topFocus":t=jt;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":t=xt;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":t=Zt;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":t=Xt;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":t=Gt;break;case"topTransitionEnd":t=Yt;break;case"topScroll":t=_t;break;case"topWheel":t=Wt;break;case"topCopy":case"topCut":case"topPaste":t=Bt;break;default:t=F}return e=t.getPooled(r,e,n,i),R(e),e}};Ui=function(t,e,n,i){t=w(t,e,n,i),b(t),S(!1)},ni.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),$n=si.getFiberCurrentPropsFromNode,Jn=si.getInstanceFromNode,ti=si.getNodeFromInstance,ni.injectEventPluginsByName({SimpleEventPlugin:cr,EnterLeaveEventPlugin:Gi,ChangeEventPlugin:Vi,SelectEventPlugin:or,BeforeInputEventPlugin:Pi});var hr=[],dr=-1;new Set;var fr={current:Ln},pr={current:!1},gr=Ln,mr=null,_r=null,vr="function"===typeof Symbol&&Symbol.for,yr=vr?Symbol.for("react.element"):60103,xr=vr?Symbol.for("react.call"):60104,wr=vr?Symbol.for("react.return"):60105,br=vr?Symbol.for("react.portal"):60106,Sr=vr?Symbol.for("react.fragment"):60107,Tr="function"===typeof Symbol&&Symbol.iterator,Pr=Array.isArray,Ar=Ce(!0),Cr=Ce(!1),Lr={},Er=Object.freeze({default:Re}),kr=Er&&Re||Er,Mr=kr.default?kr.default:kr,Or="object"===typeof performance&&"function"===typeof performance.now,Ir=void 0;Ir=Or?function(){return performance.now()}:function(){return Date.now()};var Rr=void 0,Nr=void 0;if(xn.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var zr,Vr=null,Dr=!1,Fr=-1,Gr=!1,Br=0,jr=33,Hr=33;zr=Or?{didTimeout:!1,timeRemaining:function(){var t=Br-performance.now();return 0<t?t:0}}:{didTimeout:!1,timeRemaining:function(){var t=Br-Date.now();return 0<t?t:0}};var Ur="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===Ur){if(Dr=!1,t=Ir(),0>=Br-t){if(!(-1!==Fr&&Fr<=t))return void(Gr||(Gr=!0,requestAnimationFrame(Zr)));zr.didTimeout=!0}else zr.didTimeout=!1;Fr=-1,t=Vr,Vr=null,null!==t&&t(zr)}},!1);var Zr=function(t){Gr=!1;var e=t-Br+Hr;e<Hr&&jr<Hr?(8>e&&(e=8),Hr=e<jr?jr:e):jr=e,Br=t+Hr,Dr||(Dr=!0,window.postMessage(Ur,"*"))};Rr=function(t,e){return Vr=t,null!=e&&"number"===typeof e.timeout&&(Fr=Ir()+e.timeout),Gr||(Gr=!0,requestAnimationFrame(Zr)),0},Nr=function(){Vr=null,Dr=!1,Fr=-1}}else Rr=window.requestIdleCallback,Nr=window.cancelIdleCallback;else Rr=function(t){return setTimeout(function(){t({timeRemaining:function(){return 1/0}})})},Nr=function(t){clearTimeout(t)};var Xr=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yr={},Wr={},qr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Kr=void 0,Qr=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==qr.svg||"innerHTML"in t)t.innerHTML=e;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+e+"</svg>",e=Kr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),$r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jr=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(t){Jr.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$r[e]=$r[t]})});var to=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),eo=qr.html,no=bn.thatReturns(""),io={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ro=Object.freeze({createElement:sn,createTextNode:un,setInitialProperties:ln,diffProperties:cn,updateProperties:hn,diffHydratedProperties:dn,diffHydratedText:fn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,n){switch(e){case"input":if(He(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=A(r);o||i("90"),at(r),He(r,o)}}}break;case"textarea":Qe(t,n);break;case"select":null!=(e=n.value)&&Ye(t,!!n.multiple,e,!1)}}});Ei.injectFiberControlledHostComponent(ro);var oo=null,ao=null,so=Mr({getRootHostContext:function(t){var e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tn(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tn(t,e)}return t},getChildHostContext:function(t,e){return tn(t,e)},getPublicInstance:function(t){return t},prepareForCommit:function(){oo=Hi;var t=Tn();if(Dt(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){e=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{e.nodeType,r.nodeType}catch(t){e=null;break t}var o=0,a=-1,s=-1,u=0,l=0,c=t,h=null;e:for(;;){for(var d;c!==e||0!==i&&3!==c.nodeType||(a=o+i),c!==r||0!==n&&3!==c.nodeType||(s=o+n),3===c.nodeType&&(o+=c.nodeValue.length),null!==(d=c.firstChild);)h=c,c=d;for(;;){if(c===t)break e;if(h===e&&++u===i&&(a=o),h===r&&++l===n&&(s=o),null!==(d=c.nextSibling))break;c=h,h=c.parentNode}c=d}e=-1===a||-1===s?null:{start:a,end:s}}else e=null}e=e||{start:0,end:0}}else e=null;ao={focusedElem:t,selectionRange:e},Et(!1)},resetAfterCommit:function(){var t=ao,e=Tn(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&An(document.documentElement,n)){if(Dt(n))if(e=i.start,t=i.end,void 0===t&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(window.getSelection){e=window.getSelection();var r=n[z()].length;t=Math.min(i.start,r),i=void 0===i.end?t:Math.min(i.end,r),!e.extend&&t>i&&(r=i,i=t,t=r),r=Vt(n,t);var o=Vt(n,i);if(r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)){var a=document.createRange();a.setStart(r.node,r.offset),e.removeAllRanges(),t>i?(e.addRange(a),e.extend(o.node,o.offset)):(a.setEnd(o.node,o.offset),e.addRange(a))}}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(Cn(n),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}ao=null,Et(oo),oo=null},createInstance:function(t,e,n,i,r){return t=sn(t,e,n,i),t[oi]=r,t[ai]=e,t},appendInitialChild:function(t,e){t.appendChild(e)},finalizeInitialChildren:function(t,e,n,i){ln(t,e,n,i);t:{switch(e){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break t}t=!1}return t},prepareUpdate:function(t,e,n,i,r){return cn(t,e,n,i,r)},shouldSetTextContent:function(t,e){return"textarea"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"===typeof e.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(t,e){return!!e.hidden},createTextInstance:function(t,e,n,i){return t=un(t,e),t[oi]=i,t},now:Ir,mutation:{commitMount:function(t){t.focus()},commitUpdate:function(t,e,n,i,r){t[ai]=r,hn(t,e,n,i,r)},resetTextContent:function(t){t.textContent=""},commitTextUpdate:function(t,e,n){t.nodeValue=n},appendChild:function(t,e){t.appendChild(e)},appendChildToContainer:function(t,e){8===t.nodeType?t.parentNode.insertBefore(e,t):t.appendChild(e)},insertBefore:function(t,e,n){t.insertBefore(e,n)},insertInContainerBefore:function(t,e,n){8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},removeChildFromContainer:function(t,e){8===t.nodeType?t.parentNode.removeChild(e):t.removeChild(e)}},hydration:{canHydrateInstance:function(t,e){return 1!==t.nodeType||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t},canHydrateTextInstance:function(t,e){return""===e||3!==t.nodeType?null:t},getNextHydratableSibling:function(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},getFirstHydratableChild:function(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},hydrateInstance:function(t,e,n,i,r,o){return t[oi]=o,t[ai]=n,dn(t,e,n,r,i)},hydrateTextInstance:function(t,e,n){return t[oi]=n,fn(t,e)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Rr,cancelDeferredCallback:Nr,useSyncScheduling:!0});$=so.batchedUpdates,vn.prototype.render=function(t,e){so.updateContainer(t,this._reactRootContainer,null,e)},vn.prototype.unmount=function(t){so.updateContainer(null,this._reactRootContainer,null,t)};var uo={createPortal:_n,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(e)return so.findHostInstance(e);"function"===typeof t.render?i("188"):i("213",Object.keys(t))},hydrate:function(t,e,n){return mn(null,t,e,!0,n)},render:function(t,e,n){return mn(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&i("38"),mn(t,e,n,!1,r)},unmountComponentAtNode:function(t){return pn(t)||i("40"),!!t._reactRootContainer&&(so.unbatchedUpdates(function(){mn(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:_n,unstable_batchedUpdates:J,unstable_deferredUpdates:so.deferredUpdates,flushSync:so.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:ii,EventPluginRegistry:Qn,EventPropagators:ui,ReactControlledComponent:ki,ReactDOMComponentTree:si,ReactDOMEventListener:Zi}};so.injectIntoDevTools({findFiberByHostInstance:T,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var lo=Object.freeze({default:uo}),co=lo&&uo||lo;t.exports=co.default?co.default:co},function(t,e,n){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};t.exports=r},function(t,e,n){"use strict";var i=n(2),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:i}},registerDefault:function(){}};t.exports=r},function(t,e,n){"use strict";function i(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}t.exports=i},function(t,e,n){"use strict";function i(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function r(t,e){if(i(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!i(t[n[a]],e[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";function i(t,e){return!(!t||!e)&&(t===e||!r(t)&&(r(e)?i(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var r=n(24);t.exports=i},function(t,e,n){"use strict";function i(t){return r(t)&&3==t.nodeType}var r=n(25);t.exports=i},function(t,e,n){"use strict";function i(t){var e=t?t.ownerDocument||t:document,n=e.defaultView||window;return!(!t||!("function"===typeof n.Node?t instanceof n.Node:"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName))}t.exports=i},function(t,e,n){"use strict";function i(t){try{t.focus()}catch(t){}}t.exports=i},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(28),l=(n.n(u),n(29)),c=n(33),h=n(37),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o.state={data:{},rawData:[]},a=n,r(o,a)}return o(e,t),d(e,[{key:"componentWillMount",value:function(){var t=this;c.a.getCities().then(function(e){e&&t.handleData(e)}).catch(function(t){return console.error(t)})}},{key:"handleData",value:function(t){var e=this;l.a.forEach(function(n){if(n.chart){var i=Object.assign(e.state.data,{});i[n.aggregate]=e["get"+n.aggregate](t),e.setState({data:i,rawData:t})}else console.log("app.js",t),e.setState({rawData:t})})}},{key:"getTotal",value:function(t){return t.reduce(function(t,e){return t+e.population},0)}},{key:"getTopCountries",value:function(t){return JSON.parse(JSON.stringify(t)).sort(function(t,e){return e.population-t.population}).splice(0,9)}},{key:"getTotalPerRegion",value:function(t){var e=this,n={};return t.forEach(function(t){n[t.region]?n[t.region].push(t):n[t.region]=[t]}),Object.values(n).map(function(t){return{region:t[0].region,population:e.getTotal(t)}})}},{key:"render",value:function(){var t=this;return s.a.createElement("section",null,l.a.map(function(e){return s.a.createElement(h.a,Object.assign({key:e.id,data:t.state.data[e.aggregate],rawData:t.state.rawData},e))}))}}]),e}(a.Component);e.a=f},function(t,e){},function(t,e,n){"use strict";var i=n(30),r=n.n(i),o=[{id:r.a.v4(),type:"map",subComponents:[{id:r.a.v4(),type:"statBar",datapoints:[{key:"countries"},{key:"population"},{key:"area",postfix:"square miles"},{key:"languages"}]}]},{id:r.a.v4(),title:"Population per Continent",aggregate:"TotalPerRegion",datapoint:"Population",type:"chart",chart:{type:"bar"}},{id:r.a.v4(),title:"Population per Country",aggregate:"TopCountries",datapoint:"Population",type:"chart",chart:{type:"bar",filters:[{label:"Highest population",key:"highPop"},{label:"Lowest population",key:"lowPop"},{label:"Most dense population",key:"highDense"},{label:"Least dense population",key:"lowDense"}]}}];e.a=o},function(t,e,n){var i=n(31),r=n(32),o=r;o.v1=i,o.v4=r,t.exports=o},function(t,e,n){function i(t,e,n){var i=e&&n||0,r=e||[];t=t||{};var a=void 0!==t.clockseq?t.clockseq:u,h=void 0!==t.msecs?t.msecs:(new Date).getTime(),d=void 0!==t.nsecs?t.nsecs:c+1,f=h-l+(d-c)/1e4;if(f<0&&void 0===t.clockseq&&(a=a+1&16383),(f<0||h>l)&&void 0===t.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,c=d,u=a,h+=122192928e5;var p=(1e4*(268435455&h)+d)%4294967296;r[i++]=p>>>24&255,r[i++]=p>>>16&255,r[i++]=p>>>8&255,r[i++]=255&p;var g=h/4294967296*1e4&268435455;r[i++]=g>>>8&255,r[i++]=255&g,r[i++]=g>>>24&15|16,r[i++]=g>>>16&255,r[i++]=a>>>8|128,r[i++]=255&a;for(var m=t.node||s,_=0;_<6;++_)r[i+_]=m[_];return e||o(r)}var r=n(6),o=n(7),a=r(),s=[1|a[0],a[1],a[2],a[3],a[4],a[5]],u=16383&(a[6]<<8|a[7]),l=0,c=0;t.exports=i},function(t,e,n){function i(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}var r=n(6),o=n(7);t.exports=i},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=n(34),o=n.n(r),a=this,s={getCities:function(){function t(){return e.apply(this,arguments)}var e=i(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://restcountries.eu/rest/v2/all",{method:"GET"}).then(function(t){return 200!==t.status?(console.error("Failed to fetch data with error: "+t.status),null):(console.log("Finished fetching data"),t.json())}).catch(function(t){return console.error(t)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,a)}));return t}()};e.a=s},function(t,e,n){t.exports=n(35)},function(t,e,n){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n(36),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,i){var o=e&&e.prototype instanceof r?e:r,a=Object.create(o.prototype),s=new f(i||[]);return a._invoke=l(t,n,s),a}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(n,r,o,a){var s=i(t[n],t,r);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&v.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function n(t,n){function i(){return new Promise(function(i,r){e(t,n,i,r)})}return r=r?r.then(i,i):i()}var r;this._invoke=n}function l(t,e,n){var r=P;return function(o,a){if(r===C)throw new Error("Generator is already running");if(r===L){if("throw"===o)throw a;return g()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=c(s,n);if(u){if(u===E)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===P)throw r=L,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=C;var l=i(t,e,n);if("normal"===l.type){if(r=n.done?L:A,l.arg===E)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=L,n.method="throw",n.arg=l.arg)}}}function c(t,e){var n=t.iterator[e.method];if(n===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,c(t,e),"throw"===e.method))return E;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,E;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,E):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,E)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[x];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(v.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=m,e.done=!0,e};return i.next=i}}return{next:g}}function g(){return{value:m,done:!0}}var m,_=Object.prototype,v=_.hasOwnProperty,y="function"===typeof Symbol?Symbol:{},x=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",b=y.toStringTag||"@@toStringTag",S="object"===typeof t,T=e.regeneratorRuntime;if(T)return void(S&&(t.exports=T));T=e.regeneratorRuntime=S?t.exports:{},T.wrap=n;var P="suspendedStart",A="suspendedYield",C="executing",L="completed",E={},k={};k[x]=function(){return this};var M=Object.getPrototypeOf,O=M&&M(M(p([])));O&&O!==_&&v.call(O,x)&&(k=O);var I=a.prototype=r.prototype=Object.create(k);o.prototype=I.constructor=a,a.constructor=o,a[b]=o.displayName="GeneratorFunction",T.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},T.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,b in t||(t[b]="GeneratorFunction")),t.prototype=Object.create(I),t},T.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[w]=function(){return this},T.AsyncIterator=u,T.async=function(t,e,i,r){var o=new u(n(t,e,i,r));return T.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(I),I[b]="Generator",I[x]=function(){return this},I.toString=function(){return"[object Generator]"},T.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},T.values=p,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&v.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,i){return o.type="throw",o.arg=t,n.next=e,i&&(n.method="next",n.arg=m),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=v.call(r,"catchLoc"),s=v.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&v.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,E):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),E},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),d(n),E}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;d(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=m),E}}}(function(){return this}()||Function("return this")())},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(38),l=n(41),c=n(43),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),d=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),h(e,[{key:"render",value:function(){var t=this;return s.a.createElement("article",{className:"card"},this.props.title?s.a.createElement("header",null,s.a.createElement("h1",null,this.props.title)):null,s.a.createElement("main",null,"chart"===this.props.type?s.a.createElement(u.a,this.props):null,"map"===this.props.type?s.a.createElement(l.a,this.props):null,this.props.subComponents?this.props.subComponents.map(function(e){return"statBar"===e.type?s.a.createElement(c.a,Object.assign({key:e.id,data:t.props.rawData},e)):null}):null))}}]),e}(a.Component);e.a=d},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(39),l=n.n(u),c=n(8),h=n.n(c),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o.state={data:null},a=n,r(o,a)}return o(e,t),d(e,[{key:"componentDidMount",value:function(){var t=this;this.chart=l.a.generate({bindto:this.refs.chart,color:{pattern:["#FF5349","#292C44","#18CDCA","#4F80E1","#4F80E1"]},axis:{x:{type:"category",categories:[],tick:{format:function(e){return t.state.data[e].alpha3Code||t.state.data[e].region}}},y:{tick:{format:function(t){return h()(t).format("0a")}}}},data:{type:this.props.chart.type||"bar",columns:[]},legend:{show:!1},tooltip:{show:!1}})}},{key:"formatData",value:function(t){var e=this;return[].concat([this.props.datapoint],t.map(function(t){return t[e.state.datapoint||"population"]}))}},{key:"filterData",value:function(t){var e=[].concat(this.props.rawData),n="population";switch(t){case"highPop":e=e.sort(function(t,e){return e.population-t.population}).splice(0,9);break;case"lowPop":e=e.sort(function(t,e){return t.population-e.population}).splice(0,9);break;case"highDense":e=e.filter(function(t){return t.area}).map(function(t){return Object.assign(t,{density:t.population/t.area})}).sort(function(t,e){return e.density-t.density}).splice(0,9),n="density";break;case"lowDense":e=e.filter(function(t){return t.area}).map(function(t){return Object.assign(t,{density:t.population/t.area})}).sort(function(t,e){return t.population/t.area-e.population/e.area}).splice(0,9),n="density"}this.setState({data:e,datapoint:n,activeFilter:t})}},{key:"componentWillReceiveProps",value:function(t){t.data!==this.state.data&&this.setState({data:t.data}),t.chart.filters&&this.setState({activeFilter:t.chart.filters[0].key})}},{key:"componentDidUpdate",value:function(){this.state.data&&this.chart.load({columns:[this.formatData(this.state.data)],axis:{x:{categories:this.state.data.map(function(t){return t.alpha3Code})}}})}},{key:"render",value:function(){var t=this;return s.a.createElement("section",null,s.a.createElement("article",null,s.a.createElement("div",{className:"chart",ref:"chart"})),s.a.createElement("article",null,s.a.createElement("div",{className:"filters"},this.props.chart.filters?this.props.chart.filters.map(function(e){return s.a.createElement("button",{key:e.key,className:t.state.activeFilter===e.key?"active":"",onClick:function(){return t.filterData(e.key)}},e.label)}):null)))}}]),e}(a.Component);e.a=f},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t,e){var n=this;n.component=t,n.params=e||{},n.d3=t.d3,n.scale=n.d3.scale.linear(),n.range,n.orient="bottom",n.innerTickSize=6,n.outerTickSize=this.params.withOuterTick?6:0,n.tickPadding=3,n.tickValues=null,n.tickFormat,n.tickArguments,n.tickOffset=0,n.tickCulling=!0,n.tickCentered,n.tickTextCharSize,n.tickTextRotate=n.params.tickTextRotate,n.tickLength,n.axis=n.generateAxis()}function e(t,e,n){this.owner=t,k.chart.internal[e]=n}function i(t){var e=this.internal=new r(this);e.loadConfig(t),e.beforeInit(t),e.init(),e.afterInit(t),function t(e,n,i){Object.keys(e).forEach(function(r){n[r]=e[r].bind(i),Object.keys(e[r]).length>0&&t(e[r],n[r],i)})}(L,this,this)}function r(t){var e=this;e.d3=window.d3?window.d3:n(40),e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}var o,a,s={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},d=function(t){return t||0===t},f=function(t){return"function"===typeof t},p=function(t){return Array.isArray(t)},g=function(t){return"string"===typeof t},m=function(t){return"undefined"===typeof t},_=function(t){return"undefined"!==typeof t},v=function(t){return 10*Math.ceil(t/10)},y=function(t){return Math.ceil(t)+.5},x=function(t){return t[1]-t[0]},w=function(t){return"undefined"===typeof t||null===t||g(t)&&0===t.length||"object"===("undefined"===typeof t?"undefined":u(t))&&0===Object.keys(t).length},b=function(t){return!E.isEmpty(t)},S=function(t,e,n){return _(t[e])?t[e]:n},T=function(t,e){var n=!1;return Object.keys(t).forEach(function(i){t[i]===e&&(n=!0)}),n},P=function(t){return"string"===typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},A=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:e.width,height:e.height}};a=t.prototype,a.axisX=function(t,e,n){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"})},a.axisY=function(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})},a.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},a.generateTicks=function(t){var e,n,i=this,r=[];if(t.ticks)return t.ticks.apply(t,i.tickArguments);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)r.push(e);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r},a.copyScale=function(){var t,e=this,n=e.scale.copy();return e.params.isCategory&&(t=e.scale.domain(),n.domain([t[0],t[1]-1])),n},a.textFormatted=function(t){var e=this,n=e.tickFormat?e.tickFormat(t):t;return"undefined"!==typeof n?n:""},a.updateRange=function(){var t=this;return t.range=t.scale.rangeExtent?t.scale.rangeExtent():t.scaleExtent(t.scale.range()),t.range},a.updateTickTextCharSize=function(t){var e=this;if(e.tickTextCharSize)return e.tickTextCharSize;var n={h:11.5,w:5.5};return t.select("text").text(function(t){return e.textFormatted(t)}).each(function(t){var i=this.getBoundingClientRect(),r=e.textFormatted(t),o=i.height,a=r?i.width/r.length:void 0;o&&a&&(n.h=o,n.w=a)}).text(""),e.tickTextCharSize=n,n},a.transitionise=function(t){return this.params.withoutTransition?t:this.d3.transition(t)},a.isVertical=function(){return"left"===this.orient||"right"===this.orient},a.tspanData=function(t,e,n,i){var r=this,o=r.params.tickMultiline?r.splitTickText(t,n,i):[].concat(r.textFormatted(t));return o.map(function(t){return{index:e,splitted:t,length:o.length}})},a.splitTickText=function(t,e,n){function i(t,e){o=void 0;for(var n=1;n<e.length;n++)if(" "===e.charAt(n)&&(o=n),r=e.substr(0,n+1),a=s.tickTextCharSize.w*r.length,l<a)return i(t.concat(e.substr(0,o||n)),e.slice(o?o+1:n));return t.concat(e)}var r,o,a,s=this,u=s.textFormatted(t),l=s.params.tickWidth,c=[];return"[object Array]"===Object.prototype.toString.call(u)?u:((!l||l<=0)&&(l=s.isVertical()?95:s.params.isCategory?Math.ceil(n(e[1])-n(e[0]))-12:110),i(c,u+""))},a.updateTickLength=function(){var t=this;t.tickLength=Math.max(t.innerTickSize,0)+t.tickPadding},a.lineY2=function(t){var e=this,n=e.scale(t)+(e.tickCentered?0:e.tickOffset);return e.range[0]<n&&n<e.range[1]?e.innerTickSize:0},a.textY=function(){var t=this,e=t.tickTextRotate;return e?11.5-e/15*2.5*(e>0?1:-1):t.tickLength},a.textTransform=function(){var t=this,e=t.tickTextRotate;return e?"rotate("+e+")":""},a.textTextAnchor=function(){var t=this,e=t.tickTextRotate;return e?e>0?"start":"end":"middle"},a.tspanDx=function(){var t=this,e=t.tickTextRotate;return e?8*Math.sin(Math.PI*(e/180)):0},a.tspanDy=function(t,e){var n=this,i=n.tickTextCharSize.h;return 0===e&&(i=n.isVertical()?-((t.length-1)*(n.tickTextCharSize.h/2)-3):".71em"),i},a.generateAxis=function(){function t(r){r.each(function(){var r,o,a,s=t.g=n.select(this),u=this.__chart__||e.scale,l=this.__chart__=e.copyScale(),c=e.tickValues?e.tickValues:e.generateTicks(l),h=s.selectAll(".tick").data(c,l),d=h.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),f=h.exit().remove(),p=e.transitionise(h).style("opacity",1);i.isCategory?(e.tickOffset=Math.ceil((l(1)-l(0))/2),o=e.tickCentered?0:e.tickOffset,a=e.tickCentered?e.tickOffset:0):e.tickOffset=o=0,d.append("line"),d.append("text"),e.updateRange(),e.updateTickLength(),e.updateTickTextCharSize(s.select(".tick"));var g=p.select("line"),m=p.select("text"),_=h.select("text").selectAll("tspan").data(function(t,n){return e.tspanData(t,n,c,l)});_.enter().append("tspan"),_.exit().remove(),_.text(function(t){return t.splitted});var v=s.selectAll(".domain").data([0]),y=(v.enter().append("path").attr("class","domain"),e.transitionise(v));switch(e.orient){case"bottom":r=e.axisX,g.attr("x1",o).attr("x2",o).attr("y2",function(t,n){return e.lineY2(t,n)}),m.attr("x",0).attr("y",function(t,n){return e.textY(t,n)}).attr("transform",function(t,n){return e.textTransform(t,n)}).style("text-anchor",function(t,n){return e.textTextAnchor(t,n)}),_.attr("x",0).attr("dy",function(t,n){return e.tspanDy(t,n)}).attr("dx",function(t,n){return e.tspanDx(t,n)}),y.attr("d","M"+e.range[0]+","+e.outerTickSize+"V0H"+e.range[1]+"V"+e.outerTickSize);break;case"top":r=e.axisX,g.attr("x2",0).attr("y2",-e.innerTickSize),m.attr("x",0).attr("y",-e.tickLength).style("text-anchor","middle"),_.attr("x",0).attr("dy","0em"),y.attr("d","M"+e.range[0]+","+-e.outerTickSize+"V0H"+e.range[1]+"V"+-e.outerTickSize);break;case"left":r=e.axisY,g.attr("x2",-e.innerTickSize).attr("y1",a).attr("y2",a),m.attr("x",-e.tickLength).attr("y",e.tickOffset).style("text-anchor","end"),_.attr("x",-e.tickLength).attr("dy",function(t,n){return e.tspanDy(t,n)}),y.attr("d","M"+-e.outerTickSize+","+e.range[0]+"H0V"+e.range[1]+"H"+-e.outerTickSize);break;case"right":r=e.axisY,g.attr("x2",e.innerTickSize).attr("y2",0),m.attr("x",e.tickLength).attr("y",0).style("text-anchor","start"),_.attr("x",e.tickLength).attr("dy",function(t,n){return e.tspanDy(t,n)}),y.attr("d","M"+e.outerTickSize+","+e.range[0]+"H0V"+e.range[1]+"H"+e.outerTickSize)}if(l.rangeBand){var x=l,w=x.rangeBand()/2;u=l=function(t){return x(t)+w}}else u.rangeBand?u=l:f.call(r,l,e.tickOffset);d.call(r,u,e.tickOffset),p.call(r,l,e.tickOffset)})}var e=this,n=e.d3,i=e.params;return t.scale=function(n){return arguments.length?(e.scale=n,t):e.scale},t.orient=function(n){return arguments.length?(e.orient=n in{top:1,right:1,bottom:1,left:1}?n+"":"bottom",t):e.orient},t.tickFormat=function(n){return arguments.length?(e.tickFormat=n,t):e.tickFormat},t.tickCentered=function(n){return arguments.length?(e.tickCentered=n,t):e.tickCentered},t.tickOffset=function(){return e.tickOffset},t.tickInterval=function(){var n,r;return i.isCategory?n=2*e.tickOffset:(r=t.g.select("path.domain").node().getTotalLength()-2*e.outerTickSize,n=r/t.g.selectAll("line").size()),n===1/0?0:n},t.ticks=function(){return arguments.length?(e.tickArguments=arguments,t):e.tickArguments},t.tickCulling=function(n){return arguments.length?(e.tickCulling=n,t):e.tickCulling},t.tickValues=function(n){if("function"===typeof n)e.tickValues=function(){return n(e.scale.domain())};else{if(!arguments.length)return e.tickValues;e.tickValues=n}return t},t};var C=function(e){function n(e){l(this,n);var i={fn:o,internal:{fn:a}},r=h(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,"axis",i));return r.d3=e.d3,r.internal=t,r}return c(n,e),n}(e);o=C.prototype,o.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",s.axis+" "+s.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",s.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",s.axis+" "+s.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",s.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",s.axis+" "+s.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",s.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},o.getXAxis=function(t,e,n,i,r,o,a){var s=this.owner,u=s.config,l={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:u.axis_x_tick_multiline,tickWidth:u.axis_x_tick_width,tickTextRotate:a?0:u.axis_x_tick_rotate,withoutTransition:o},c=new this.internal(this,l).axis.scale(t).orient(e);return s.isTimeSeries()&&i&&"function"!==typeof i&&(i=i.map(function(t){return s.parseDate(t)})),c.tickFormat(n).tickValues(i),s.isCategorized()&&(c.tickCentered(u.axis_x_tick_centered),w(u.axis_x_tick_culling)&&(u.axis_x_tick_culling=!1)),c},o.updateXAxisTickValues=function(t,e){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),r.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},o.getYAxis=function(t,e,n,i,r,o,a){var s=this.owner,u=s.config,l={withOuterTick:r,withoutTransition:o,tickTextRotate:a?0:u.axis_y_tick_rotate},c=new this.internal(this,l).axis.scale(t).orient(e).tickFormat(n);return s.isTimeSeriesY()?c.ticks(s.d3.time[u.axis_y_tick_time_value],u.axis_y_tick_time_interval):c.tickValues(i),c},o.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},o.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t<0?t.toFixed(0):t};return e.axis_x_tick_format&&(f(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),f(n)?function(e){return n.call(t,e)}:n},o.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},o.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},o.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},o.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},o.getLabelOptionByAxisId=function(t){var e,n=this.owner,i=n.config;return"y"===t?e=i.axis_y_label:"y2"===t?e=i.axis_y2_label:"x"===t&&(e=i.axis_x_label),e},o.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return g(e)?e:e?e.text:null},o.setLabelText=function(t,e){var n=this.owner,i=n.config,r=this.getLabelOptionByAxisId(t);g(r)?"y"===t?i.axis_y_label=e:"y2"===t?i.axis_y2_label=e:"x"===t&&(i.axis_x_label=e):r&&(r.text=e)},o.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=n&&"object"===("undefined"===typeof n?"undefined":u(n))&&n.position?n.position:e;return{isInner:i.indexOf("inner")>=0,isOuter:i.indexOf("outer")>=0,isLeft:i.indexOf("left")>=0,isCenter:i.indexOf("center")>=0,isRight:i.indexOf("right")>=0,isTop:i.indexOf("top")>=0,isMiddle:i.indexOf("middle")>=0,isBottom:i.indexOf("bottom")>=0}},o.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},o.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},o.textForXAxisLabel=function(){return this.getLabelText("x")},o.textForYAxisLabel=function(){return this.getLabelText("y")},o.textForY2AxisLabel=function(){return this.getLabelText("y2")},o.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},o.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},o.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},o.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},o.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},o.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},o.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},o.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},o.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},o.getMaxTickWidth=function(t,e){var n,i,r,o,a,s=this.owner,u=s.config,l=0;return e&&s.currentMaxTickWidths[t]?s.currentMaxTickWidths[t]:(s.svg&&(n=s.filterTargetsToShow(s.data.targets),"y"===t?(i=s.y.copy().domain(s.getYDomain(n,"y")),r=this.getYAxis(i,s.yOrient,u.axis_y_tick_format,s.yAxisTickValues,!1,!0,!0)):"y2"===t?(i=s.y2.copy().domain(s.getYDomain(n,"y2")),r=this.getYAxis(i,s.y2Orient,u.axis_y2_tick_format,s.y2AxisTickValues,!1,!0,!0)):(i=s.x.copy().domain(s.getXDomain(n)),r=this.getXAxis(i,s.xOrient,s.xAxisTickFormat,s.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),o=s.d3.select("body").append("div").classed("c3",!0),a=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a.append("g").call(r).each(function(){s.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();l<t.width&&(l=t.width)}),o.remove()})),s.currentMaxTickWidths[t]=l<=0?s.currentMaxTickWidths[t]:l,s.currentMaxTickWidths[t])},o.updateLabels=function(t){var e=this.owner,n=e.main.select("."+s.axisX+" ."+s.axisXLabel),i=e.main.select("."+s.axisY+" ."+s.axisYLabel),r=e.main.select("."+s.axisY2+" ."+s.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},o.getPadding=function(t,e,n,i){var r="number"===typeof t?t:t[e];return d(r)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(r,i):n},o.convertPixelsToAxisPadding=function(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},o.generateTickValues=function(t,e,n){var i,r,o,a,s,u,l,c=t;if(e)if(1===(i=f(e)?e():e))c=[t[0]];else if(2===i)c=[t[0],t[t.length-1]];else if(i>2){for(a=i-2,r=t[0],o=t[t.length-1],s=(o-r)/(a+1),c=[r],u=0;u<a;u++)l=+r+s*(u+1),c.push(n?new Date(l):l);c.push(o)}return n||(c=c.sort(function(t,e){return t-e})),c},o.generateTransitions=function(t){var e=this.owner,n=e.axes;return{axisX:t?n.x.transition().duration(t):n.x,axisY:t?n.y.transition().duration(t):n.y,axisY2:t?n.y2.transition().duration(t):n.y2,axisSubX:t?n.subx.transition().duration(t):n.subx}},o.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)};var L,E,k={version:"0.4.18"};return k.generate=function(t){return new i(t)},k.chart={fn:i.prototype,internal:{fn:r.prototype}},L=k.chart.fn,E=k.chart.internal.fn,E.beforeInit=function(){},E.afterInit=function(){},E.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},E.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},E.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},E.initWithData=function(t){var e,n,i=this,r=i.d3,o=i.config,a=!0;i.axis=new C(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),o.bindto?"function"===typeof o.bindto.node?i.selectChart=o.bindto:i.selectChart=r.select(o.bindto):i.selectChart=r.selectAll([]),i.selectChart.empty()&&(i.selectChart=r.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),a=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),o.data_filter&&(i.data.targets=i.data.targets.filter(o.data_filter)),o.data_hide&&i.addHiddenTargetIds(!0===o.data_hide?i.mapToIds(i.data.targets):o.data_hide),o.legend_hide&&i.addHiddenLegendIds(!0===o.legend_hide?i.mapToIds(i.data.targets):o.legend_hide),i.hasType("gauge")&&(o.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(r.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),o.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(i)}).on("mouseleave",function(){return o.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),e=i.svg.append("defs"),i.clipChart=i.appendClip(e,i.clipId),i.clipXAxis=i.appendClip(e,i.clipIdForXAxis),i.clipYAxis=i.appendClip(e,i.clipIdForYAxis),i.clipGrid=i.appendClip(e,i.clipIdForGrid),i.clipSubchart=i.appendClip(e,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),n.append("text").attr("class",s.text+" "+s.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",s.chart),o.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),n.insert("rect",o.zoom_privileged?null:"g."+s.regions).attr("class",s.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),a&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.api.element=i.selectChart.node()},E.smoothLines=function(t,e){var n=this;"grid"===e&&t.each(function(){var t=n.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),r=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(r),y2:Math.ceil(o)})})},E.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!o?e.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+s+r+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:NaN,bottom:a+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},E.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},E.showTargets=function(){var t=this;t.svg.selectAll("."+s.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},E.redraw=function(t,e){var n,i,r,o,a,u,l,c,h,d,f,p,g,m,_,v,y,x,w,b,T,P,A,C,L,E,k,M,O,I=this,R=I.main,N=I.d3,z=I.config,V=I.getShapeIndices(I.isAreaType),D=I.getShapeIndices(I.isBarType),F=I.getShapeIndices(I.isLineType),G=I.hasArcType(),B=I.filterTargetsToShow(I.data.targets),j=I.xv.bind(I);if(t=t||{},n=S(t,"withY",!0),i=S(t,"withSubchart",!0),r=S(t,"withTransition",!0),u=S(t,"withTransform",!1),l=S(t,"withUpdateXDomain",!1),c=S(t,"withUpdateOrgXDomain",!1),h=S(t,"withTrimXDomain",!0),g=S(t,"withUpdateXAxis",l),d=S(t,"withLegend",!1),f=S(t,"withEventRect",!0),p=S(t,"withDimension",!0),o=S(t,"withTransitionForExit",r),a=S(t,"withTransitionForAxis",r),w=r?z.transition_duration:0,b=o?w:0,T=a?w:0,e=e||I.axis.generateTransitions(T),d&&z.legend_show?I.updateLegend(I.mapToIds(I.data.targets),t,e):p&&I.updateDimension(!0),I.isCategorized()&&0===B.length&&I.x.domain([0,I.axes.x.selectAll(".tick").size()]),B.length?(I.updateXDomain(B,l,c,h),z.axis_x_tick_values||(C=I.axis.updateXAxisTickValues(B))):(I.xAxis.tickValues([]),I.subXAxis.tickValues([])),z.zoom_rescale&&!t.flow&&(k=I.x.orgDomain()),I.y.domain(I.getYDomain(B,"y",k)),I.y2.domain(I.getYDomain(B,"y2",k)),!z.axis_y_tick_values&&z.axis_y_tick_count&&I.yAxis.tickValues(I.axis.generateTickValues(I.y.domain(),z.axis_y_tick_count)),!z.axis_y2_tick_values&&z.axis_y2_tick_count&&I.y2Axis.tickValues(I.axis.generateTickValues(I.y2.domain(),z.axis_y2_tick_count)),I.axis.redraw(e,G),I.axis.updateLabels(r),(l||g)&&B.length)if(z.axis_x_tick_culling&&C){for(L=1;L<C.length;L++)if(C.length/L<z.axis_x_tick_culling_max){E=L;break}I.svg.selectAll("."+s.axisX+" .tick text").each(function(t){var e=C.indexOf(t);e>=0&&N.select(this).style("display",e%E?"none":"block")})}else I.svg.selectAll("."+s.axisX+" .tick text").style("display","block");m=I.generateDrawArea?I.generateDrawArea(V,!1):void 0,_=I.generateDrawBar?I.generateDrawBar(D):void 0,v=I.generateDrawLine?I.generateDrawLine(F,!1):void 0,y=I.generateXYForText(V,D,F,!0),x=I.generateXYForText(V,D,F,!1),n&&(I.subY.domain(I.getYDomain(B,"y")),I.subY2.domain(I.getYDomain(B,"y2"))),I.updateXgridFocus(),R.select("text."+s.text+"."+s.empty).attr("x",I.width/2).attr("y",I.height/2).text(z.data_empty_label_text).transition().style("opacity",B.length?0:1),I.updateGrid(w),I.updateRegion(w),I.updateBar(b),I.updateLine(b),I.updateArea(b),I.updateCircle(),I.hasDataLabel()&&I.updateText(b),I.redrawTitle&&I.redrawTitle(),I.redrawArc&&I.redrawArc(w,b,u),I.redrawSubchart&&I.redrawSubchart(i,e,w,b,V,D,F),R.selectAll("."+s.selectedCircles).filter(I.isBarType.bind(I)).selectAll("circle").remove(),z.interaction_enabled&&!t.flow&&f&&(I.redrawEventRect(),I.updateZoom&&I.updateZoom()),I.updateCircleY(),M=(I.config.axis_rotated?I.circleY:I.circleX).bind(I),O=(I.config.axis_rotated?I.circleX:I.circleY).bind(I),t.flow&&(A=I.generateFlow({targets:B,flow:t.flow,duration:t.flow.duration,drawBar:_,drawLine:v,drawArea:m,cx:M,cy:O,xv:j,xForText:y,yForText:x})),(w||A)&&I.isTabVisible()?N.transition().duration(w).each(function(){var e=[];[I.redrawBar(_,!0),I.redrawLine(v,!0),I.redrawArea(m,!0),I.redrawCircle(M,O,!0),I.redrawText(y,x,t.flow,!0),I.redrawRegion(!0),I.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),P=I.generateWait(),e.forEach(function(t){P.add(t)})}).call(P,function(){A&&A(),z.onrendered&&z.onrendered.call(I)}):(I.redrawBar(_),I.redrawLine(v),I.redrawArea(m),I.redrawCircle(M,O),I.redrawText(y,x,t.flow),I.redrawRegion(),I.redrawGrid(),z.onrendered&&z.onrendered.call(I)),I.mapToIds(I.data.targets).forEach(function(t){I.withoutFadeIn[t]=!0})},E.updateAndRedraw=function(t){var e,n=this,i=n.config;t=t||{},t.withTransition=S(t,"withTransition",!0),t.withTransform=S(t,"withTransform",!1),t.withLegend=S(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=S(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&i.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},E.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},E.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},E.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},E.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||b(e.data_xs))},E.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},E.getTranslate=function(t){var e,n,i=this,r=i.config;return"main"===t?(e=y(i.margin.left),n=y(i.margin.top)):"context"===t?(e=y(i.margin2.left),n=y(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=r.axis_rotated?0:i.height):"y"===t?(e=0,n=r.axis_rotated?i.height:0):"y2"===t?(e=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===t?(e=0,n=r.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2),"translate("+e+","+n+")"},E.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},E.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},E.opacityForCircle=function(t){var e=f(this.config.point_show)?this.config.point_show(t):this.config.point_show,n=e?1:0;return d(t.value)?this.isScatterType(t)?.5:n:0},E.opacityForText=function(){return this.hasDataLabel()?1:0},E.xx=function(t){return t?this.x(t.x):null},E.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"===typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},E.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},E.subxx=function(t){return t?this.subX(t.x):null},E.transformMain=function(t,e){var n,i,r,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+s.axisX),t&&(n=n.transition())),e&&e.axisY?i=e.axisY:(i=o.main.select("."+s.axisY),t&&(i=i.transition())),e&&e.axisY2?r=e.axisY2:(r=o.main.select("."+s.axisY2),t&&(r=r.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),i.attr("transform",o.getTranslate("y")),r.attr("transform",o.getTranslate("y2")),o.main.select("."+s.chartArcs).attr("transform",o.getTranslate("arc"))},E.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},E.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+s.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},E.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},E.observeInserted=function(t){var e,n=this;if("undefined"===typeof MutationObserver)return void window.console.error("MutationObserver not defined.");e=new MutationObserver(function(i){i.forEach(function(i){"childList"===i.type&&i.previousSibling&&(e.disconnect(),n.intervalForObserveInserted=window.setInterval(function(){t.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))},10))})}),e.observe(t.node(),{attributes:!0,childList:!0,characterData:!0})},E.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.api.flush()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),window.attachEvent)window.attachEvent("onresize",t.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",t.resizeFunction,!1);else{var n=window.onresize;n?n.add&&n.remove||(n=t.generateResize(),n.add(window.onresize)):n=t.generateResize(),n.add(t.resizeFunction),window.onresize=n}},E.generateResize=function(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t.remove=function(t){for(var n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}},t},E.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},E.generateWait=function(){var t=[],e=function(e,n){var i=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(t){e+=1}}),e===t.length&&(clearInterval(i),n&&n())},10)};return e.add=function(e){t.push(e)},e},E.parseDate=function(t){var e,n=this;return t instanceof Date?e=t:"string"===typeof t?e=n.dataTimeFormat(n.config.data_xFormat).parse(t):"object"===("undefined"===typeof t?"undefined":u(t))?e=new Date(+t):"number"!==typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},E.isTabVisible=function(){var t;return"undefined"!==typeof document.hidden?t="hidden":"undefined"!==typeof document.mozHidden?t="mozHidden":"undefined"!==typeof document.msHidden?t="msHidden":"undefined"!==typeof document.webkitHidden&&(t="webkitHidden"),!document[t]},E.isValue=d,E.isFunction=f,E.isString=g,E.isUndefined=m,E.isDefined=_,E.ceil10=v,E.asHalfPixel=y,E.diffDomain=x,E.isEmpty=w,E.notEmpty=b,E.notEmpty=b,E.getOption=S,E.hasValue=T,E.sanitise=P,E.getPathBox=A,E.CLASS=s,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,i,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,i,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,i,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,r,o){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,r,o,a){return new window.SVGPathSegArcAbs(void 0,t,e,n,i,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,r,o,a){return new window.SVGPathSegArcRel(void 0,t,e,n,i,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach(function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(t){this.pathSegList.push(t)};var i=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},i.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var t=0,e=0,n=1,i=0,r=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var u=this._currentIndex-1,l=1;u>=s;)e+=l*(this._string.charAt(u--)-"0"),l*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(++this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n*=10,i+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=e+i;if(c*=r,t&&(c*=Math.pow(10,o*t)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},i.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((n=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(e,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(e,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(e,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(e,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var r=new n,o=new i(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList})}(),L.axis=function(){},L.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},L.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"===("undefined"===typeof t?"undefined":u(t))?(d(t.x)&&(n.axis_x_max=t.x),d(t.y)&&(n.axis_y_max=t.y),d(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},L.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"===("undefined"===typeof t?"undefined":u(t))?(d(t.x)&&(n.axis_x_min=t.x),d(t.y)&&(n.axis_y_min=t.y),d(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},L.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};_(t.max)&&this.axis.max(t.max),_(t.min)&&this.axis.min(t.min)},L.category=function(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},L.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},L.resize=function(t){var e=this.internal,n=e.config;n.size_width=t?t.width:null,n.size_height=t?t.height:null,this.flush()},L.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},L.destroy=function(){var t=this.internal;if(window.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),window.detachEvent)window.detachEvent("onresize",t.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",t.resizeFunction);else{var e=window.onresize;e&&e.add&&e.remove&&e.remove(t.resizeFunction)}return t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach(function(e){t[e]=null}),null},L.color=function(t){return this.internal.color(t)},L.data=function(t){var e=this.internal.data.targets;return"undefined"===typeof t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},L.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},L.data.values=function(t){var e,n=null;return t&&(e=this.data(t),n=e[0]?e[0].values.map(function(t){return t.value}):null),n},L.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},L.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},L.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},L.flow=function(t){var e,n,i,r,o,a,s,u=this.internal,l=[],c=u.getMaxDataCount(),h=0,f=0;if(t.json)n=u.convertJsonToData(t.json,t.keys);else if(t.rows)n=u.convertRowsToData(t.rows);else{if(!t.columns)return;n=u.convertColumnsToData(t.columns)}e=u.convertDataToTargets(n,!0),u.data.targets.forEach(function(t){var n,i,r=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(r=!0,t.values[t.values.length-1]&&(f=t.values[t.values.length-1].index+1),h=e[n].values.length,i=0;i<h;i++)e[n].values[i].index=f+i,u.isTimeSeries()||(e[n].values[i].x=f+i);t.values=t.values.concat(e[n].values),e.splice(n,1);break}r||l.push(t.id)}),u.data.targets.forEach(function(t){var e,n;for(e=0;e<l.length;e++)if(t.id===l[e])for(f=t.values[t.values.length-1].index+1,n=0;n<h;n++)t.values.push({id:t.id,index:f+n,x:u.isTimeSeries()?u.getOtherTargetX(f+n):f+n,value:null})}),u.data.targets.length&&e.forEach(function(t){var e,n=[];for(e=u.data.targets[0].values[0].index;e<f;e++)n.push({id:t.id,index:e,x:u.isTimeSeries()?u.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=f,u.isTimeSeries()||(t.x+=f)}),t.values=n.concat(t.values)}),u.data.targets=u.data.targets.concat(e),u.getMaxDataCount(),r=u.data.targets[0],o=r.values[0],_(t.to)?(h=0,s=u.isTimeSeries()?u.parseDate(t.to):t.to,r.values.forEach(function(t){t.x<s&&h++})):_(t.length)&&(h=t.length),c?1===c&&u.isTimeSeries()&&(a=(r.values[r.values.length-1].x-o.x)/2,i=[new Date(+o.x-a),new Date(+o.x+a)],u.updateXDomain(null,!0,!0,!1,i)):(a=u.isTimeSeries()?r.values.length>1?r.values[r.values.length-1].x-o.x:o.x-u.getXDomain(u.data.targets)[0]:1,i=[o.x-a,o.x],u.updateXDomain(null,!0,!0,!1,i)),u.updateTargets(u.data.targets),u.redraw({flow:{index:o.index,length:h,duration:d(t.duration)?t.duration:u.config.transition_duration,done:t.done,orgDataCount:c},withLegend:!0,withTransition:c>1,withTrimXDomain:!1,withUpdateXAxis:!0})},E.generateFlow=function(t){var e=this,n=e.config,i=e.d3;return function(){var r,o,a,u=t.targets,l=t.flow,c=t.drawBar,h=t.drawLine,d=t.drawArea,f=t.cx,p=t.cy,g=t.xv,m=t.xForText,_=t.yForText,v=t.duration,y=1,w=l.index,b=l.length,S=e.getValueOnIndex(e.data.targets[0].values,w),T=e.getValueOnIndex(e.data.targets[0].values,w+b),P=e.x.domain(),A=l.duration||v,C=l.done||function(){},L=e.generateWait(),E=e.xgrid||i.selectAll([]),k=e.xgridLines||i.selectAll([]),M=e.mainRegion||i.selectAll([]),O=e.mainText||i.selectAll([]),I=e.mainBar||i.selectAll([]),R=e.mainLine||i.selectAll([]),N=e.mainArea||i.selectAll([]),z=e.mainCircle||i.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,b)}),a=e.updateXDomain(u,!0,!0),e.updateXGrid&&e.updateXGrid(!0),l.orgDataCount?r=1===l.orgDataCount||(S&&S.x)===(T&&T.x)?e.x(P[0])-e.x(a[0]):e.isTimeSeries()?e.x(P[0])-e.x(a[0]):e.x(S.x)-e.x(T.x):1!==e.data.targets[0].values.length?r=e.x(P[0])-e.x(a[0]):e.isTimeSeries()?(S=e.getValueOnIndex(e.data.targets[0].values,0),T=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),r=e.x(S.x)-e.x(T.x)):r=x(a)/2,y=x(P)/x(a),o="translate("+r+",0) scale("+y+",1)",e.hideXGridFocus(),i.transition().ease("linear").duration(A).each(function(){L.add(e.axes.x.transition().call(e.xAxis)),L.add(I.transition().attr("transform",o)),L.add(R.transition().attr("transform",o)),L.add(N.transition().attr("transform",o)),L.add(z.transition().attr("transform",o)),L.add(O.transition().attr("transform",o)),L.add(M.filter(e.isRegionOnX).transition().attr("transform",o)),L.add(E.transition().attr("transform",o)),L.add(k.transition().attr("transform",o))}).call(L,function(){var t,i=[],r=[],o=[];if(b){for(t=0;t<b;t++)i.push("."+s.shape+"-"+(w+t)),r.push("."+s.text+"-"+(w+t)),o.push("."+s.eventRect+"-"+(w+t));e.svg.selectAll("."+s.shapes).selectAll(i).remove(),e.svg.selectAll("."+s.texts).selectAll(r).remove(),e.svg.selectAll("."+s.eventRects).selectAll(o).remove(),e.svg.select("."+s.xgrid).remove()}E.attr("transform",null).attr(e.xgridAttr),k.attr("transform",null),k.select("line").attr("x1",n.axis_rotated?0:g).attr("x2",n.axis_rotated?e.width:g),k.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",g),I.attr("transform",null).attr("d",c),R.attr("transform",null).attr("d",h),N.attr("transform",null).attr("d",d),z.attr("transform",null).attr("cx",f).attr("cy",p),O.attr("transform",null).attr("x",m).attr("y",_).style("fill-opacity",e.opacityForText.bind(e)),M.attr("transform",null),M.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),C(),e.flowing=!1})}},L.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(s.focused,!0).classed(s.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},L.defocus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),e.classed(s.focused,!1).classed(s.defocused,!0),n.hasArcType()&&n.unexpandArc(t),n.toggleFocusLegend(t,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),n.defocusedTargetIds=t},L.revert=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t)),e.classed(s.focused,!1).classed(s.defocused,!1),n.hasArcType()&&n.unexpandArc(t),n.config.legend_show&&(n.showLegend(t.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(t)).filter(function(){return n.d3.select(this).classed(s.legendItemFocused)}).classed(s.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},L.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},L.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},L.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},L.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},L.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},L.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},L.groups=function(t){var e=this.internal,n=e.config;return m(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)},L.legend=function(){},L.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},L.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},L.load=function(t){var e=this.internal,n=e.config;if(t.xs&&e.addXs(t.xs),"names"in t&&L.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds))return void e.load(e.getCaches(t.cacheIds),t.done);"unload"in t?e.unload(e.mapToTargetIds("boolean"===typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t)},L.unload=function(t){var e=this.internal;t=t||{},t instanceof Array?t={ids:t}:"string"===typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},L.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},L.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},L.regions.remove=function(t){var e,n,i,r=this.internal,o=r.config;return t=t||{},e=r.getOption(t,"duration",o.transition_duration),n=r.getOption(t,"classes",[s.region]),i=r.main.select("."+s.regions).selectAll(n.map(function(t){return"."+t})),(e?i.transition().duration(e):i).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e)}),o.regions},L.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+s.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+s.shape).filter(function(){return n.select(this).classed(s.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},L.select=function(t,e,n){var i=this.internal,r=i.d3,o=i.config;o.data_selection_enabled&&i.main.selectAll("."+s.shapes).selectAll("."+s.shape).each(function(a,u){var l=r.select(this),c=a.data?a.data.id:a.id,h=i.getToggle(this,a).bind(i),d=o.data_selection_grouped||!t||t.indexOf(c)>=0,f=!e||e.indexOf(u)>=0,p=l.classed(s.SELECTED);l.classed(s.line)||l.classed(s.area)||(d&&f?o.data_selection_isselectable(a)&&!p&&h(!0,l.classed(s.SELECTED,!0),a,u):_(n)&&n&&p&&h(!1,l.classed(s.SELECTED,!1),a,u))})},L.unselect=function(t,e){var n=this.internal,i=n.d3,r=n.config;r.data_selection_enabled&&n.main.selectAll("."+s.shapes).selectAll("."+s.shape).each(function(o,a){var u=i.select(this),l=o.data?o.data.id:o.id,c=n.getToggle(this,o).bind(n),h=r.data_selection_grouped||!t||t.indexOf(l)>=0,d=!e||e.indexOf(a)>=0,f=u.classed(s.SELECTED);u.classed(s.line)||u.classed(s.area)||h&&d&&r.data_selection_isselectable(o)&&f&&c(!1,u.classed(s.SELECTED,!1),o,a)})},L.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),n=i.svg.selectAll(i.selectorTargets(t)),n.transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},L.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),n=i.svg.selectAll(i.selectorTargets(t)),n.transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},L.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach(function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},L.tooltip=function(){},L.tooltip.show=function(t){var e,n,i=this.internal;t.mouse&&(n=t.mouse),t.data?i.isMultipleX()?(n=[i.x(t.data.x),i.getYScale(t.data.id)(t.data.value)],e=null):e=d(t.data.index)?t.data.index:i.getIndexByX(t.data.x):"undefined"!==typeof t.x?e=i.getIndexByX(t.x):"undefined"!==typeof t.index&&(e=t.index),i.dispatchEvent("mouseover",e,n),i.dispatchEvent("mousemove",e,n),i.config.tooltip_onshow.call(i,t.data)},L.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},L.transform=function(t,e){var n=this.internal,i=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,i)},E.transformTo=function(t,e,n){var i=this,r=!i.hasArcType(),o=n||{withTransitionForAxis:r};o.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(o)},L.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},L.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},L.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},L.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},L.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},L.zoom.max=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=i.max([e.orgXDomain[1],t])},L.zoom.min=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=i.min([e.orgXDomain[0],t])},L.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};_(t.max)&&this.domain.max(t.max),_(t.min)&&this.domain.min(t.min)},E.initPie=function(){var t=this,e=t.d3;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),t.pie.sort(t.getOrderFunction()||null)},E.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},E.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},E.updateAngle=function(t){var e,n,i,r,o=this,a=o.config,s=!1,u=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(e){s||e.data.id!==t.data.id||(s=!0,t=e,t.index=u),u++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),o.isGaugeType(t.data)&&(e=a.gauge_min,n=a.gauge_max,i=Math.PI*(a.gauge_fullCircle?2:1)/(n-e),r=t.value<e?0:t.value<n?t.value-e:n-e,t.startAngle=a.gauge_startingAngle,t.endAngle=t.startAngle+i*r),s?t:null):null},E.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),n=function(n,i){var r;return i?e(n):(r=t.updateAngle(n),r?e(r):"M 0 0")};return n.centroid=e.centroid,n},E.getSvgArcExpanded=function(t){var e=this,n=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t||1)).innerRadius(e.innerRadius);return function(t){var i=e.updateAngle(t);return i?n(i):"M 0 0"}},E.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},E.transformForArcLabel=function(t){var e,n,i,r,o,a=this,s=a.config,u=a.updateAngle(t),l="";return u&&!a.hasType("gauge")&&(e=this.svgArc.centroid(u),n=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1],r=Math.sqrt(n*n+i*i),o=a.hasType("donut")&&s.donut_label_ratio?f(s.donut_label_ratio)?s.donut_label_ratio(t,a.radius,r):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?f(s.pie_label_ratio)?s.pie_label_ratio(t,a.radius,r):s.pie_label_ratio:a.radius&&r?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/r:0,l="translate("+n*o+","+i*o+")"),l},E.getArcRatio=function(t){var e=this,n=e.config,i=Math.PI*(e.hasType("gauge")&&!n.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/i:null},E.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},E.textForArcLabel=function(t){var e,n,i,r,o,a=this;return a.shouldShowArcLabel()?(e=a.updateAngle(t),n=e?e.value:null,i=a.getArcRatio(e),r=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(i)?(o=a.getArcLabelFormat(),o?o(n,i,r):a.defaultArcValueFormat(n,i)):""):""},E.textForGaugeMinMax=function(t,e){var n=this,i=n.getGaugeLabelExtents();return i?i(t,e):t},E.expandArc=function(t){var e,n=this;if(n.transiting)return void(e=window.setInterval(function(){n.transiting||(window.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))},10));t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+s.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})})},E.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+s.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+s.arc))},E.expandDuration=function(t){var e=this,n=e.config;return e.isDonutType(t)?n.donut_expand_duration:e.isGaugeType(t)?n.gauge_expand_duration:e.isPieType(t)?n.pie_expand_duration:50},E.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},E.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},E.meetsArcLabelThreshold=function(t){var e=this,n=e.config;return t>=(e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold)},E.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},E.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},E.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},E.updateTargetsForArc=function(t){var e,n,i=this,r=i.main,o=i.classChartArc.bind(i),a=i.classArcs.bind(i),u=i.classFocus.bind(i);e=r.select("."+s.chartArcs).selectAll("."+s.chartArc).data(i.pie(t)).attr("class",function(t){return o(t)+u(t.data)}),n=e.enter().append("g").attr("class",o),n.append("g").attr("class",a),n.append("text").attr("dy",i.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},E.initArc=function(){var t=this;t.arcs=t.main.select("."+s.chart).append("g").attr("class",s.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",s.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},E.redrawArc=function(t,e,n){var i,r=this,o=r.d3,a=r.config,u=r.main;i=u.selectAll("."+s.arcs).selectAll("."+s.arc).data(r.arcData.bind(r)),i.enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return a.interaction_enabled&&a.data_selection_isselectable(t)?"pointer":null}).each(function(t){r.isGaugeType(t.data)&&(t.startAngle=t.endAngle=a.gauge_startingAngle),this._current=t}),i.attr("transform",function(t){return!r.isGaugeType(t.data)&&n?"scale(0)":""}).on("mouseover",a.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t))&&(n=r.convertToArcData(e),r.expandArc(e.data.id),r.api.focus(e.data.id),r.toggleFocusLegend(e.data.id,!0),r.config.data_onmouseover(n,this))}:null).on("mousemove",a.interaction_enabled?function(t){var e,n,i=r.updateAngle(t);i&&(e=r.convertToArcData(i),n=[e],r.showTooltip(n,this))}:null).on("mouseout",a.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t))&&(n=r.convertToArcData(e),r.unexpandArc(e.data.id),r.api.revert(),r.revertLegend(),r.hideTooltip(),r.config.data_onmouseout(n,this))}:null).on("click",a.interaction_enabled?function(t,e){var n,i=r.updateAngle(t);i&&(n=r.convertToArcData(i),r.toggleShape&&r.toggleShape(this,n,e),r.config.data_onclick.call(r.api,n,this))}:null).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,n=r.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=o.interpolate(this._current,n),this._current=e(0),function(n){var i=e(n);return i.data=t.data,r.getArc(i,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).call(r.endall,function(){r.transiting=!1}),i.exit().transition().duration(e).style("opacity",0).remove(),u.selectAll("."+s.chartArc).select("text").style("opacity",0).attr("class",function(t){return r.isGaugeType(t.data)?s.gaugeValue:""}).text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(t){return r.isGaugeType(t.data)?Math.round(r.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?1:0}),u.select("."+s.chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?1:0),r.hasType("gauge")&&(r.arcs.select("."+s.chartArcsBackground).attr("d",function(){var t={data:[{value:a.gauge_max}],startAngle:a.gauge_startingAngle,endAngle:-1*a.gauge_startingAngle};return r.getArc(t,!0,!0)}),r.arcs.select("."+s.chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),r.arcs.select("."+s.chartArcsGaugeMin).attr("dx",-1*(r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(a.gauge_label_show?r.textForGaugeMinMax(a.gauge_min,!1):""),r.arcs.select("."+s.chartArcsGaugeMax).attr("dx",r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(a.gauge_label_show?r.textForGaugeMinMax(a.gauge_max,!0):""))},E.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",s.chartArcsBackground),t.append("text").attr("class",s.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",s.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",s.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},E.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},E.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},E.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},E.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n},E.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},E.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},E.classText=function(t){return this.generateClass(s.text,t.index)},E.classTexts=function(t){return this.generateClass(s.texts,t.id)},E.classShape=function(t){return this.generateClass(s.shape,t.index)},E.classShapes=function(t){return this.generateClass(s.shapes,t.id)},E.classLine=function(t){return this.classShape(t)+this.generateClass(s.line,t.id)},E.classLines=function(t){return this.classShapes(t)+this.generateClass(s.lines,t.id)},E.classCircle=function(t){return this.classShape(t)+this.generateClass(s.circle,t.index)},E.classCircles=function(t){return this.classShapes(t)+this.generateClass(s.circles,t.id)},E.classBar=function(t){return this.classShape(t)+this.generateClass(s.bar,t.index)},E.classBars=function(t){return this.classShapes(t)+this.generateClass(s.bars,t.id)},E.classArc=function(t){return this.classShape(t.data)+this.generateClass(s.arc,t.data.id)},E.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(s.arcs,t.data.id)},E.classArea=function(t){return this.classShape(t)+this.generateClass(s.area,t.id)},E.classAreas=function(t){return this.classShapes(t)+this.generateClass(s.areas,t.id)},E.classRegion=function(t,e){return this.generateClass(s.region,e)+" "+("class"in t?t.class:"")},E.classEvent=function(t){return this.generateClass(s.eventRect,t.index)},E.classTarget=function(t){var e=this,n=e.config.data_classes[t],i="";return n&&(i=" "+s.target+"-"+n),e.generateClass(s.target,t)+i},E.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},E.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?s.focused:"")},E.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?s.defocused:"")},E.classChartText=function(t){return s.chartText+this.classTarget(t.id)},E.classChartLine=function(t){return s.chartLine+this.classTarget(t.id)},E.classChartBar=function(t){return s.chartBar+this.classTarget(t.id)},E.classChartArc=function(t){return s.chartArc+this.classTarget(t.data.id)},E.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},E.selectorTarget=function(t,e){return(e||"")+"."+s.target+this.getTargetSelectorSuffix(t)},E.selectorTargets=function(t,e){var n=this;return t=t||[],t.length?t.map(function(t){return n.selectorTarget(t,e)}):null},E.selectorLegend=function(t){return"."+s.legendItem+this.getTargetSelectorSuffix(t)},E.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},E.getClipPath=function(t){return"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+t+")"},E.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},E.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},E.getAxisClipY=function(t){return t?-20:-this.margin.top},E.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},E.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},E.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},E.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},E.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),i=Math.max(30,e.margin.right);return t?e.width+2+n+i:e.margin.left+20},E.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},E.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},E.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},E.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},E.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},E.generateColor=function(){var t=this,e=t.config,n=t.d3,i=e.data_colors,r=b(e.color_pattern)?e.color_pattern:n.scale.category10().range(),o=e.data_color,a=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return i[n]instanceof Function?e=i[n](t):i[n]?e=i[n]:(a.indexOf(n)<0&&a.push(n),e=r[a.indexOf(n)%r.length],i[n]=e),o instanceof Function?o(e,t):e}},E.generateLevelColor=function(){var t=this,e=t.config,n=e.color_pattern,i=e.color_threshold,r="value"===i.unit,o=i.values&&i.values.length?i.values:[],a=i.max||100;return b(e.color_threshold)?function(t){var e,i=n[n.length-1];for(e=0;e<o.length;e++)if((r?t:100*t/a)<o[e]){i=n[e];break}return i}:null},E.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},E.additionalConfig={},E.loadConfig=function(t){function e(){var t=i.shift();return t&&n&&"object"===("undefined"===typeof n?"undefined":u(n))&&t in n?(n=n[t],e()):t?void 0:n}var n,i,r,o=this.config;Object.keys(o).forEach(function(a){n=t,i=a.split("_"),r=e(),_(r)&&(o[a]=r)})},E.convertUrlToData=function(t,e,n,i,r){var o=this,a=e||"csv",s=o.d3.xhr(t);n&&Object.keys(n).forEach(function(t){s.header(t,n[t])}),s.get(function(t,e){var n,s=e.response||e.responseText;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");n="json"===a?o.convertJsonToData(JSON.parse(s),i):"tsv"===a?o.convertTsvToData(s):o.convertCsvToData(s),r.call(o,n)})},E.convertXsvToData=function(t,e){var n,i=e.parseRows(t);return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},E.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},E.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},E.convertJsonToData=function(t,e){var n,i,r=this,o=[];return e?(e.x?(n=e.value.concat(e.x),r.config.data_x=e.x):n=e.value,o.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var i=r.findValueInJson(t,n);m(i)&&(i=null),e.push(i)}),o.push(e)}),i=r.convertRowsToData(o)):(Object.keys(t).forEach(function(e){o.push([e].concat(t[e]))}),i=r.convertColumnsToData(o)),i},E.findValueInJson=function(t,e){e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var n=e.split("."),i=0;i<n.length;++i){var r=n[i];if(!(r in t))return;t=t[r]}return t},E.convertRowsToData=function(t){for(var e=[],n=t[0],i=1;i<t.length;i++){for(var r={},o=0;o<t[i].length;o++){if(m(t[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");r[n[o]]=t[i][o]}e.push(r)}return e},E.convertColumnsToData=function(t){for(var e=[],n=0;n<t.length;n++)for(var i=t[n][0],r=1;r<t[n].length;r++){if(m(e[r-1])&&(e[r-1]={}),m(t[n][r]))throw new Error("Source data is missing a component at ("+n+","+r+")!");e[r-1][i]=t[n][r]}return e},E.convertDataToTargets=function(t,e){var n,i=this,r=i.config,o=i.d3.keys(t[0]).filter(i.isNotX,i),a=i.d3.keys(t[0]).filter(i.isX,i);return o.forEach(function(n){var o=i.getXKey(n);i.isCustomX()||i.isTimeSeries()?a.indexOf(o)>=0?i.data.xs[n]=(e&&i.data.xs[n]?i.data.xs[n]:[]).concat(t.map(function(t){return t[o]}).filter(d).map(function(t,e){return i.generateTargetX(t,n,e)})):r.data_x?i.data.xs[n]=i.getOtherTargetXs():b(r.data_xs)&&(i.data.xs[n]=i.getXValuesOfXKey(o,i.data.targets)):i.data.xs[n]=t.map(function(t,e){return e})}),o.forEach(function(t){if(!i.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),n=o.map(function(e,n){var o=r.data_idConverter(e);return{id:o,id_org:e,values:t.map(function(t,a){var s,u=i.getXKey(e),l=t[u],c=null===t[e]||isNaN(t[e])?null:+t[e];return i.isCustomX()&&i.isCategorized()&&!m(l)?(0===n&&0===a&&(r.axis_x_categories=[]),-1===(s=r.axis_x_categories.indexOf(l))&&(s=r.axis_x_categories.length,r.axis_x_categories.push(l))):s=i.generateTargetX(l,e,a),(m(t[e])||i.data.xs[e].length<=a)&&(s=void 0),{x:s,value:c,id:o}}).filter(function(t){return _(t.x)})}}),n.forEach(function(t){var e;r.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),e=0,t.values.forEach(function(t){t.index=e++}),i.data.xs[t.id].sort(function(t,e){return t-e})}),i.hasNegativeValue=i.hasNegativeValueInTargets(n),i.hasPositiveValue=i.hasPositiveValueInTargets(n),r.data_type&&i.setTargetType(i.mapToIds(n).filter(function(t){return!(t in r.data_types)}),r.data_type),n.forEach(function(t){i.addCache(t.id_org,t)}),n},E.isX=function(t){var e=this,n=e.config;return n.data_x&&t===n.data_x||b(n.data_xs)&&T(n.data_xs,t)},E.isNotX=function(t){return!this.isX(t)},E.getXKey=function(t){var e=this,n=e.config;return n.data_x?n.data_x:b(n.data_xs)?n.data_xs[t]:null},E.getXValuesOfXKey=function(t,e){var n,i=this;return(e&&b(e)?i.mapToIds(e):[]).forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},E.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},E.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&d(n.data.xs[t][e])?n.data.xs[t][e]:e},E.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},E.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},E.addXs=function(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},E.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},E.isMultipleX=function(){return b(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},E.addName=function(t){var e,n=this;return t&&(e=n.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},E.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},E.updateTargetX=function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(i,r){i.x=n.generateTargetX(e[r],t.id,r)}),n.data.xs[t.id]=e})},E.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},E.generateTargetX=function(t,e,n){var i=this;return i.isTimeSeries()?t?i.parseDate(t):i.parseDate(i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()?d(t)?+t:i.getXValue(e,n):n},E.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},E.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},E.getPrevX=function(t){var e=this.xs[t-1];return"undefined"!==typeof e?e:null},E.getNextX=function(t){var e=this.xs[t+1];return"undefined"!==typeof e?e:null},E.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},E.getMaxDataCountTarget=function(t){var e,n=t.length,i=0;return n>1?t.forEach(function(t){t.values.length>i&&(e=t,i=t.values.length)}):e=n?t[0]:null,e},E.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},E.mapToIds=function(t){return t.map(function(t){return t.id})},E.mapToTargetIds=function(t){var e=this;return t?[].concat(t):e.mapToIds(e.data.targets)},E.hasTarget=function(t,e){var n,i=this.mapToIds(t);for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},E.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},E.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},E.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},E.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return n=e.isTimeSeries()?n.map(function(t){return new Date(+t)}):n.map(function(t){return+t}),n.sort(function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN})},E.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]))},E.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},E.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},E.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},E.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e},E.checkValueInTargets=function(t,e){var n,i,r,o=Object.keys(t);for(n=0;n<o.length;n++)for(r=t[o[n]].values,i=0;i<r.length;i++)if(e(r[i].value))return!0;return!1},E.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},E.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},E.isOrderDesc=function(){var t=this.config;return"string"===typeof t.data_order&&"desc"===t.data_order.toLowerCase()},E.isOrderAsc=function(){var t=this.config;return"string"===typeof t.data_order&&"asc"===t.data_order.toLowerCase()},E.getOrderFunction=function(){var t=this,e=t.config,n=t.isOrderAsc(),i=t.isOrderDesc();if(n||i)return function(t,e){var n=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(n,0),o=e.values.reduce(n,0);return i?o-r:r-o};if(f(e.data_order))return e.data_order;if(p(e.data_order)){var r=e.data_order;return function(t,e){return r.indexOf(t.id)-r.indexOf(e.id)}}},E.orderTargets=function(t){var e=this.getOrderFunction();return e&&(t.sort(e),(this.isOrderAsc()||this.isOrderDesc())&&t.reverse()),t},E.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e===0})},E.filterRemoveNull=function(t){return t.filter(function(t){return d(t.value)})},E.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},E.hasDataLabel=function(){var t=this.config;return!("boolean"!==typeof t.data_labels||!t.data_labels)||!("object"!==u(t.data_labels)||!b(t.data_labels))},E.getDataLabelLength=function(t,e,n){var i=this,r=[0,0];return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=1.3*this.getBoundingClientRect()[n]}).remove(),r},E.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},E.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},E.findSameXOfValues=function(t,e){var n,i=t[e].x,r=[];for(n=e-1;n>=0&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},E.findClosestFromTargets=function(t,e){var n,i=this;return n=t.map(function(t){return i.findClosest(t.values,e)}),i.findClosest(n,e)},E.findClosest=function(t,e){var n,i=this,r=i.config.point_sensitivity;return t.filter(function(t){return t&&i.isBarType(t.id)}).forEach(function(t){var e=i.main.select("."+s.bars+i.getTargetSelectorSuffix(t.id)+" ."+s.bar+"-"+t.index).node();!n&&i.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!i.isBarType(t.id)}).forEach(function(t){var o=i.dist(t,e);o<r&&(r=o,n=t)}),n},E.dist=function(t,e){var n=this,i=n.config,r=i.axis_rotated?1:0,o=i.axis_rotated?0:1,a=n.circleY(t,t.index),s=n.x(t.x);return Math.sqrt(Math.pow(s-e[r],2)+Math.pow(a-e[o],2))},E.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},E.updateDataAttributes=function(t,e){var n=this,i=n.config,r=i["data_"+t];return"undefined"===typeof e?r:(Object.keys(e).forEach(function(t){r[t]=e[t]}),n.redraw({withLegend:!0}),r)},E.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){var i=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,i)}),n.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},E.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},E.unload=function(t,e){var n=this;if(e||(e=function(){}),!(t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}))||0===t.length)return void e();n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+s.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})},E.getYDomainMin=function(t){var e,n,i,r,o,a,s=this,u=s.config,l=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(u.data_groups.length>0)for(a=s.hasNegativeValueInTargets(t),e=0;e<u.data_groups.length;e++)if(r=u.data_groups[e].filter(function(t){return l.indexOf(t)>=0}),0!==r.length)for(i=r[0],a&&c[i]&&c[i].forEach(function(t,e){c[i][e]=t<0?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(i)||!c[i]||a&&+t>0||(c[i][e]+=+t)});return s.d3.min(Object.keys(c).map(function(t){return s.d3.min(c[t])}))},E.getYDomainMax=function(t){var e,n,i,r,o,a,s=this,u=s.config,l=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(u.data_groups.length>0)for(a=s.hasPositiveValueInTargets(t),e=0;e<u.data_groups.length;e++)if(r=u.data_groups[e].filter(function(t){return l.indexOf(t)>=0}),0!==r.length)for(i=r[0],a&&c[i]&&c[i].forEach(function(t,e){c[i][e]=t>0?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(i)||!c[i]||a&&+t<0||(c[i][e]+=+t)});return s.d3.max(Object.keys(c).map(function(t){return s.d3.max(c[t])}))},E.getYDomain=function(t,e,n){var i,r,o,a,s,u,l,c,h,f,p=this,g=p.config,m=t.filter(function(t){return p.axis.getId(t.id)===e}),_=n?p.filterByXDomain(m,n):m,v="y2"===e?g.axis_y2_min:g.axis_y_min,y="y2"===e?g.axis_y2_max:g.axis_y_max,w=p.getYDomainMin(_),S=p.getYDomainMax(_),T="y2"===e?g.axis_y2_center:g.axis_y_center,P=p.hasType("bar",_)&&g.bar_zerobased||p.hasType("area",_)&&g.area_zerobased,A="y2"===e?g.axis_y2_inverted:g.axis_y_inverted,C=p.hasDataLabel()&&g.axis_rotated,L=p.hasDataLabel()&&!g.axis_rotated;return w=d(v)?v:d(y)?w<y?w:y-10:w,S=d(y)?y:d(v)?v<S?S:v+10:S,0===_.length?"y2"===e?p.y2.domain():p.y.domain():(isNaN(w)&&(w=0),isNaN(S)&&(S=w),w===S&&(w<0?S=0:w=0),h=w>=0&&S>=0,f=w<=0&&S<=0,(d(v)&&h||d(y)&&f)&&(P=!1),P&&(h&&(w=0),f&&(S=0)),r=Math.abs(S-w),o=a=.1*r,"undefined"!==typeof T&&(s=Math.max(Math.abs(w),Math.abs(S)),S=T+s,w=T-s),C?(u=p.getDataLabelLength(w,S,"width"),l=x(p.y.range()),c=[u[0]/l,u[1]/l],o+=r*(c[1]/(1-c[0]-c[1])),a+=r*(c[0]/(1-c[0]-c[1]))):L&&(u=p.getDataLabelLength(w,S,"height"),o+=p.axis.convertPixelsToAxisPadding(u[1],r),a+=p.axis.convertPixelsToAxisPadding(u[0],r)),"y"===e&&b(g.axis_y_padding)&&(o=p.axis.getPadding(g.axis_y_padding,"top",o,r),a=p.axis.getPadding(g.axis_y_padding,"bottom",a,r)),"y2"===e&&b(g.axis_y2_padding)&&(o=p.axis.getPadding(g.axis_y2_padding,"top",o,r),a=p.axis.getPadding(g.axis_y2_padding,"bottom",a,r)),P&&(h&&(a=w),f&&(o=-S)),i=[w-a,S+o],A?i.reverse():i)},E.getXDomainMin=function(t){var e=this,n=e.config;return _(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},E.getXDomainMax=function(t){var e=this,n=e.config;return _(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},E.getXDomainPadding=function(t){var e,n,i,r,o=this,a=o.config,s=t[1]-t[0];return o.isCategorized()?n=0:o.hasType("bar")?(e=o.getMaxDataCount(),n=e>1?s/(e-1)/2:.5):n=.01*s,"object"===u(a.axis_x_padding)&&b(a.axis_x_padding)?(i=d(a.axis_x_padding.left)?a.axis_x_padding.left:n,r=d(a.axis_x_padding.right)?a.axis_x_padding.right:n):i=r="number"===typeof a.axis_x_padding?a.axis_x_padding:n,{left:i,right:r}},E.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],o=e.getXDomainPadding(n),a=0,s=0;return i-r!==0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(a=e.isTimeSeries()?new Date(i.getTime()-o.left):i-o.left),(r||0===r)&&(s=e.isTimeSeries()?new Date(r.getTime()+o.right):r+o.right),[a,s]},E.updateXDomain=function(t,e,n,i,r){var o=this,a=o.config;return n&&(o.x.domain(r||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(r||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent())),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),i&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},E.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t},E.drag=function(t){var e,n,i,r,o,a,u,l,c=this,h=c.config,d=c.main,f=c.d3;c.hasArcType()||h.data_selection_enabled&&(h.zoom_enabled&&!c.zoom.altDomain||h.data_selection_multiple&&(e=c.dragStart[0],n=c.dragStart[1],i=t[0],r=t[1],o=Math.min(e,i),a=Math.max(e,i),u=h.data_selection_grouped?c.margin.top:Math.min(n,r),l=h.data_selection_grouped?c.height:Math.max(n,r),d.select("."+s.dragarea).attr("x",o).attr("y",u).attr("width",a-o).attr("height",l-u),d.selectAll("."+s.shapes).selectAll("."+s.shape).filter(function(t){return h.data_selection_isselectable(t)}).each(function(t,e){var n,i,r,h,d,p,g=f.select(this),m=g.classed(s.SELECTED),_=g.classed(s.INCLUDED),v=!1;if(g.classed(s.circle))n=1*g.attr("cx"),i=1*g.attr("cy"),d=c.togglePoint,v=o<n&&n<a&&u<i&&i<l;else{if(!g.classed(s.bar))return;p=A(this),n=p.x,i=p.y,r=p.width,h=p.height,d=c.togglePath,v=!(a<n||n+r<o)&&!(l<i||i+h<u)}v^_&&(g.classed(s.INCLUDED,!_),g.classed(s.SELECTED,!m),d.call(c,!m,g,t,e))})))},E.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+s.chart).append("rect").attr("class",s.dragarea).style("opacity",.1),e.dragging=!0)},E.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+s.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+s.shape).classed(s.INCLUDED,!1),t.dragging=!1)},E.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,r,o){return("y2"===e.axis.getId(o)?i:n).call(e,t,r)}},E.yFormat=function(t){var e=this,n=e.config;return(n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat)(t)},E.y2Format=function(t){var e=this,n=e.config;return(n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat)(t)},E.defaultValueFormat=function(t){return d(t)?+t:""},E.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},E.dataLabelFormat=function(t){var e=this,n=e.config.data_labels,i=function(t){return d(t)?+t:""};return"function"===typeof n.format?n.format:"object"===u(n.format)?n.format[t]?!0===n.format[t]?i:n.format[t]:function(){return""}:i},E.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",s.grid),e.grid_x_show&&t.grid.append("g").attr("class",s.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",s.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",s.xgridFocus).append("line").attr("class",s.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},E.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",s.grid+" "+s.gridLines),t.gridLines.append("g").attr("class",s.xgridLines),t.gridLines.append("g").attr("class",s.ygridLines),t.xgridLines=e.selectAll([])},E.updateXGrid=function(t){var e=this,n=e.config,i=e.d3,r=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+s.xgrids).selectAll("."+s.xgrid).data(r),e.xgrid.enter().append("line").attr("class",s.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},E.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+s.ygrids).selectAll("."+s.ygrid).data(n),t.ygrid.enter().append("line").attr("class",s.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},E.gridTextAnchor=function(t){return t.position?t.position:"end"},E.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},E.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},E.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},E.updateGrid=function(t){var e,n,i,r=this,o=r.main,a=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),o.select("line."+s.xgridFocus).style("visibility","hidden"),a.grid_x_show&&r.updateXGrid(),r.xgridLines=o.select("."+s.xgridLines).selectAll("."+s.xgridLine).data(a.grid_x_lines),e=r.xgridLines.enter().append("g").attr("class",function(t){return s.xgridLine+(t.class?" "+t.class:"")}),e.append("line").style("opacity",0),e.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),a.grid_y_show&&r.updateYGrid(),r.ygridLines=o.select("."+s.ygridLines).selectAll("."+s.ygridLine).data(a.grid_y_lines),n=r.ygridLines.enter().append("g").attr("class",function(t){return s.ygridLine+(t.class?" "+t.class:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),i=r.yv.bind(r),r.ygridLines.select("line").transition().duration(t).attr("x1",a.axis_rotated?i:0).attr("x2",a.axis_rotated?i:r.width).attr("y1",a.axis_rotated?0:i).attr("y2",a.axis_rotated?r.height:i).style("opacity",1),r.ygridLines.select("text").transition().duration(t).attr("x",a.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",i).text(function(t){return t.text}).style("opacity",1),r.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},E.redrawGrid=function(t){var e=this,n=e.config,i=e.xv.bind(e),r=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?e.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:e.height).style("opacity",1),(t?o.transition():o).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",i).text(function(t){return t.text}).style("opacity",1)]},E.showXGridFocus=function(t){var e=this,n=e.config,i=t.filter(function(t){return t&&d(t.value)}),r=e.main.selectAll("line."+s.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(r.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(r,"grid")))},E.hideXGridFocus=function(){this.main.select("line."+s.xgridFocus).style("visibility","hidden")},E.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+s.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},E.generateGridData=function(t,e){var n,i,r,o,a=this,u=[],l=a.main.select("."+s.axisX).selectAll(".tick").size();if("year"===t)for(n=a.getXDomain(),i=n[0].getFullYear(),r=n[1].getFullYear(),o=i;o<=r;o++)u.push(new Date(o+"-01-01 00:00:00"));else u=e.ticks(10),u.length>l&&(u=u.filter(function(t){return(""+t).indexOf(".")<0}));return u},E.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(n=!0)}),n}:function(){return!0}},E.removeGridLines=function(t,e){var n=this,i=n.config,r=n.getGridFilterToRemove(t),o=function(t){return!r(t)},a=e?s.xgridLines:s.ygridLines,u=e?s.xgridLine:s.ygridLine;n.main.select("."+a).selectAll("."+u).filter(r).transition().duration(i.transition_duration).style("opacity",0).remove(),e?i.grid_x_lines=i.grid_x_lines.filter(o):i.grid_y_lines=i.grid_y_lines.filter(o)},E.initEventRect=function(){this.main.select("."+s.chart).append("g").attr("class",s.eventRects).style("fill-opacity",0)},E.redrawEventRect=function(){var t,e,n=this,i=n.config,r=n.isMultipleX(),o=n.main.select("."+s.eventRects).style("cursor",i.zoom_enabled?i.axis_rotated?"ns-resize":"ew-resize":null).classed(s.eventRectsMultiple,r).classed(s.eventRectsSingle,!r);o.selectAll("."+s.eventRect).remove(),n.eventRect=o.selectAll("."+s.eventRect),r?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),o.datum(e?e.values:[]),n.eventRect=o.selectAll("."+s.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},E.updateEventRect=function(t){var e,n,i,r,o,a,s=this,u=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(e=0,n=0,i=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(t){return s.x(t.x)-o/2}):(s.updateXs(),o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?u.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),i=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(i)+s.x(e))/2)}),e=u.axis_rotated?0:a,n=u.axis_rotated?a:0,i=u.axis_rotated?s.width:o,r=u.axis_rotated?o:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",i).attr("height",r)},E.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,i=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("mouseover",function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(i.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+s.shape+"-"+n).each(function(t){i.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+s.shape+"-"+n).each(function(t){i.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var r,o=t.index,a=e.svg.select("."+s.eventRect+"-"+o);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,o))&&(o-=1),r=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,o))}),i.tooltip_grouped&&(e.showTooltip(r,this),e.showXGridFocus(r)),(!i.tooltip_grouped||i.data_selection_enabled&&!i.data_selection_grouped)&&e.main.selectAll("."+s.shape+"-"+o).each(function(){n.select(this).classed(s.EXPANDED,!0),i.data_selection_enabled&&a.style("cursor",i.data_selection_grouped?"pointer":null),i.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),i.data_selection_grouped||(e.unexpandCircles(o),e.unexpandBars(o)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){i.data_selection_enabled&&(i.data_selection_grouped||i.data_selection_isselectable(t))&&a.style("cursor","pointer"),i.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),i.point_focus_expand_enabled&&e.expandCircles(o,t.id,!0),e.expandBars(o,t.id,!0))}))}).on("click",function(t){var r=t.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick)return void(e.cancelClick=!1);e.isStepType(t)&&"step-after"===i.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,r))&&(r-=1),e.main.selectAll("."+s.shape+"-"+r).each(function(t){(i.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,r),e.config.data_onclick.call(e.api,t,this))})}}).call(i.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},E.generateEventRectsForMultipleXs=function(t){function e(){n.svg.select("."+s.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,i=n.d3,r=n.config;t.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",s.eventRect).on("mouseout",function(){n.config&&(n.hasArcType()||e())}).on("mousemove",function(){var t,o,a,u,l=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(l)){if(t=i.mouse(this),o=n.findClosestFromTargets(l,t),!n.mouseover||o&&o.id===n.mouseover.id||(r.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!o)return void e();a=n.isScatterType(o)||!r.tooltip_grouped?[o]:n.filterByX(l,o.x),u=a.map(function(t){return n.addName(t)}),n.showTooltip(u,this),r.point_focus_expand_enabled&&n.expandCircles(o.index,o.id,!0),n.expandBars(o.index,o.id,!0),n.showXGridFocus(u),(n.isBarType(o.id)||n.dist(o,t)<r.point_sensitivity)&&(n.svg.select("."+s.eventRect).style("cursor","pointer"),n.mouseover||(r.data_onmouseover.call(n.api,o),n.mouseover=o))}}).on("click",function(){var t,e,o=n.filterTargetsToShow(n.data.targets);n.hasArcType(o)||(t=i.mouse(this),(e=n.findClosestFromTargets(o,t))&&(n.isBarType(e.id)||n.dist(e,t)<r.point_sensitivity)&&n.main.selectAll("."+s.shapes+n.getTargetSelectorSuffix(e.id)).selectAll("."+s.shape+"-"+e.index).each(function(){(r.data_selection_grouped||n.isWithinShape(this,e))&&(n.toggleShape(this,e,e.index),n.config.data_onclick.call(n.api,e,this))}))}).call(r.data_selection_draggable&&n.drag?i.behavior.drag().origin(Object).on("drag",function(){n.drag(i.mouse(this))}).on("dragstart",function(){n.dragstart(i.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},E.dispatchEvent=function(t,e,n){var i=this,r="."+s.eventRect+(i.isMultipleX()?"":"-"+e),o=i.main.select(r).node(),a=o.getBoundingClientRect(),u=a.left+(n?n[0]:0),l=a.top+(n?n[1]:0),c=document.createEvent("MouseEvents");c.initMouseEvent(t,!0,!0,window,0,u,l,u,l,!1,!1,!1,!1,0,null),o.dispatchEvent(c)},E.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},E.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},E.updateSizeForLegend=function(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},E.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},E.updateLegendStep=function(t){this.legendStep=t},E.updateLegendItemWidth=function(t){this.legendItemWidth=t},E.updateLegendItemHeight=function(t){this.legendItemHeight=t},E.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},E.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},E.opacityForLegend=function(t){return t.classed(s.legendItemHidden)?null:1},E.opacityForUnfocusedLegend=function(t){return t.classed(s.legendItemHidden)?null:.3},E.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+s.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(s.legendItemFocused,e).transition().duration(100).style("opacity",function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},E.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+s.legendItem).classed(s.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},E.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},E.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&w(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},E.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},E.updateLegend=function(t,e,n){function i(t,e){return T.legendItemTextBox[e]||(T.legendItemTextBox[e]=T.getTextRect(t.textContent,s.legendItem,t)),T.legendItemTextBox[e]}function r(e,n,r){function o(t,e){e||(a=(p-O-f)/2)<k&&(a=(p-f)/2,O=0,D++),V[t]=D,z[D]=T.isLegendInset?10:a,I[t]=O,O+=f}var a,s,u=0===r,l=r===t.length-1,c=i(e,n),h=c.width+M+(!l||T.isLegendRight||T.isLegendInset?C:0)+P.legend_padding,d=c.height+A,f=T.isLegendRight||T.isLegendInset?d:h,p=T.isLegendRight||T.isLegendInset?T.getLegendHeight():T.getLegendWidth();if(u&&(O=0,D=0,L=0,E=0),P.legend_show&&!T.isLegendToShow(n))return void(R[n]=N[n]=V[n]=I[n]=0);R[n]=h,N[n]=d,(!L||h>=L)&&(L=h),(!E||d>=E)&&(E=d),s=T.isLegendRight||T.isLegendInset?E:L,P.legend_equally?(Object.keys(R).forEach(function(t){R[t]=L}),Object.keys(N).forEach(function(t){N[t]=E}),a=(p-s*t.length)/2,a<k?(O=0,D=0,t.forEach(function(t){o(t)})):o(n,!0)):o(n)}var o,a,u,l,c,h,d,f,p,g,m,v,y,x,w,b,T=this,P=T.config,A=4,C=10,L=0,E=0,k=10,M=P.legend_item_tile_width+5,O=0,I={},R={},N={},z=[0],V={},D=0;t=t.filter(function(t){return!_(P.data_names[t])||null!==P.data_names[t]}),e=e||{},m=S(e,"withTransition",!0),v=S(e,"withTransitionForTransform",!0),T.isLegendInset&&(D=P.legend_inset_step?P.legend_inset_step:t.length,T.updateLegendStep(D)),T.isLegendRight?(o=function(t){return L*V[t]},l=function(t){return z[V[t]]+I[t]}):T.isLegendInset?(o=function(t){return L*V[t]+10},l=function(t){return z[V[t]]+I[t]}):(o=function(t){return z[V[t]]+I[t]},l=function(t){return E*V[t]}),a=function(t,e){return o(t,e)+4+P.legend_item_tile_width},c=function(t,e){return l(t,e)+9},u=function(t,e){return o(t,e)},h=function(t,e){return l(t,e)-5},d=function(t,e){return o(t,e)-2},f=function(t,e){return o(t,e)-2+P.legend_item_tile_width},p=function(t,e){return l(t,e)+4},g=T.legend.selectAll("."+s.legendItem).data(t).enter().append("g").attr("class",function(t){return T.generateClass(s.legendItem,t)}).style("visibility",function(t){return T.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){P.legend_item_onclick?P.legend_item_onclick.call(T,t):T.d3.event.altKey?(T.api.hide(),T.api.show(t)):(T.api.toggle(t),T.isTargetToShow(t)?T.api.focus(t):T.api.revert())}).on("mouseover",function(t){P.legend_item_onmouseover?P.legend_item_onmouseover.call(T,t):(T.d3.select(this).classed(s.legendItemFocused,!0),!T.transiting&&T.isTargetToShow(t)&&T.api.focus(t))}).on("mouseout",function(t){P.legend_item_onmouseout?P.legend_item_onmouseout.call(T,t):(T.d3.select(this).classed(s.legendItemFocused,!1),T.api.revert())}),g.append("text").text(function(t){return _(P.data_names[t])?P.data_names[t]:t}).each(function(t,e){r(this,t,e)}).style("pointer-events","none").attr("x",T.isLegendRight||T.isLegendInset?a:-200).attr("y",T.isLegendRight||T.isLegendInset?-200:c),g.append("rect").attr("class",s.legendItemEvent).style("fill-opacity",0).attr("x",T.isLegendRight||T.isLegendInset?u:-200).attr("y",T.isLegendRight||T.isLegendInset?-200:h),g.append("line").attr("class",s.legendItemTile).style("stroke",T.color).style("pointer-events","none").attr("x1",T.isLegendRight||T.isLegendInset?d:-200).attr("y1",T.isLegendRight||T.isLegendInset?-200:p).attr("x2",T.isLegendRight||T.isLegendInset?f:-200).attr("y2",T.isLegendRight||T.isLegendInset?-200:p).attr("stroke-width",P.legend_item_tile_height),b=T.legend.select("."+s.legendBackground+" rect"),T.isLegendInset&&L>0&&0===b.size()&&(b=T.legend.insert("g","."+s.legendItem).attr("class",s.legendBackground).append("rect")),y=T.legend.selectAll("text").data(t).text(function(t){return _(P.data_names[t])?P.data_names[t]:t}).each(function(t,e){r(this,t,e)}),(m?y.transition():y).attr("x",a).attr("y",c),x=T.legend.selectAll("rect."+s.legendItemEvent).data(t),(m?x.transition():x).attr("width",function(t){return R[t]}).attr("height",function(t){return N[t]}).attr("x",u).attr("y",h),w=T.legend.selectAll("line."+s.legendItemTile).data(t),(m?w.transition():w).style("stroke",T.color).attr("x1",d).attr("y1",p).attr("x2",f).attr("y2",p),b&&(m?b.transition():b).attr("height",T.getLegendHeight()-12).attr("width",L*(D+1)+10),T.legend.selectAll("."+s.legendItem).classed(s.legendItemHidden,function(t){return!T.isTargetToShow(t)}),T.updateLegendItemWidth(L),T.updateLegendItemHeight(E),T.updateLegendStep(D),T.updateSizes(),T.updateScales(),T.updateSvgSize(),T.transformAll(v,n),T.legendHasRendered=!0},E.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",s.regions)},E.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+s.regions).selectAll("."+s.region).data(n.regions),e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),e.mainRegion.attr("class",e.classRegion.bind(e)),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},E.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect").each(function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)}),i=e.regionX.bind(e),r=e.regionY.bind(e),o=e.regionWidth.bind(e),a=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",i).attr("y",r).attr("width",o).attr("height",a).style("fill-opacity",function(t){return d(t.opacity)?t.opacity:.1})]},E.regionX=function(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?i(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},E.regionY=function(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?i(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},E.regionWidth=function(t){var e,n=this,i=n.config,r=n.regionX(t),o="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?o(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width,e<r?0:e-r},E.regionHeight=function(t){var e,n=this,i=n.config,r=this.regionY(t),o="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?o(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height,e<r?0:e-r},E.isRegionOnX=function(t){return!t.axis||"x"===t.axis},E.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},E.getX=function(t,e,n,i){var r,o=this,a=o.getScale(t,e,o.isTimeSeries()),s=n?a.domain(n):a;o.isCategorized()?(i=i||function(){return 0},a=function(t,e){var n=s(t)+i(t);return e?n:Math.ceil(n)}):a=function(t,e){var n=s(t);return e?n:Math.ceil(n)};for(r in s)a[r]=s[r];return a.orgDomain=function(){return s.domain()},o.isCategorized()&&(a.domain=function(t){return arguments.length?(s.domain(t),a):(t=this.orgDomain(),[t[0],t[1]+1])}),a},E.getY=function(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},E.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},E.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},E.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},E.selectPoint=function(t,e,n){var i=this,r=i.config,o=(r.axis_rotated?i.circleY:i.circleX).bind(i),a=(r.axis_rotated?i.circleX:i.circleY).bind(i),u=i.pointSelectR.bind(i);r.data_onselected.call(i.api,e,t.node()),i.main.select("."+s.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+s.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(s.selectedCircle,n)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",u)},E.unselectPoint=function(t,e,n){var i=this;i.config.data_onunselected.call(i.api,e,t.node()),i.main.select("."+s.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+s.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},E.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},E.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},E.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.color(e)})},E.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},E.getToggle=function(t,e){var n,i=this;return"circle"===t.nodeName?n=i.isStepType(e)?function(){}:i.togglePoint:"path"===t.nodeName&&(n=i.togglePath),n},E.toggleShape=function(t,e,n){var i=this,r=i.d3,o=i.config,a=r.select(t),u=a.classed(s.SELECTED),l=i.getToggle(t,e).bind(i);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||i.main.selectAll("."+s.shapes+(o.data_selection_grouped?i.getTargetSelectorSuffix(e.id):"")).selectAll("."+s.shape).each(function(t,e){var n=r.select(this);n.classed(s.SELECTED)&&l(!1,n.classed(s.SELECTED,!1),t,e)}),a.classed(s.SELECTED,!u),l(!u,a,e,n))},E.initBar=function(){this.main.select("."+s.chart).append("g").attr("class",s.chartBars)},E.updateTargetsForBar=function(t){var e,n,i=this,r=i.config,o=i.classChartBar.bind(i),a=i.classBars.bind(i),u=i.classFocus.bind(i);e=i.main.select("."+s.chartBars).selectAll("."+s.chartBar).data(t).attr("class",function(t){return o(t)+u(t)}),n=e.enter().append("g").attr("class",o).style("pointer-events","none"),n.append("g").attr("class",a).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null})},E.updateBar=function(t){var e=this,n=e.barData.bind(e),i=e.classBar.bind(e),r=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+s.bars).selectAll("."+s.bar).data(n),e.mainBar.enter().append("path").attr("class",i).style("stroke",o).style("fill",o),e.mainBar.style("opacity",r),e.mainBar.exit().transition().duration(t).remove()},E.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},E.getBarW=function(t,e){var n=this,i=n.config,r="number"===typeof i.bar_width?i.bar_width:e?t.tickInterval()*i.bar_width_ratio/e:0;return i.bar_width_max&&r>i.bar_width_max?i.bar_width_max:r},E.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+s.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+s.bar+(d(t)?"-"+t:""))},E.expandBars=function(t,e,n){var i=this;n&&i.unexpandBars(),i.getBars(t,e).classed(s.EXPANDED,!0)},E.unexpandBars=function(t){this.getBars(t).classed(s.EXPANDED,!1)},E.generateDrawBar=function(t,e){var n=this,i=n.config,r=n.generateGetBarPoints(t,e);return function(t,e){var n=r(t,e),o=i.axis_rotated?1:0,a=i.axis_rotated?0:1;return"M "+n[0][o]+","+n[0][a]+" L"+n[1][o]+","+n[1][a]+" L"+n[2][o]+","+n[2][a]+" L"+n[3][o]+","+n[3][a]+" z"}},E.generateGetBarPoints=function(t,e){var n=this,i=e?n.subXAxis:n.xAxis,r=t.__max__+1,o=n.getBarW(i,r),a=n.getShapeX(o,r,t,!!e),s=n.getShapeY(!!e),u=n.getShapeOffset(n.isBarType,t,!!e),l=o*(n.config.bar_space/2),c=e?n.getSubYScale:n.getYScale;return function(t,e){var i=c.call(n,t.id)(0),r=u(t,e)||i,h=a(t),d=s(t);return n.config.axis_rotated&&(0<t.value&&d<i||t.value<0&&i<d)&&(d=i),[[h+l,r],[h+l,d-(i-r)],[h+o-l,d-(i-r)],[h+o-l,r]]}},E.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),i=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),o=Math.min(i.x,r.x),a=Math.min(i.y,r.y),s=n.width,u=n.height,l=o-2,c=o+s+2,h=a+u+2,d=a-2;return l<e[0]&&e[0]<c&&d<e[1]&&e[1]<h},E.getShapeIndices=function(t){var e,n,i=this,r=i.config,o={},a=0;return i.filterTargetsToShow(i.data.targets.filter(t,i)).forEach(function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(n=0;n<r.data_groups[e].length;n++)if(r.data_groups[e][n]in o){o[t.id]=o[r.data_groups[e][n]];break}m(o[t.id])&&(o[t.id]=a++)}),o.__max__=a-1,o},E.getShapeX=function(t,e,n,i){var r=this,o=i?r.subX:r.x;return function(i){var r=i.id in n?n[i.id]:0;return i.x||0===i.x?o(i.x)-t*(e/2-r):0}},E.getShapeY=function(t){var e=this;return function(n){return(t?e.getSubYScale(n.id):e.getYScale(n.id))(n.value)}},E.getShapeOffset=function(t,e,n){var i=this,r=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(t,i))),o=r.map(function(t){return t.id});return function(t,a){var s=n?i.getSubYScale(t.id):i.getYScale(t.id),u=s(0),l=u;return r.forEach(function(n){var r=i.isStepType(t)?i.convertValuesToStep(n.values):n.values;n.id!==t.id&&e[n.id]===e[t.id]&&o.indexOf(n.id)<o.indexOf(t.id)&&("undefined"!==typeof r[a]&&+r[a].x===+t.x||(a=-1,r.forEach(function(e,n){e.x===t.x&&(a=n)})),a in r&&r[a].value*t.value>=0&&(l+=s(r[a].value)-u))}),l}},E.isWithinShape=function(t,e){var n,i=this,r=i.d3.select(t);return i.isTargetToShow(e.id)?"circle"===t.nodeName?n=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(n=!r.classed(s.bar)||i.isWithinBar(t)):n=!1,n},E.getInterpolate=function(t){var e=this,n=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"},E.initLine=function(){this.main.select("."+s.chart).append("g").attr("class",s.chartLines)},E.updateTargetsForLine=function(t){var e,n,i=this,r=i.config,o=i.classChartLine.bind(i),a=i.classLines.bind(i),u=i.classAreas.bind(i),l=i.classCircles.bind(i),c=i.classFocus.bind(i);e=i.main.select("."+s.chartLines).selectAll("."+s.chartLine).data(t).attr("class",function(t){return o(t)+c(t)}),n=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a),n.append("g").attr("class",u),n.append("g").attr("class",function(t){return i.generateClass(s.selectedCircles,t.id)}),n.append("g").attr("class",l).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){i.main.selectAll("."+s.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll("."+s.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},E.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+s.lines).selectAll("."+s.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},E.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},E.generateDrawLine=function(t,e){var n=this,i=n.config,r=n.d3.svg.line(),o=n.generateGetLinePoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},u=function(t,e){return i.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x(u).y(s):r.x(s).y(u),i.line_connectNull||(r=r.defined(function(t){return null!=t.value})),function(t){var o,s=i.line_connectNull?n.filterRemoveNull(t.values):t.values,u=e?n.x:n.subX,l=a.call(n,t.id),c=0,h=0;return n.isLineType(t)?i.data_regions[t.id]?o=n.lineWithRegions(s,u,l,i.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),o=r.interpolate(n.getInterpolate(t))(s)):(s[0]&&(c=u(s[0].x),h=l(s[0].value)),o=i.axis_rotated?"M "+h+" "+c:"M "+c+" "+h),o||"M 0 0"}},E.generateGetLinePoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,o=n.getShapeX(0,r,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),l=s(t,e)||r,c=o(t),h=a(t);return i.axis_rotated&&(0<t.value&&h<r||t.value<0&&r<h)&&(h=r),[[c,h-(r-l)],[c,h-(r-l)],[c,h-(r-l)],[c,h-(r-l)]]}},E.lineWithRegions=function(t,e,n,i){function r(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var o,a,s,u,l,c,h,d,f,p,g,v,y=this,x=y.config,w="M",b=y.isCategorized()?.5:0,S=[];if(_(i))for(o=0;o<i.length;o++)S[o]={},m(i[o].start)?S[o].start=t[0].x:S[o].start=y.isTimeSeries()?y.parseDate(i[o].start):i[o].start,m(i[o].end)?S[o].end=t[t.length-1].x:S[o].end=y.isTimeSeries()?y.parseDate(i[o].end):i[o].end;for(g=x.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},v=x.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},s=y.isTimeSeries()?function(t,i,o,a){var s,u=t.x.getTime(),c=i.x-t.x,h=new Date(u+c*o),d=new Date(u+c*(o+a));return s=x.axis_rotated?[[n(l(o)),e(h)],[n(l(o+a)),e(d)]]:[[e(h),n(l(o))],[e(d),n(l(o+a))]],r(s)}:function(t,i,o,a){var s;return s=x.axis_rotated?[[n(l(o),!0),e(u(o))],[n(l(o+a),!0),e(u(o+a))]]:[[e(u(o),!0),n(l(o))],[e(u(o+a),!0),n(l(o+a))]],r(s)},o=0;o<t.length;o++){if(m(S)||!function(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}(t[o].x,S))w+=" "+g(t[o])+" "+v(t[o]);else for(u=y.getScale(t[o-1].x+b,t[o].x+b,y.isTimeSeries()),l=y.getScale(t[o-1].value,t[o].value),c=e(t[o].x)-e(t[o-1].x),h=n(t[o].value)-n(t[o-1].value),d=Math.sqrt(Math.pow(c,2)+Math.pow(h,2)),f=2/d,p=2*f,a=f;a<=1;a+=p)w+=s(t[o-1],t[o],a,f);t[o].x}return w},E.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+s.areas).selectAll("."+s.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},E.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},E.generateDrawArea=function(t,e){var n=this,i=n.config,r=n.d3.svg.area(),o=n.generateGetAreaPoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},u=function(t,e){return i.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(n.getAreaBaseValue(t.id))},l=function(t,e){return i.data_groups.length>0?o(t,e)[1][1]:a.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x0(u).x1(l).y(s):r.x(s).y0(i.area_above?0:u).y1(l),i.line_connectNull||(r=r.defined(function(t){return null!==t.value})),function(t){var e,o=i.line_connectNull?n.filterRemoveNull(t.values):t.values,a=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(o=n.convertValuesToStep(o)),e=r.interpolate(n.getInterpolate(t))(o)):(o[0]&&(a=n.x(o[0].x),s=n.getYScale(t.id)(o[0].value)),e=i.axis_rotated?"M "+s+" "+a:"M "+a+" "+s),e||"M 0 0"}},E.getAreaBaseValue=function(){return 0},E.generateGetAreaPoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,o=n.getShapeX(0,r,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),l=s(t,e)||r,c=o(t),h=a(t);return i.axis_rotated&&(0<t.value&&h<r||t.value<0&&r<h)&&(h=r),[[c,l],[c,h-(r-l)],[c,h-(r-l)],[c,l]]}},E.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+s.circles).selectAll("."+s.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},E.redrawCircle=function(t,e,n){var i=this.main.selectAll("."+s.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?i.transition(Math.random().toString()):i).attr("cx",t).attr("cy",e)]},E.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},E.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},E.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+s.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+s.circle+(d(t)?"-"+t:""))},E.expandCircles=function(t,e,n){var i=this,r=i.pointExpandedR.bind(i);n&&i.unexpandCircles(),i.getCircles(t,e).classed(s.EXPANDED,!0).attr("r",r)},E.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(s.EXPANDED)}).classed(s.EXPANDED,!1).attr("r",n)},E.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:f(n.point_r)?n.point_r(t):n.point_r},E.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?f(n.point_focus_expand_r)?n.point_focus_expand_r(t):n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},E.pointSelectR=function(t){var e=this,n=e.config;return f(n.point_select_r)?n.point_select_r(t):n.point_select_r?n.point_select_r:4*e.pointR(t)},E.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),r=n.select(t),o=+r.attr("cx"),a=+r.attr("cy");return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(a-i[1],2))<e},E.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},E.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},E.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return n>0?n:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)},E.getCurrentPaddingTop=function(){var t=this,e=t.config,n=d(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(n+=t.getTitlePadding()),n},E.getCurrentPaddingBottom=function(){var t=this.config;return d(t.padding_bottom)?t.padding_bottom:0},E.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return d(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(v(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:v(e.getAxisWidthByAxisId("y",t))},E.getCurrentPaddingRight=function(){var t=this,e=t.config,n=t.isLegendRight?t.getLegendWidth()+20:0;return d(e.padding_right)?e.padding_right+1:e.axis_rotated?10+n:!e.axis_y2_show||e.axis_y2_inner?2+n+(t.axis.getY2AxisLabelPosition().isOuter?20:0):v(t.getAxisWidthByAxisId("y2"))+n},E.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(i){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},E.getParentWidth=function(){return this.getParentRectValue("width")},E.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},E.getSvgLeft=function(t){var e=this,n=e.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,r=n.axis_rotated?s.axisX:s.axisY,o=e.main.select("."+r).node(),a=o&&i?o.getBoundingClientRect():{right:0},u=e.selectChart.node().getBoundingClientRect(),l=e.hasArcType(),c=a.right-u.left-(l?0:e.getCurrentPaddingLeft(t));return c>0?c:0},E.getAxisWidthByAxisId=function(t,e){var n=this,i=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},E.getHorizontalAxisHeight=function(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},E.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},E.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+s.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},E.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),i=e.subchart_show?"visible":"hidden";n.style("visibility",i),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",s.chart),n.select("."+s.chart).append("g").attr("class",s.chartBars),n.select("."+s.chart).append("g").attr("class",s.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",s.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",s.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?i:"hidden")},E.updateTargetsForSubchart=function(t){var e,n,i,r,o=this,a=o.context,u=o.config,l=o.classChartBar.bind(o),c=o.classBars.bind(o),h=o.classChartLine.bind(o),d=o.classLines.bind(o),f=o.classAreas.bind(o);u.subchart_show&&(r=a.select("."+s.chartBars).selectAll("."+s.chartBar).data(t).attr("class",l),i=r.enter().append("g").style("opacity",0).attr("class",l),i.append("g").attr("class",c),n=a.select("."+s.chartLines).selectAll("."+s.chartLine).data(t).attr("class",h),e=n.enter().append("g").style("opacity",0).attr("class",h),e.append("g").attr("class",d),e.append("g").attr("class",f),a.selectAll("."+s.brush+" rect").attr(u.axis_rotated?"width":"height",u.axis_rotated?o.width2:o.height2))},E.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+s.bars).selectAll("."+s.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},E.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},E.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+s.lines).selectAll("."+s.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},E.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},E.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+s.areas).selectAll("."+s.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},E.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},E.redrawSubchart=function(t,e,n,i,r,o,a){var s,u,l,c=this,h=c.d3,d=c.config;c.context.style("visibility",d.subchart_show?"visible":"hidden"),d.subchart_show&&(h.event&&"zoom"===h.event.type&&c.brush.extent(c.x.orgDomain()).update(),t&&(c.brush.empty()||c.brush.extent(c.x.orgDomain()).update(),s=c.generateDrawArea(r,!0),u=c.generateDrawBar(o,!0),l=c.generateDrawLine(a,!0),c.updateBarForSubchart(n),c.updateLineForSubchart(n),c.updateAreaForSubchart(n),c.redrawBarForSubchart(u,n,n),c.redrawLineForSubchart(l,n,n),c.redrawAreaForSubchart(s,n,n)))},E.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},E.transformContext=function(t,e){var n,i=this;e&&e.axisSubX?n=e.axisSubX:(n=i.context.select("."+s.axisX),t&&(n=n.transition())),i.context.attr("transform",i.getTranslate("context")),n.attr("transform",i.getTranslate("subx"))},E.getDefaultExtent=function(){var t=this,e=t.config,n=f(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},E.initText=function(){var t=this;t.main.select("."+s.chart).append("g").attr("class",s.chartTexts),t.mainText=t.d3.selectAll([])},E.updateTargetsForText=function(t){var e,n,i=this,r=i.classChartText.bind(i),o=i.classTexts.bind(i),a=i.classFocus.bind(i);e=i.main.select("."+s.chartTexts).selectAll("."+s.chartText).data(t).attr("class",function(t){return r(t)+a(t)}),n=e.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o)},E.updateText=function(t){var e=this,n=e.config,i=e.barOrLineData.bind(e),r=e.classText.bind(e);e.mainText=e.main.selectAll("."+s.texts).selectAll("."+s.text).data(i),e.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,n,i){return e.dataLabelFormat(t.id)(t.value,t.id,n,i)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},E.redrawText=function(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},E.getTextRect=function(t,e,n){var i,r=this.d3.select("body").append("div").classed("c3",!0),o=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",a).text(t).each(function(){i=this.getBoundingClientRect()}),r.remove(),i},E.generateXYForText=function(t,e,n,i){var r=this,o=r.generateGetAreaPoints(t,!1),a=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(n,!1),u=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)?o:r.isBarType(t)?a:s;return u.call(r,n(t,e),t,this)}},E.getXForText=function(t,e,n){var i,r,o=this,a=n.getBoundingClientRect();return o.config.axis_rotated?(r=o.isBarType(e)?4:6,i=t[2][1]+r*(e.value<0?-1:1)):i=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>o.width?i=o.width-a.width:i<0&&(i=4)),i},E.getYForText=function(t,e,n){var i,r=this,o=n.getBoundingClientRect();return r.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*o.height)/2:(i=t[2][1],e.value<0||0===e.value&&!r.hasPositiveValue?(i+=o.height,r.isBarType(e)&&r.isSafari()?i-=3:!r.isBarType(e)&&r.isChrome()&&(i+=3)):i+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(i<o.height?i=o.height:i>this.height&&(i=this.height-4)),i},E.initTitle=function(){var t=this;t.title=t.svg.append("text").text(t.config.title_text).attr("class",t.CLASS.title)},E.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},E.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return n.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:n.indexOf("center")>=0?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:e.title_padding.left},E.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},E.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom},E.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",s.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&g(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!==0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},E.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var n=t.orderTargets(t.data.targets).map(function(t){return t.id});return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}var i=e.tooltip_order;void 0===i&&(i=e.data_order);var r=function(t){return t?t.value:null};if(g(i)&&"asc"===i.toLowerCase())return function(t,e){return r(t)-r(e)};if(g(i)&&"desc"===i.toLowerCase())return function(t,e){return r(e)-r(t)};if(f(i)){var o=i;return void 0===e.tooltip_order&&(o=function(t,e){return i(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),o}return p(i)?function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}:void 0},E.getTooltipContent=function(t,e,n,i){var r,o,a,s,u,l,c=this,h=c.config,d=h.tooltip_format_title||e,f=h.tooltip_format_name||function(t){return t},p=h.tooltip_format_value||n,g=this.getTooltipSortFunction();for(g&&t.sort(g),o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)&&(r||(a=P(d?d(t[o].x):t[o].x),r="<table class='"+c.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),void 0!==(s=P(p(t[o].value,t[o].ratio,t[o].id,t[o].index,t))))){if(null===t[o].name)continue;u=P(f(t[o].name,t[o].ratio,t[o].id,t[o].index)),l=c.levelColor?c.levelColor(t[o].value):i(t[o].id),r+="<tr class='"+c.CLASS.tooltipName+"-"+c.getTargetSelectorSuffix(t[o].id)+"'>",r+="<td class='name'><span style='background-color:"+l+"'></span>"+u+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"}return r+"</table>"},E.tooltipPosition=function(t,e,n,i){var r,o,a,s,u,l=this,c=l.config,h=l.d3,d=l.hasArcType(),f=h.mouse(i);return d?(o=(l.width-(l.isLegendRight?l.getLegendWidth():0))/2+f[0],s=l.height/2+f[1]+20):(r=l.getSvgLeft(!0),c.axis_rotated?(o=r+f[0]+100,a=o+e,u=l.currentWidth-l.getCurrentPaddingRight(),s=l.x(t[0].x)+20):(o=r+l.getCurrentPaddingLeft(!0)+l.x(t[0].x)+20,a=o+e,u=r+l.currentWidth-l.getCurrentPaddingRight(),s=f[1]+15),a>u&&(o-=a-u+20),s+n>l.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:o}},E.showTooltip=function(t,e){var n,i,r,o=this,a=o.config,s=o.hasArcType(),u=t.filter(function(t){return t&&d(t.value)}),l=a.tooltip_position||E.tooltipPosition;0!==u.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),i=o.tooltip.property("offsetHeight"),r=l.call(this,u,n,i,e),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},E.hideTooltip=function(){this.tooltip.style("display","none")},E.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},E.hasType=function(t,e){var n=this,i=n.config.data_types,r=!1;return e=e||n.data.targets,e&&e.length?e.forEach(function(e){var n=i[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(r=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(e){i[e]===t&&(r=!0)}):r=n.config.data_type===t,r},E.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},E.isLineType=function(t){var e=this.config,n=g(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},E.isStepType=function(t){var e=g(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},E.isSplineType=function(t){var e=g(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},E.isAreaType=function(t){var e=g(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},E.isBarType=function(t){var e=g(t)?t:t.id;return"bar"===this.config.data_types[e]},E.isScatterType=function(t){var e=g(t)?t:t.id;return"scatter"===this.config.data_types[e]},E.isPieType=function(t){var e=g(t)?t:t.id;return"pie"===this.config.data_types[e]},E.isGaugeType=function(t){var e=g(t)?t:t.id;return"gauge"===this.config.data_types[e]},E.isDonutType=function(t){var e=g(t)?t:t.id;return"donut"===this.config.data_types[e]},E.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},E.lineData=function(t){return this.isLineType(t)?[t]:[]},E.arcData=function(t){return this.isArcType(t.data)?[t]:[]},E.barData=function(t){return this.isBarType(t)?t.values:[]},E.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},E.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},E.isInterpolationType=function(t){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)>=0},E.isSafari=function(){var t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},E.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},E.initZoom=function(){var t,e=this,n=e.d3,i=e.config;e.zoom=n.behavior.zoom().on("zoomstart",function(){t=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,i.zoom_onzoomstart.call(e.api,n.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var r=n.event.sourceEvent;r&&t.clientX===r.clientX&&t.clientY===r.clientY||(e.redrawEventRect(),e.updateZoom(),i.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return i.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=i.zoom_extent?i.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=x(e.x.orgDomain())/x(e.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},E.getZoomDomain=function(){var t=this,e=t.config,n=t.d3;return[n.min([t.orgXDomain[0],e.zoom_x_min]),n.max([t.orgXDomain[1],e.zoom_x_max])]},E.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+s.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+s.eventRect).call(e).on("dblclick.zoom",null)},E.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,r=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,r.orgDomain())}},k})},function(t,e,n){var i,r;!function(){function o(t){return t&&(t.ownerDocument||t.document||t).documentElement}function a(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function s(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function u(t){return null===t?NaN:+t}function l(t){return!isNaN(t)}function c(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function h(t){return t.length}function d(t){for(var e=1;t*e%1;)e*=10;return e}function f(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function p(){this._=Object.create(null)}function g(t){return(t+="")===Ta||t[0]===Pa?Pa+t:t}function m(t){return(t+="")[0]===Pa?t.slice(1):t}function _(t){return g(t)in this._}function v(t){return(t=g(t))in this._&&delete this._[t]}function y(){var t=[];for(var e in this._)t.push(m(e));return t}function x(){var t=0;for(var e in this._)++t;return t}function w(){for(var t in this._)return!1;return!0}function b(){this._=Object.create(null)}function S(t){return t}function T(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function P(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=Aa.length;n<i;++n){var r=Aa[n]+e;if(r in t)return r}}function A(){}function C(){}function L(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new p;return e.on=function(e,r){var o,a=i.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function E(){fa.event.preventDefault()}function k(){for(var t,e=fa.event;t=e.sourceEvent;)e=t;return e}function M(t){for(var e=new C,n=0,i=arguments.length;++n<i;)e[arguments[n]]=L(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=fa.event;r.target=t,fa.event=r,e[r.type].apply(n,i)}finally{fa.event=o}}},e}function O(t){return La(t,Oa),t}function I(t){return"function"===typeof t?t:function(){return Ea(t,this)}}function R(t){return"function"===typeof t?t:function(){return ka(t,this)}}function N(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=fa.ns.qualify(t),null==e?t.local?i:n:"function"===typeof e?t.local?s:a:t.local?o:r}function z(t){return t.trim().replace(/\s+/g," ")}function V(t){return new RegExp("(?:^|\\s+)"+fa.requote(t)+"(?:\\s+|$)","g")}function D(t){return(t+"").trim().split(/^|\s+/)}function F(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=D(t).map(G);var r=t.length;return"function"===typeof e?i:n}function G(t){var e=V(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",z(r+" "+t))):n.setAttribute("class",z(r.replace(e," ")))}}function B(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"===typeof e?o:r}function j(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"===typeof e?r:i}function H(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ia&&e.documentElement.namespaceURI===Ia?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"===typeof t?t:(t=fa.ns.qualify(t)).local?n:e}function U(){var t=this.parentNode;t&&t.removeChild(this)}function Z(t){return{__data__:t}}function X(t){return function(){return Ma(this,t)}}function Y(t){return arguments.length||(t=s),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function W(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,n);return t}function q(t){return La(t,Na),t}function K(t){var e,n;return function(i,r,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(a=s[e])&&++e<u;);return a}}function Q(t,e,n){function i(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function r(){var r=u(e,ga(arguments));i.call(this),this.addEventListener(t,this[a]=r,r.$=n),r._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+fa.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var a="__on"+t,s=t.indexOf("."),u=$;s>0&&(t=t.slice(0,s));var l=za.get(t);return l&&(t=l,u=J),s?e?r:i:e?A:o}function $(t,e){return function(n){var i=fa.event;fa.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{fa.event=i}}}function J(t,e){var n=$(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function tt(t){var e=".dragsuppress-"+ ++Da,n="click"+e,i=fa.select(a(t)).on("touchmove"+e,E).on("dragstart"+e,E).on("selectstart"+e,E);if(null==Va&&(Va=!("onselectstart"in t)&&P(t.style,"userSelect")),Va){var r=o(t).style,s=r[Va];r[Va]="none"}return function(t){if(i.on(e,null),Va&&(r[Va]=s),t){var o=function(){i.on(n,null)};i.on(n,function(){E(),o()},!0),setTimeout(o,0)}}}function et(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(Fa<0){var r=a(t);if(r.scrollX||r.scrollY){n=fa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();Fa=!(o.f||o.e),n.remove()}}return Fa?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function nt(){return fa.event.changedTouches[0].identifier}function it(t){return t>0?1:t<0?-1:0}function rt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function ot(t){return t>1?0:t<-1?ja:Math.acos(t)}function at(t){return t>1?Za:t<-1?-Za:Math.asin(t)}function st(t){return((t=Math.exp(t))-1/t)/2}function ut(t){return((t=Math.exp(t))+1/t)/2}function lt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ct(t){return(t=Math.sin(t/2))*t}function ht(){}function dt(t,e,n){return this instanceof dt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof dt?new dt(t.h,t.s,t.l):At(""+t,Ct,dt):new dt(t,e,n)}function ft(t,e,n){function i(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,o=2*n-a,new bt(r(t+120),r(t),r(t-120))}function pt(t,e,n){return this instanceof pt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof pt?new pt(t.h,t.c,t.l):t instanceof mt?vt(t.l,t.a,t.b):vt((t=Lt((t=fa.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new pt(t,e,n)}function gt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new mt(n,Math.cos(t*=Xa)*e,Math.sin(t)*e)}function mt(t,e,n){return this instanceof mt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof mt?new mt(t.l,t.a,t.b):t instanceof pt?gt(t.h,t.c,t.l):Lt((t=bt(t)).r,t.g,t.b):new mt(t,e,n)}function _t(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=yt(r)*es,i=yt(i)*ns,o=yt(o)*is,new bt(wt(3.2404542*r-1.5371385*i-.4985314*o),wt(-.969266*r+1.8760108*i+.041556*o),wt(.0556434*r-.2040259*i+1.0572252*o))}function vt(t,e,n){return t>0?new pt(Math.atan2(n,e)*Ya,Math.sqrt(e*e+n*n),t):new pt(NaN,NaN,t)}function yt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function xt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function wt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function bt(t,e,n){return this instanceof bt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof bt?new bt(t.r,t.g,t.b):At(""+t,bt,ft):new bt(t,e,n)}function St(t){return new bt(t>>16,t>>8&255,255&t)}function Tt(t){return St(t)+""}function Pt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function At(t,e,n){var i,r,o,a=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(kt(r[0]),kt(r[1]),kt(r[2]))}return(o=as.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function Ct(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(r=u<.5?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=u>0&&u<1?0:i),new dt(i,r,u)}function Lt(t,e,n){t=Et(t),e=Et(e),n=Et(n);var i=xt((.4124564*t+.3575761*e+.1804375*n)/es),r=xt((.2126729*t+.7151522*e+.072175*n)/ns);return mt(116*r-16,500*(i-r),200*(r-xt((.0193339*t+.119192*e+.9503041*n)/is)))}function Et(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Mt(t){return"function"===typeof t?t:function(){return t}}function Ot(t){return function(e,n,i){return 2===arguments.length&&"function"===typeof n&&(i=n,n=null),It(e,n,t,i)}}function It(t,e,n,i){function r(){var t,e=u.status;if(!e&&Nt(u)||e>=200&&e<300||304===e){try{t=n.call(o,u)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=fa.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=r:u.onreadystatechange=function(){u.readyState>3&&r()},u.onprogress=function(t){var e=fa.event;fa.event=t;try{a.progress.call(o,u)}finally{fa.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ga(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"===typeof i&&(r=i,i=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),a.beforesend.call(o,u),u.send(null==i?null:i),o},o.abort=function(){return u.abort(),o},fa.rebind(o,a,"on"),null==i?o:o.get(Rt(i))}function Rt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Nt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function zt(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r=n+e,o={c:t,t:r,n:null};return us?us.n=o:ss=o,us=o,ls||(cs=clearTimeout(cs),ls=1,hs(Vt)),o}function Vt(){var t=Dt(),e=Ft()-t;e>24?(isFinite(e)&&(clearTimeout(cs),cs=setTimeout(Vt,e)),ls=0):(ls=1,hs(Vt))}function Dt(){for(var t=Date.now(),e=ss;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ft(){for(var t,e=ss,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ss=e.n;return us=t,n}function Gt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Bt(t,e){var n=Math.pow(10,3*Sa(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function jt(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,o=i&&n?function(t,e){for(var r=t.length,o=[],a=0,s=i[0],u=0;r>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(r-=s,r+s)),!((u+=s+1)>e));)s=i[a=(a+1)%i.length];return o.reverse().join(n)}:S;return function(t){var n=fs.exec(t),i=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],h=n[7],d=n[8],f=n[9],p=1,g="",m="",_=!1,v=!0;switch(d&&(d=+d.substring(1)),(l||"0"===i&&"="===a)&&(l=i="0",a="="),f){case"n":h=!0,f="g";break;case"%":p=100,m="%",f="f";break;case"p":p=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+f.toLowerCase());case"c":v=!1;case"d":_=!0,d=0;break;case"s":p=-1,f="r"}"$"===u&&(g=r[0],m=r[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):"e"!=f&&"f"!=f||(d=Math.max(0,Math.min(20,d)))),f=ps.get(f)||Ht;var y=l&&h;return function(t){var n=m;if(_&&t%1)return"";var r=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(p<0){var u=fa.formatPrefix(t,d);t=u.scale(t),n=u.symbol+m}else t*=p;t=f(t,d);var x,w,b=t.lastIndexOf(".");if(b<0){var S=v?t.lastIndexOf("e"):-1;S<0?(x=t,w=""):(x=t.substring(0,S),w=t.substring(S))}else x=t.substring(0,b),w=e+t.substring(b+1);!l&&h&&(x=o(x,1/0));var T=g.length+x.length+w.length+(y?0:r.length),P=T<c?new Array(T=c-T+1).join(i):"";return y&&(x=o(P+x,P.length?c-w.length:1/0)),r+=g,t=x+w,("<"===a?r+t+P:">"===a?P+r+t:"^"===a?P.substring(0,T>>=1)+r+t+P.substring(T):r+(y?t:P+t))+n}}}function Ht(t){return t+""}function Ut(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Zt(t,e,n){function i(e){var n=t(e),i=o(n,1);return e-n<i-e?n:i}function r(n){return e(n=t(new ms(n-1)),1),n}function o(t,n){return e(t=new ms(+t),n),t}function a(t,i,o){var a=r(t),s=[];if(o>1)for(;a<i;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<i;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{ms=Ut;var i=new Ut;return i._=t,a(i,e,n)}finally{ms=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=a;var u=t.utc=Xt(t);return u.floor=u,u.round=Xt(i),u.ceil=Xt(r),u.offset=Xt(o),u.range=s,t}function Xt(t){return function(e,n){try{ms=Ut;var i=new Ut;return i._=e,t(i,n)._}finally{ms=Date}}}function Yt(t){function e(t){function e(e){for(var n,r,o,a=[],s=-1,u=0;++s<i;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=vs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=L[n])&&(n=o(e,null==r?"e"===n?" ":"0":r)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(i,t,e,0)!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var r=null!=i.Z&&ms!==Ut,o=new(r?Ut:ms);return"j"in i?o.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),r?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,o,a,s=0,u=e.length,l=n.length;s<u;){if(i>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=E[a in vs?e.charAt(s++):a])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.w=S.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){A.lastIndex=0;var i=A.exec(e.slice(n));return i?(t.m=C.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){T.lastIndex=0;var i=T.exec(e.slice(n));return i?(t.m=P.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,L.c.toString(),e,i)}function u(t,e,i){return n(t,L.x.toString(),e,i)}function l(t,e,i){return n(t,L.X.toString(),e,i)}function c(t,e,n){var i=y.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,d=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,_=t.months,v=t.shortMonths;e.utc=function(t){function n(t){try{ms=Ut;var e=new ms;return e._=t,i(e)}finally{ms=Date}}var i=e(t);return n.parse=function(t){try{ms=Ut;var e=i.parse(t);return e&&e._}finally{ms=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=fe;var y=fa.map(),x=qt(g),w=Kt(g),b=qt(m),S=Kt(m),T=qt(_),P=Kt(_),A=qt(v),C=Kt(v);p.forEach(function(t,e){y.set(t.toLowerCase(),e)});var L={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return v[t.getMonth()]},B:function(t){return _[t.getMonth()]},c:e(h),d:function(t,e){return Wt(t.getDate(),e,2)},e:function(t,e){return Wt(t.getDate(),e,2)},H:function(t,e){return Wt(t.getHours(),e,2)},I:function(t,e){return Wt(t.getHours()%12||12,e,2)},j:function(t,e){return Wt(1+gs.dayOfYear(t),e,3)},L:function(t,e){return Wt(t.getMilliseconds(),e,3)},m:function(t,e){return Wt(t.getMonth()+1,e,2)},M:function(t,e){return Wt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Wt(t.getSeconds(),e,2)},U:function(t,e){return Wt(gs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Wt(gs.mondayOfYear(t),e,2)},x:e(d),X:e(f),y:function(t,e){return Wt(t.getFullYear()%100,e,2)},Y:function(t,e){return Wt(t.getFullYear()%1e4,e,4)},Z:he,"%":function(){return"%"}},E={a:i,A:r,b:o,B:a,c:s,d:oe,e:oe,H:se,I:se,j:ae,L:ce,m:re,M:ue,p:c,S:le,U:$t,w:Qt,W:Jt,x:u,X:l,y:ee,Y:te,Z:ne,"%":de};return e}function Wt(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function qt(t){return new RegExp("^(?:"+t.map(fa.requote).join("|")+")","i")}function Kt(t){for(var e=new p,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Qt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function $t(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Jt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function te(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function ee(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.y=ie(+i[0]),n+i[0].length):-1}function ne(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function ie(t){return t+(t>68?1900:2e3)}function re(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function oe(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ae(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function se(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ue(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function le(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function ce(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function he(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=Sa(e)/60|0,r=Sa(e)%60;return n+Wt(i,"0",2)+Wt(r,"0",2)}function de(t,e,n){xs.lastIndex=0;var i=xs.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function fe(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function pe(){}function ge(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function me(t,e){t&&Ts.hasOwnProperty(t.type)&&Ts[t.type](t,e)}function _e(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function ve(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)_e(t[n],e,1);e.polygonEnd()}function ye(){function t(t,e){t*=Xa,e=e*Xa/2+ja/4;var n=t-i,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,h=r*u+c*Math.cos(s),d=c*a*Math.sin(s);As.add(Math.atan2(d,h)),i=t,r=u,o=l}var e,n,i,r,o;Cs.point=function(a,s){Cs.point=t,i=(e=a)*Xa,r=Math.cos(s=(n=s)*Xa/2+ja/4),o=Math.sin(s)},Cs.lineEnd=function(){t(e,n)}}function xe(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function we(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function be(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Se(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Te(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Pe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ae(t){return[Math.atan2(t[1],t[0]),at(t[2])]}function Ce(t,e){return Sa(t[0]-e[0])<Ga&&Sa(t[1]-e[1])<Ga}function Le(t,e){t*=Xa;var n=Math.cos(e*=Xa);Ee(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ee(t,e,n){++Ls,ks+=(t-ks)/Ls,Ms+=(e-Ms)/Ls,Os+=(n-Os)/Ls}function ke(){function t(t,r){t*=Xa;var o=Math.cos(r*=Xa),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(r),l=Math.atan2(Math.sqrt((l=n*u-i*s)*l+(l=i*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+i*u);Es+=l,Is+=l*(e+(e=a)),Rs+=l*(n+(n=s)),Ns+=l*(i+(i=u)),Ee(e,n,i)}var e,n,i;Fs.point=function(r,o){r*=Xa;var a=Math.cos(o*=Xa);e=a*Math.cos(r),n=a*Math.sin(r),i=Math.sin(o),Fs.point=t,Ee(e,n,i)}}function Me(){Fs.point=Le}function Oe(){function t(t,e){t*=Xa;var n=Math.cos(e*=Xa),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=r*u-o*s,c=o*a-i*u,h=i*s-r*a,d=Math.sqrt(l*l+c*c+h*h),f=i*a+r*s+o*u,p=d&&-ot(f)/d,g=Math.atan2(d,f);zs+=p*l,Vs+=p*c,Ds+=p*h,Es+=g,Is+=g*(i+(i=a)),Rs+=g*(r+(r=s)),Ns+=g*(o+(o=u)),Ee(i,r,o)}var e,n,i,r,o;Fs.point=function(a,s){e=a,n=s,Fs.point=t,a*=Xa;var u=Math.cos(s*=Xa);i=u*Math.cos(a),r=u*Math.sin(a),o=Math.sin(s),Ee(i,r,o)},Fs.lineEnd=function(){t(e,n),Fs.lineEnd=Me,Fs.point=Le}}function Ie(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Re(){return!0}function Ne(t,e,n,i,r){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Ce(n,i)){r.lineStart();for(var s=0;s<e;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var u=new Ve(n,t,null,!0),l=new Ve(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Ve(i,t,null,!1),l=new Ve(i,null,u,!0),u.o=l,o.push(u),a.push(l)}}),a.sort(e),ze(o),ze(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,h,d=o[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;c=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,l=c.length;s<l;++s)r.point((h=c[s])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p){c=f.p.z;for(var s=c.length-1;s>=0;--s)r.point((h=c[s])[0],h[1])}else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);r.lineEnd()}}}function ze(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Ve(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function De(t,e,n,i){return function(r,o){function a(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function u(){v.point=s,m.lineStart()}function l(){v.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);x.point(n[0],n[1])}function h(){x.lineStart(),g=[]}function d(){c(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),n=y.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,a=-1;if(i>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++a<i;)o.point((r=t[a])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Fe))}var f,p,g,m=e(o),_=r.invert(i[0],i[1]),v={point:a,lineStart:u,lineEnd:l,polygonStart:function(){v.point=c,v.lineStart=h,v.lineEnd=d,f=[],p=[]},polygonEnd:function(){v.point=a,v.lineStart=u,v.lineEnd=l,f=fa.merge(f);var t=Ze(_,p);f.length?(w||(o.polygonStart(),w=!0),Ne(f,Be,t,n,o)):t&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),f=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},y=Ge(),x=e(y),w=!1;return v}}function Fe(t){return t.length>1}function Ge(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:A,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Be(t,e){return((t=t.x)[0]<0?t[1]-Za-Ga:Za-t[1])-((e=e.x)[0]<0?e[1]-Za-Ga:Za-e[1])}function je(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?ja:-ja,u=Sa(o-n);Sa(u-ja)<Ga?(t.point(n,i=(i+a)/2>0?Za:-Za),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&u>=ja&&(Sa(n-r)<Ga&&(n-=r*Ga),Sa(o-s)<Ga&&(o-=s*Ga),i=He(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function He(t,e,n,i){var r,o,a=Math.sin(t-n);return Sa(a)>Ga?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function Ue(t,e,n,i){var r;if(null==t)r=n*Za,i.point(-ja,r),i.point(0,r),i.point(ja,r),i.point(ja,0),i.point(ja,-r),i.point(0,-r),i.point(-ja,-r),i.point(-ja,0),i.point(-ja,r);else if(Sa(t[0]-e[0])>Ga){var o=t[0]<e[0]?ja:-ja;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Ze(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;As.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],d=h[0],f=h[1]/2+ja/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===c&&(m=0),t=l[m];var _=t[0],v=t[1]/2+ja/4,y=Math.sin(v),x=Math.cos(v),w=_-d,b=w>=0?1:-1,S=b*w,T=S>ja,P=p*y;if(As.add(Math.atan2(P*b*Math.sin(S),g*x+P*Math.cos(S))),o+=T?w+b*Ha:w,T^d>=n^_>=n){var A=be(xe(h),xe(t));Pe(A);var C=be(r,A);Pe(C);var L=(T^w>=0?-1:1)*at(C[2]);(i>L||i===L&&(A[0]||A[1]))&&(a+=T^w>=0?1:-1)}if(!m++)break;d=_,p=y,g=x,h=t}}return(o<-Ga||o<Ga&&As<-Ga)^1&a}function Xe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,d){var f,p=[h,d],g=e(h,d),m=a?g?0:r(h,d):g?r(h+(h<0?ja:-ja),d):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(f=i(n,p),(Ce(n,f)||Ce(p,f))&&(p[0]+=Ga,p[1]+=Ga,g=e(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),f=i(p,n),t.point(f[0],f[1])):(f=i(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(s&&n&&a^g){var _;m&o||!(_=i(p,n,!0))||(c=0,a?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!g||n&&Ce(n,p)||t.point(p[0],p[1]),n=p,u=g,o=m},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function i(t,e,n){var i=xe(t),r=xe(e),a=[1,0,0],s=be(i,r),u=we(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var h=o*u/c,d=-o*l/c,f=be(a,s),p=Te(a,h);Se(p,Te(s,d));var g=f,m=we(p,g),_=we(g,g),v=m*m-_*(we(p,p)-1);if(!(v<0)){var y=Math.sqrt(v),x=Te(g,(-m-y)/_);if(Se(x,p),x=Ae(x),!n)return x;var w,b=t[0],S=e[0],T=t[1],P=e[1];S<b&&(w=b,b=S,S=w);var A=S-b,C=Sa(A-ja)<Ga,L=C||A<Ga;if(!C&&P<T&&(w=T,T=P,P=w),L?C?T+P>0^x[1]<(Sa(x[0]-b)<Ga?T:P):T<=x[1]&&x[1]<=P:A>ja^(b<=x[0]&&x[0]<=S)){var E=Te(g,(-m+y)/_);return Se(E,p),[x,Ae(E)]}}}function r(e,n){var i=a?t:ja-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var o=Math.cos(t),a=o>0,s=Sa(o)>Ga;return De(e,n,xn(t,6*Xa),a?[0,-t]:[-ja,t-ja])}function Ye(t,e,n,i){return function(r){var o,a=r.a,s=r.b,u=a.x,l=a.y,c=s.x,h=s.y,d=0,f=1,p=c-u,g=h-l;if(o=t-u,p||!(o>0)){if(o/=p,p<0){if(o<d)return;o<f&&(f=o)}else if(p>0){if(o>f)return;o>d&&(d=o)}if(o=n-u,p||!(o<0)){if(o/=p,p<0){if(o>f)return;o>d&&(d=o)}else if(p>0){if(o<d)return;o<f&&(f=o)}if(o=e-l,g||!(o>0)){if(o/=g,g<0){if(o<d)return;o<f&&(f=o)}else if(g>0){if(o>f)return;o>d&&(d=o)}if(o=i-l,g||!(o<0)){if(o/=g,g<0){if(o>f)return;o>d&&(d=o)}else if(g>0){if(o<d)return;o<f&&(f=o)}return d>0&&(r.a={x:u+d*p,y:l+d*g}),f<1&&(r.b={x:u+f*p,y:l+f*g}),r}}}}}}function We(t,e,n,i){function r(i,r){return Sa(i[0]-t)<Ga?r>0?0:3:Sa(i[0]-n)<Ga?r>0?2:1:Sa(i[1]-e)<Ga?r>0?1:0:r>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=m.length,i=t[1],r=0;r<n;++r)for(var o,a=1,s=m[r],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=i?o[1]>i&&rt(l,o,t)>0&&++e:o[1]<=i&&rt(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,s,u,l){var c=0,h=0;if(null==o||(c=r(o,u))!==(h=r(s,u))||a(o,s)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+u+4)%4)!==h);else l.point(s[0],s[1])}function c(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function h(t,e){c(t,e)&&s.point(t,e)}function d(){E.point=p,m&&m.push(_=[]),T=!0,S=!1,w=b=NaN}function f(){g&&(p(v,y),x&&S&&C.rejoin(),g.push(C.buffer())),E.point=h,S&&s.lineEnd()}function p(t,e){t=Math.max(-Bs,Math.min(Bs,t)),e=Math.max(-Bs,Math.min(Bs,e));var n=c(t,e);if(m&&_.push([t,e]),T)v=t,y=e,x=n,T=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&S)s.point(t,e);else{var i={a:{x:w,y:b},b:{x:t,y:e}};L(i)?(S||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),P=!1):n&&(s.lineStart(),s.point(t,e),P=!1)}w=t,b=e,S=n}var g,m,_,v,y,x,w,b,S,T,P,A=s,C=Ge(),L=Ye(t,e,n,i),E={point:h,lineStart:d,lineEnd:f,polygonStart:function(){s=C,g=[],m=[],P=!0},polygonEnd:function(){s=A,g=fa.merge(g);var e=u([t,i]),n=P&&e,r=g.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),r&&Ne(g,o,e,l,s),s.polygonEnd()),g=m=_=null}};return E}}function qe(t){var e=0,n=ja/3,i=dn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*ja/180,n=t[1]*ja/180):[e/ja*180,n/ja*180]},r}function Ke(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,at((o-(t*t+n*n)*r*r)/(2*r))]},n}function Qe(){function t(t,e){Hs+=r*t-i*e,i=t,r=e}var e,n,i,r;Ws.point=function(o,a){Ws.point=t,e=i=o,n=r=a},Ws.lineEnd=function(){t(e,n)}}function $e(t,e){t<Us&&(Us=t),t>Xs&&(Xs=t),e<Zs&&(Zs=e),e>Ys&&(Ys=e)}function Je(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=tn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=tn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function tn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function en(t,e){ks+=t,Ms+=e,++Os}function nn(){function t(t,i){var r=t-e,o=i-n,a=Math.sqrt(r*r+o*o);Is+=a*(e+t)/2,Rs+=a*(n+i)/2,Ns+=a,en(e=t,n=i)}var e,n;Ks.point=function(i,r){Ks.point=t,en(e=i,n=r)}}function rn(){Ks.point=en}function on(){function t(t,e){var n=t-i,o=e-r,a=Math.sqrt(n*n+o*o);Is+=a*(i+t)/2,Rs+=a*(r+e)/2,Ns+=a,a=r*t-i*e,zs+=a*(i+t),Vs+=a*(r+e),Ds+=3*a,en(i=t,r=e)}var e,n,i,r;Ks.point=function(o,a){Ks.point=t,en(e=i=o,n=r=a)},Ks.lineEnd=function(){t(e,n)}}function an(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Ha)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return a=t,s},result:A};return s}function sn(t){function e(t){return(s?i:n)(t)}function n(e){return cn(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){y=NaN,T.point=o,e.lineStart()}function o(n,i){var o=xe([n,i]),a=t(n,i);r(y,x,v,w,b,S,y=a[0],x=a[1],v=n,w=o[0],b=o[1],S=o[2],s,e),e.point(y,x)}function a(){T.point=n,e.lineEnd()}function u(){i(),T.point=l,T.lineEnd=c}function l(t,e){o(h=t,d=e),f=y,p=x,g=w,m=b,_=S,T.point=o}function c(){r(y,x,v,w,b,S,f,p,h,g,m,_,s,e),T.lineEnd=a,a()}var h,d,f,p,g,m,_,v,y,x,w,b,S,T={point:n,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),T.lineStart=u},polygonEnd:function(){e.polygonEnd(),T.lineStart=i}};return T}function r(e,n,i,s,u,l,c,h,d,f,p,g,m,_){var v=c-e,y=h-n,x=v*v+y*y;if(x>4*o&&m--){var w=s+f,b=u+p,S=l+g,T=Math.sqrt(w*w+b*b+S*S),P=Math.asin(S/=T),A=Sa(Sa(S)-1)<Ga||Sa(i-d)<Ga?(i+d)/2:Math.atan2(b,w),C=t(A,P),L=C[0],E=C[1],k=L-e,M=E-n,O=y*k-v*M;(O*O/x>o||Sa((v*k+y*M)/x-.5)>.3||s*f+u*p+l*g<a)&&(r(e,n,i,s,u,l,L,E,A,w/=T,b/=T,S,m,_),_.point(L,E),r(L,E,A,w,b,S,c,h,d,f,p,g,m,_))}}var o=.5,a=Math.cos(30*Xa),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function un(t){var e=sn(function(e,n){return t([e*Ya,n*Ya])});return function(t){return fn(e(t))}}function ln(t){this.stream=t}function cn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function hn(t){return dn(function(){return t})()}function dn(t){function e(t){return t=s(t[0]*Xa,t[1]*Xa),[t[0]*d+u,l-t[1]*d]}function n(t){return(t=s.invert((t[0]-u)/d,(l-t[1])/d))&&[t[0]*Ya,t[1]*Ya]}function i(){s=Ie(a=mn(_,v,y),o);var t=o(g,m);return u=f-t[0]*d,l=p+t[1]*d,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=sn(function(t,e){return t=o(t,e),[t[0]*d+u,l-t[1]*d]}),d=150,f=480,p=250,g=0,m=0,_=0,v=0,y=0,x=Gs,w=S,b=null,T=null;return e.stream=function(t){return c&&(c.valid=!1),c=fn(x(a,h(w(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(b=t,Gs):Xe((b=+t)*Xa),r()):b},e.clipExtent=function(t){return arguments.length?(T=t,w=t?We(t[0][0],t[0][1],t[1][0],t[1][1]):S,r()):T},e.scale=function(t){return arguments.length?(d=+t,i()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],i()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Xa,m=t[1]%360*Xa,i()):[g*Ya,m*Ya]},e.rotate=function(t){return arguments.length?(_=t[0]%360*Xa,v=t[1]%360*Xa,y=t.length>2?t[2]%360*Xa:0,i()):[_*Ya,v*Ya,y*Ya]},fa.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function fn(t){return cn(t,function(e,n){t.point(e*Xa,n*Xa)})}function pn(t,e){return[t,e]}function gn(t,e){return[t>ja?t-Ha:t<-ja?t+Ha:t,e]}function mn(t,e,n){return t?e||n?Ie(vn(t),yn(e,n)):vn(t):e||n?yn(e,n):gn}function _n(t){return function(e,n){return e+=t,[e>ja?e-Ha:e<-ja?e+Ha:e,n]}}function vn(t){var e=_n(t);return e.invert=_n(-t),e}function yn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*i+s*r;return[Math.atan2(u*o-c*a,s*i-l*r),at(c*o+u*a)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*i+c*r),at(c*i-s*r)]},n}function xn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,a,s){var u=a*e;null!=r?(r=wn(n,r),o=wn(n,o),(a>0?r<o:r>o)&&(r+=a*Ha)):(r=t+a*Ha,o=t-.5*u);for(var l,c=r;a>0?c>o:c<o;c-=u)s.point((l=Ae([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],l[1])}}function wn(t,e){var n=xe(e);n[0]-=t,Pe(n);var i=ot(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ga)%(2*Math.PI)}function bn(t,e,n){var i=fa.range(t,e-Ga,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Sn(t,e,n){var i=fa.range(t,e-Ga,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function Tn(t){return t.source}function Pn(t){return t.target}function An(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),a=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),l=r*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),d=2*Math.asin(Math.sqrt(ct(i-e)+r*a*ct(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,i=n*u+e*c,r=n*l+e*h,a=n*o+e*s;return[Math.atan2(r,i)*Ya,Math.atan2(a,Math.sqrt(i*i+r*r))*Ya]}:function(){return[t*Ya,e*Ya]};return p.distance=d,p}function Cn(){function t(t,r){var o=Math.sin(r*=Xa),a=Math.cos(r),s=Sa((t*=Xa)-e),u=Math.cos(s);Qs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*o-n*a*u)*s),n*o+i*a*u),e=t,n=o,i=a}var e,n,i;$s.point=function(r,o){e=r*Xa,n=Math.sin(o*=Xa),i=Math.cos(o),$s.point=t},$s.lineEnd=function(){$s.point=$s.lineEnd=A}}function Ln(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*o,i*a),Math.asin(i&&n*o/i)]},n}function En(t,e){function n(t,e){a>0?e<-Za+Ga&&(e=-Za+Ga):e>Za-Ga&&(e=Za-Ga);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(ja/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=it(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-Za]},n):Mn}function kn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return Sa(r)<Ga?pn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-it(r)*Math.sqrt(t*t+n*n)]},n)}function Mn(t,e){return[t,Math.log(Math.tan(ja/4+e/2))]}function On(t){var e,n=hn(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=ja*i(),u=r();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function In(t,e){return[Math.log(Math.tan(ja/4+e/2)),-t]}function Rn(t){return t[0]}function Nn(t){return t[1]}function zn(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;i>1&&rt(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Vn(t,e){return t[0]-e[0]||t[1]-e[1]}function Dn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Fn(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,u=t[1],l=n[1],c=e[1]-u,h=i[1]-l,d=(s*(u-l)-h*(r-o))/(h*a-s*c);return[r+d*a,u+d*c]}function Gn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Bn(){ui(this),this.edge=this.site=this.circle=null}function jn(t){var e=cu.pop()||new Bn;return e.site=t,e}function Hn(t){Jn(t),su.remove(t),cu.push(t),ui(t)}function Un(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];Hn(t);for(var u=o;u.circle&&Sa(n-u.circle.x)<Ga&&Sa(i-u.circle.cy)<Ga;)o=u.P,s.unshift(u),Hn(u),u=o;s.unshift(u),Jn(u);for(var l=a;l.circle&&Sa(n-l.circle.x)<Ga&&Sa(i-l.circle.cy)<Ga;)a=l.N,s.push(l),Hn(l),l=a;s.push(l),Jn(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],oi(l.edge,u.site,l.site,r);u=s[0],l=s[h-1],l.edge=ii(u.site,l.site,null,r),$n(u),$n(l)}function Zn(t){for(var e,n,i,r,o=t.x,a=t.y,s=su._;s;)if((i=Xn(s,a)-o)>Ga)s=s.L;else{if(!((r=o-Yn(s,a))>Ga)){i>-Ga?(e=s.P,n=s):r>-Ga?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=jn(t);if(su.insert(e,u),e||n){if(e===n)return Jn(e),n=jn(e.site),su.insert(u,n),u.edge=n.edge=ii(e.site,u.site),$n(e),void $n(n);if(!n)return void(u.edge=ii(e.site,u.site));Jn(e),Jn(n);var l=e.site,c=l.x,h=l.y,d=t.x-c,f=t.y-h,p=n.site,g=p.x-c,m=p.y-h,_=2*(d*m-f*g),v=d*d+f*f,y=g*g+m*m,x={x:(m*v-f*y)/_+c,y:(d*y-g*v)/_+h};oi(n.edge,l,p,x),u.edge=ii(l,t,null,x),n.edge=ii(t,p,null,x),$n(e),$n(n)}}function Xn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,d=c/l;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function Yn(t,e){var n=t.N;if(n)return Xn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Wn(t){this.site=t,this.edges=[]}function qn(t){for(var e,n,i,r,o,a,s,u,l,c,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=au,m=g.length;m--;)if((o=g[m])&&o.prepare())for(s=o.edges,u=s.length,a=0;a<u;)c=s[a].end(),i=c.x,r=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(Sa(i-e)>Ga||Sa(r-n)>Ga)&&(s.splice(a,0,new ai(ri(o.site,c,Sa(i-h)<Ga&&p-r>Ga?{x:h,y:Sa(e-h)<Ga?n:p}:Sa(r-p)<Ga&&d-i>Ga?{x:Sa(n-p)<Ga?e:d,y:p}:Sa(i-d)<Ga&&r-f>Ga?{x:d,y:Sa(e-d)<Ga?n:f}:Sa(r-f)<Ga&&i-h>Ga?{x:Sa(n-f)<Ga?e:h,y:f}:null),o.site,null)),++u)}function Kn(t,e){return e.angle-t.angle}function Qn(){ui(this),this.x=this.y=this.arc=this.site=this.cy=null}function $n(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,u=i.x-a,l=i.y-s,c=o.x-a,h=o.y-s,d=2*(u*h-l*c);if(!(d>=-Ba)){var f=u*u+l*l,p=c*c+h*h,g=(h*f-l*p)/d,m=(u*p-c*f)/d,h=m+s,_=hu.pop()||new Qn;_.arc=t,_.site=r,_.x=g+a,_.y=h+Math.sqrt(g*g+m*m),_.cy=h,t.circle=_;for(var v=null,y=lu._;y;)if(_.y<y.y||_.y===y.y&&_.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}lu.insert(v,_),v||(uu=_)}}}}function Jn(t){var e=t.circle;e&&(e.P||(uu=e.N),lu.remove(e),hu.push(e),ui(e),t.circle=null)}function ti(t){for(var e,n=ou,i=Ye(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!ei(e,t)||!i(e)||Sa(e.a.x-e.b.x)<Ga&&Sa(e.a.y-e.b.y)<Ga)&&(e.a=e.b=null,n.splice(r,1))}function ei(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,d=c.x,f=c.y,p=h.x,g=h.y,m=(d+p)/2,_=(f+g)/2;if(g===f){if(m<a||m>=s)return;if(d>p){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else if(i=(d-p)/(g-f),r=_-i*m,i<-1||i>1)if(d>p){if(o){if(o.y>=l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(f<g){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function ni(t,e){this.l=t,this.r=e,this.a=this.b=null}function ii(t,e,n,i){var r=new ni(t,e);return ou.push(r),n&&oi(r,t,e,n),i&&oi(r,e,t,i),au[t.i].edges.push(new ai(r,t,e)),au[e.i].edges.push(new ai(r,e,t)),r}function ri(t,e,n){var i=new ni(t,null);return i.a=e,i.b=n,ou.push(i),i}function oi(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ai(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function si(){this._=null}function ui(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function li(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ci(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function hi(t){for(;t.L;)t=t.L;return t}function di(t,e){var n,i,r,o=t.sort(fi).pop();for(ou=[],au=new Array(t.length),su=new si,lu=new si;;)if(r=uu,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(au[o.i]=new Wn(o),Zn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Un(r.arc)}e&&(ti(e),qn(e));var a={cells:au,edges:ou};return su=lu=ou=au=null,a}function fi(t,e){return e.y-t.y||e.x-t.x}function pi(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function gi(t){return t.x}function mi(t){return t.y}function _i(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function vi(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),u=e.nodes;u[0]&&vi(t,u[0],n,i,a,s),u[1]&&vi(t,u[1],a,i,r,s),u[2]&&vi(t,u[2],n,s,a,o),u[3]&&vi(t,u[3],a,s,r,o)}}function yi(t,e,n,i,r,o,a){var s,u=1/0;return function t(l,c,h,d,f){if(!(c>o||h>a||d<i||f<r)){if(p=l.point){var p,g=e-l.x,m=n-l.y,_=g*g+m*m;if(_<u){var v=Math.sqrt(u=_);i=e-v,r=n-v,o=e+v,a=n+v,s=p}}for(var y=l.nodes,x=.5*(c+d),w=.5*(h+f),b=e>=x,S=n>=w,T=S<<1|b,P=T+4;T<P;++T)if(l=y[3&T])switch(3&T){case 0:t(l,c,h,x,w);break;case 1:t(l,x,h,d,w);break;case 2:t(l,c,w,x,f);break;case 3:t(l,x,w,d,f)}}}(t,i,r,o,a),s}function xi(t,e){t=fa.rgb(t),e=fa.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+Pt(Math.round(n+o*t))+Pt(Math.round(i+a*t))+Pt(Math.round(r+s*t))}}function wi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=Ti(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function bi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Si(t,e){var n,i,r,o=fu.lastIndex=pu.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=fu.exec(t))&&(i=pu.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:bi(n,i)})),o=pu.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function Ti(t,e){for(var n,i=fa.interpolators.length;--i>=0&&!(n=fa.interpolators[i](t,e)););return n}function Pi(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(Ti(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<a;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}function Ai(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Ci(t){return function(e){return 1-t(1-e)}}function Li(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Ei(t){return t*t}function ki(t){return t*t*t}function Mi(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Oi(t){return function(e){return Math.pow(e,t)}}function Ii(t){return 1-Math.cos(t*Za)}function Ri(t){return Math.pow(2,10*(t-1))}function Ni(t){return 1-Math.sqrt(1-t*t)}function zi(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ha*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Ha/e)}}function Vi(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Di(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Fi(t,e){t=fa.hcl(t),e=fa.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return gt(n+o*t,i+a*t,r+s*t)+""}}function Gi(t,e){t=fa.hsl(t),e=fa.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return ft(n+o*t,i+a*t,r+s*t)+""}}function Bi(t,e){t=fa.lab(t),e=fa.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return _t(n+o*t,i+a*t,r+s*t)+""}}function ji(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Hi(t){var e=[t.a,t.b],n=[t.c,t.d],i=Zi(e),r=Ui(e,n),o=Zi(Xi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ya,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Ya:0}function Ui(t,e){return t[0]*e[0]+t[1]*e[1]}function Zi(t){var e=Math.sqrt(Ui(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Xi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Yi(t){return t.length?t.pop()+",":""}function Wi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:bi(t[0],e[0])},{i:r-2,x:bi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function qi(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(Yi(n)+"rotate(",null,")")-2,x:bi(t,e)})):e&&n.push(Yi(n)+"rotate("+e+")")}function Ki(t,e,n,i){t!==e?i.push({i:n.push(Yi(n)+"skewX(",null,")")-2,x:bi(t,e)}):e&&n.push(Yi(n)+"skewX("+e+")")}function Qi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Yi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:bi(t[0],e[0])},{i:r-2,x:bi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Yi(n)+"scale("+e+")")}function $i(t,e){var n=[],i=[];return t=fa.transform(t),e=fa.transform(e),Wi(t.translate,e.translate,n,i),qi(t.rotate,e.rotate,n,i),Ki(t.skew,e.skew,n,i),Qi(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,o=i.length;++r<o;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function Ji(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function tr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function er(t){for(var e=t.source,n=t.target,i=ir(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function nr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ir(t,e){if(t===e)return t;for(var n=nr(t),i=nr(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function rr(t){t.fixed|=2}function or(t){t.fixed&=-7}function ar(t){t.fixed|=4,t.px=t.x,t.py=t.y}function sr(t){t.fixed&=-5}function ur(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(ur(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function lr(t,e){return fa.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=gr,t}function cr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function hr(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function dr(t){return t.children}function fr(t){return t.value}function pr(t,e){return e.value-t.value}function gr(t){return fa.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function mr(t){return t.x}function _r(t){return t.y}function vr(t,e,n){t.y0=e,t.y=n}function yr(t){return fa.range(t.length)}function xr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function wr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function br(t){return t.reduce(Sr,0)}function Sr(t,e){return t+e[1]}function Tr(t,e){return Pr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Pr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function Ar(t){return[fa.min(t),fa.max(t)]}function Cr(t,e){return t.value-e.value}function Lr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Er(t,e){t._pack_next=e,e._pack_prev=t}function kr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Mr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(l=n.length)){var n,i,r,o,a,s,u,l,c=1/0,h=-1/0,d=1/0,f=-1/0;if(n.forEach(Or),i=n[0],i.x=-i.r,i.y=0,e(i),l>1&&(r=n[1],r.x=r.r,r.y=0,e(r),l>2))for(o=n[2],Nr(i,r,o),e(o),Lr(i,o),i._pack_prev=o,Lr(o,r),r=i._pack_next,a=3;a<l;a++){Nr(i,r,o=n[a]);var p=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(kr(s,o)){p=1;break}if(1==p)for(u=i._pack_prev;u!==s._pack_prev&&!kr(u,o);u=u._pack_prev,m++);p?(g<m||g==m&&r.r<i.r?Er(i,r=s):Er(i=u,r),a--):(Lr(i,o),r=o,e(o))}var _=(c+h)/2,v=(d+f)/2,y=0;for(a=0;a<l;a++)o=n[a],o.x-=_,o.y-=v,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=y,n.forEach(Ir)}}function Or(t){t._pack_next=t._pack_prev=t}function Ir(t){delete t._pack_next,delete t._pack_prev}function Rr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)Rr(r[o],e,n,i)}function Nr(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o;a*=a,i*=i;var u=.5+(i-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+u*r+l*o,n.y=t.y+u*o-l*r}else n.x=t.x+i,n.y=t.y}function zr(t,e){return t.parent==e.parent?1:2}function Vr(t){var e=t.children;return e.length?e[0]:t.t}function Dr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Fr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Gr(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Br(t,e,n){return t.a.parent===e.parent?t.a:n}function jr(t){return 1+fa.max(t,function(t){return t.y})}function Hr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ur(t){var e=t.children;return e&&e.length?Ur(e[0]):t}function Zr(t){var e,n=t.children;return n&&(e=n.length)?Zr(n[e-1]):t}function Xr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Yr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function Wr(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function qr(t){return t.rangeExtent?t.rangeExtent():Wr(t.range())}function Kr(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Qr(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function $r(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Pu}function Jr(t,e,n,i){var r=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)r.push(n(t[a-1],t[a])),o.push(i(e[a-1],e[a]));return function(e){var n=fa.bisect(t,e,1,s)-1;return o[n](r[n](e))}}function to(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Jr:Kr,u=i?tr:Ji;return a=r(t,e,u,n),s=r(e,t,u,Ti),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(ji)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return ro(t,e)},o.tickFormat=function(e,n){return oo(t,e,n)},o.nice=function(e){return no(t,e),r()},o.copy=function(){return to(t,e,n,i)},r()}function eo(t,e){return fa.rebind(t,e,"range","rangeRound","interpolate","clamp")}function no(t,e){return Qr(t,$r(io(t,e)[2])),Qr(t,$r(io(t,e)[2])),t}function io(t,e){null==e&&(e=10);var n=Wr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ro(t,e){return fa.range.apply(fa,io(t,e))}function oo(t,e,n){var i=io(t,e);if(n){var r=fs.exec(n);if(r.shift(),"s"===r[8]){var o=fa.formatPrefix(Math.max(Sa(i[0]),Sa(i[1])));return r[7]||(r[7]="."+ao(o.scale(i[2]))),r[8]="f",n=fa.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+so(r[8],i)),n=r.join("")}else n=",."+ao(i[2])+"f";return fa.format(n)}function ao(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function so(t,e){var n=ao(e[2]);return t in Au?Math.abs(n-ao(Math.max(Sa(e[0]),Sa(e[1]))))+ +("e"!==t):n-2*("%"===t)}function uo(t,e,n,i){function r(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(r(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),a):i},a.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),a):e},a.nice=function(){var e=Qr(i.map(r),n?Math:Lu);return t.domain(e),i=e.map(o),a},a.ticks=function(){var t=Wr(i),a=[],s=t[0],u=t[1],l=Math.floor(r(s)),c=Math.ceil(r(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var d=1;d<h;d++)a.push(o(l)*d);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var d=h-1;d>0;d--)a.push(o(l)*d);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Cu;arguments.length<2?n=Cu:"function"!==typeof n&&(n=fa.format(n));var i=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/o(Math.round(r(t)));return a*e<e-.5&&(a*=e),a<=i?n(t):""}},a.copy=function(){return uo(t.copy(),e,n,i)},eo(a,t)}function lo(t,e,n){function i(e){return t(r(e))}var r=co(e),o=co(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return ro(n,t)},i.tickFormat=function(t,e){return oo(n,t,e)},i.nice=function(t){return i.domain(no(n,t))},i.exponent=function(a){return arguments.length?(r=co(e=a),o=co(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return lo(t.copy(),e,n)},eo(i,t)}function co(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ho(t,e){function n(n){return o[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%o.length]}function i(e,n){return fa.range(t.length).map(function(t){return e+n*t})}var r,o,a;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new p;for(var o,a=-1,s=i.length;++a<s;)r.has(o=i[a])||r.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],l=r[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+s);return o=i(u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],l=r[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+s)|0;return o=i(u+Math.round(c*s/2+(l-u-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=r[1]<r[0],c=r[l-0],h=r[1-l],d=(h-c)/(t.length-s+2*u);return o=i(c+d*u,d),l&&o.reverse(),a=d*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=r[1]<r[0],c=r[l-0],h=r[1-l],d=Math.floor((h-c)/(t.length-s+2*u));return o=i(c+Math.round((h-c-(t.length-s)*d)/2),d),l&&o.reverse(),a=Math.round(d*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Wr(e.a[0])},n.copy=function(){return ho(t,e)},n.domain(t)}function fo(t,e){function n(){var n=0,o=e.length;for(r=[];++n<o;)r[n-1]=fa.quantile(t,n/o);return i}function i(t){if(!isNaN(t=+t))return e[fa.bisect(r,t)]}var r;return i.domain=function(e){return arguments.length?(t=e.map(u).filter(l).sort(s),n()):t},i.range=function(t){return arguments.length?(e=t,n()):e},i.quantiles=function(){return r},i.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?r[n-1]:t[0],n<r.length?r[n]:t[t.length-1]]},i.copy=function(){return fo(t,e)},n()}function po(t,e,n){function i(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),a=n.length-1,i}var o,a;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/o+t,[e,e+1/o]},i.copy=function(){return po(t,e,n)},r()}function go(t,e){function n(n){if(n<=n)return e[fa.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return go(t,e)},n}function mo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ro(t,e)},e.tickFormat=function(e,n){return oo(t,e,n)},e.copy=function(){return mo(t)},e}function _o(){return 0}function vo(t){return t.innerRadius}function yo(t){return t.outerRadius}function xo(t){return t.startAngle}function wo(t){return t.endAngle}function bo(t){return t&&t.padAngle}function So(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function To(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,d=e[0]+u,f=e[1]+l,p=(c+d)/2,g=(h+f)/2,m=d-c,_=f-h,v=m*m+_*_,y=n-i,x=c*f-d*h,w=(_<0?-1:1)*Math.sqrt(Math.max(0,y*y*v-x*x)),b=(x*_-m*w)/v,S=(-x*m-_*w)/v,T=(x*_+m*w)/v,P=(-x*m+_*w)/v,A=b-p,C=S-g,L=T-p,E=P-g;return A*A+C*C>L*L+E*E&&(b=T,S=P),[[b-u,S-l],[b*n/y,S*n/y]]}function Po(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],h=-1,d=e.length,f=Mt(n),p=Mt(i);++h<d;)r.call(this,u=e[h],h)?c.push([+f.call(this,u,h),+p.call(this,u,h)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Rn,i=Nn,r=Re,o=Ao,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(a="function"===typeof t?o=t:(o=Ru.get(t)||Ao).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Ao(t){return t.length>1?t.join("L"):t+"Z"}function Co(t){return t.join("L")+"Z"}function Lo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function Eo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function ko(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Mo(t,e){return t.length<4?Ao(t):t[1]+Ro(t.slice(1,-1),No(t,e))}function Oo(t,e){return t.length<3?Co(t):t[0]+Ro((t.push(t[0]),t),No([t[t.length-2]].concat(t,[t[1]]),e))}function Io(t,e){return t.length<3?Ao(t):t[0]+Ro(t,No(t,e))}function Ro(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ao(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function No(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function zo(t){if(t.length<3)return Ao(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],u=[r,",",o,"L",Go(Vu,a),",",Go(Vu,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Bo(u,a,s);return t.pop(),u.push("L",i),u.join("")}function Vo(t){if(t.length<4)return Ao(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Go(Vu,o)+","+Go(Vu,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Bo(n,o,a);return n.join("")}function Do(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Go(Vu,a),",",Go(Vu,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Bo(e,a,s);return e.join("")}function Fo(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)i=t[l],r=l/n,i[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*u);return zo(t)}function Go(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Bo(t,e,n){t.push("C",Go(Nu,e),",",Go(Nu,n),",",Go(zu,e),",",Go(zu,n),",",Go(Vu,e),",",Go(Vu,n))}function jo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ho(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=jo(r,o);++e<n;)i[e]=(a+(a=jo(r=o,o=t[e+1])))/2;return i[e]=a,i}function Uo(t){for(var e,n,i,r,o=[],a=Ho(t),s=-1,u=t.length-1;++s<u;)e=jo(t[s],t[s+1]),Sa(e)<Ga?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,(r=n*n+i*i)>9&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function Zo(t){return t.length<3?Ao(t):t[0]+Ro(t,Uo(t))}function Xo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]-Za,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Yo(t){function e(e){function u(){g.push("M",s(t(_),h),c,l(t(m.reverse()),h),"Z")}for(var d,f,p,g=[],m=[],_=[],v=-1,y=e.length,x=Mt(n),w=Mt(r),b=n===i?function(){return f}:Mt(i),S=r===o?function(){return p}:Mt(o);++v<y;)a.call(this,d=e[v],v)?(m.push([f=+x.call(this,d,v),p=+w.call(this,d,v)]),_.push([+b.call(this,d,v),+S.call(this,d,v)])):m.length&&(u(),m=[],_=[]);return m.length&&u(),g.length?g.join(""):null}var n=Rn,i=Rn,r=0,o=Nn,a=Re,s=Ao,u=s.key,l=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"===typeof t?s=t:(s=Ru.get(t)||Ao).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Wo(t){return t.radius}function qo(t){return[t.x,t.y]}function Ko(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Za;return[n*Math.cos(i),n*Math.sin(i)]}}function Qo(){return 64}function $o(){return"circle"}function Jo(t){var e=Math.sqrt(t/ja);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function ta(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function ea(t,e,n){return La(t,Uu),t.namespace=e,t.id=n,t}function na(t,e,n,i){var r=t.id,o=t.namespace;return W(t,"function"===typeof n?function(t,a,s){t[o][r].tween.set(e,i(n.call(t,t.__data__,a,s)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function ia(t){return null==t&&(t=""),function(){this.textContent=t}}function ra(t){return null==t?"__transition__":"__transition_"+t+"__"}function oa(t,e,n,i,r){function o(t){var e=g.delay;if(l.t=e+u,e<=t)return a(t-e);l.c=a}function a(n){var r=f.active,o=f[r];o&&(o.timer.c=null,o.timer.t=NaN,--f.count,delete f[r],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var a in f)if(+a<i){var p=f[a];p.timer.c=null,p.timer.t=NaN,--f.count,delete f[a]}l.c=s,zt(function(){return l.c&&s(n||1)&&(l.c=null,l.t=NaN),1},0,u),f.active=i,g.event&&g.event.start.call(t,t.__data__,e),d=[],g.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&d.push(i)}),h=g.ease,c=g.duration}function s(r){for(var o=r/c,a=h(o),s=d.length;s>0;)d[--s].call(t,a);if(o>=1)return g.event&&g.event.end.call(t,t.__data__,e),--f.count?delete f[i]:delete t[n],1}var u,l,c,h,d,f=t[n]||(t[n]={active:0,count:0}),g=f[i];g||(u=r.time,l=zt(o,0,u),g=f[i]={tween:new p,time:u,timer:l,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++f.count)}function aa(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function sa(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function ua(t){return t.toISOString()}function la(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,o=fa.bisect(Ju,r);return o==Ju.length?[e.year,io(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/Ju[o-1]<Ju[o]/r?o-1:o]:[nl,io(t,n)[2]]}return i.invert=function(e){return ca(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(ca)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ca(+n+1),e).length}var o=i.domain(),a=Wr(o),s=null==t?r(a,10):"number"===typeof t&&r(a,t);return s&&(t=s[0],e=s[1]),i.domain(Qr(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ca(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ca(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Wr(i.domain()),o=null==t?r(n,10):"number"===typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],ca(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return n},i.copy=function(){return la(t.copy(),e,n)},eo(i,t)}function ca(t){return new Date(t)}function ha(t){return JSON.parse(t.responseText)}function da(t){var e=ma.createRange();return e.selectNode(ma.body),e.createContextualFragment(t.responseText)}var fa={version:"3.5.17"},pa=[].slice,ga=function(t){return pa.call(t)},ma=this.document;if(ma)try{ga(ma.documentElement.childNodes)[0].nodeType}catch(t){ga=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ma)try{ma.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var _a=this.Element.prototype,va=_a.setAttribute,ya=_a.setAttributeNS,xa=this.CSSStyleDeclaration.prototype,wa=xa.setProperty;_a.setAttribute=function(t,e){va.call(this,t,e+"")},_a.setAttributeNS=function(t,e,n){ya.call(this,t,e,n+"")},xa.setProperty=function(t,e,n){wa.call(this,t,e+"",n)}}fa.ascending=s,fa.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},fa.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},fa.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},fa.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},fa.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)l(n=+t[o])&&(i+=n);else for(;++o<r;)l(n=+e.call(t,t[o],o))&&(i+=n);return i},fa.mean=function(t,e){var n,i=0,r=t.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)l(n=u(t[o]))?i+=n:--a;else for(;++o<r;)l(n=u(e.call(t,t[o],o)))?i+=n:--a;if(a)return i/a},fa.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},fa.median=function(t,e){var n,i=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)l(n=u(t[o]))&&i.push(n);else for(;++o<r;)l(n=u(e.call(t,t[o],o)))&&i.push(n);if(i.length)return fa.quantile(i.sort(s),.5)},fa.variance=function(t,e){var n,i,r=t.length,o=0,a=0,s=-1,c=0;if(1===arguments.length)for(;++s<r;)l(n=u(t[s]))&&(i=n-o,o+=i/++c,a+=i*(n-o));else for(;++s<r;)l(n=u(e.call(t,t[s],s)))&&(i=n-o,o+=i/++c,a+=i*(n-o));if(c>1)return a/(c-1)},fa.deviation=function(){var t=fa.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ba=c(s);fa.bisectLeft=ba.left,fa.bisect=fa.bisectRight=ba.right,fa.bisector=function(t){return c(1===t.length?function(e,n){return s(t(e),n)}:t)},fa.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},fa.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},fa.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},fa.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=fa.min(t,h),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i},fa.zip=function(){return fa.transpose(arguments)},fa.keys=function(t){var e=[];for(var n in t)e.push(n);return e},fa.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},fa.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},fa.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--a]=i[e];return n};var Sa=Math.abs;fa.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],o=d(Sa(n)),a=-1;if(t*=o,e*=o,n*=o,n<0)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},fa.map=function(t,e){var n=new p;if(t instanceof p)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var Ta="__proto__",Pa="\0";f(p,{has:_,get:function(t){return this._[g(t)]},set:function(t,e){return this._[g(t)]=e},remove:v,keys:y,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:m(e),value:this._[e]});return t},size:x,empty:w,forEach:function(t){for(var e in this._)t.call(this,m(e),this._[e])}}),fa.nest=function(){function t(e,a,s){if(s>=o.length)return i?i.call(r,a):n?a.sort(n):a;for(var u,l,c,h,d=-1,f=a.length,g=o[s++],m=new p;++d<f;)(h=m.get(u=g(l=a[d])))?h.push(l):m.set(u,[l]);return e?(l=e(),c=function(n,i){l.set(n,t(e,i,s))}):(l={},c=function(n,i){l[n]=t(e,i,s)}),m.forEach(c),l}function e(t,n){if(n>=o.length)return t;var i=[],r=a[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},o=[],a=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(fa.map,n,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return a[o.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},fa.set=function(t){var e=new b;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},f(b,{has:_,add:function(t){return this._[g(t+="")]=!0,t},remove:v,values:y,size:x,empty:w,forEach:function(t){for(var e in this._)t.call(this,m(e))}}),fa.behavior={},fa.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=T(t,e,e[n]);return t};var Aa=["webkit","ms","moz","Moz","o","O"];fa.dispatch=function(){for(var t=new C,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=L(t);return t},C.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},fa.event=null,fa.requote=function(t){return t.replace(Ca,"\\$&")};var Ca=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,La={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ea=function(t,e){return e.querySelector(t)},ka=function(t,e){return e.querySelectorAll(t)},Ma=function(t,e){var n=t.matches||t[P(t,"matchesSelector")];return(Ma=function(t,e){return n.call(t,e)})(t,e)};"function"===typeof Sizzle&&(Ea=function(t,e){return Sizzle(t,e)[0]||null},ka=Sizzle,Ma=Sizzle.matchesSelector),fa.selection=function(){return fa.select(ma.documentElement)};var Oa=fa.selection.prototype=[];Oa.select=function(t){var e,n,i,r,o=[];t=I(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return O(o)},Oa.selectAll=function(t){var e,n,i=[];t=R(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,u=a.length;++s<u;)(n=a[s])&&(i.push(e=ga(t.call(n,n.__data__,s,r))),e.parentNode=n);return O(i)};var Ia="http://www.w3.org/1999/xhtml",Ra={svg:"http://www.w3.org/2000/svg",xhtml:Ia,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};fa.ns={prefix:Ra,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ra.hasOwnProperty(n)?{space:Ra[n],local:t}:t}},Oa.attr=function(t,e){if(arguments.length<2){if("string"===typeof t){var n=this.node();return t=fa.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Oa.classed=function(t,e){if(arguments.length<2){if("string"===typeof t){var n=this.node(),i=(t=D(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!V(t[r]).test(e))return!1;return!0}for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},Oa.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!==typeof t){i<2&&(e="");for(n in t)this.each(B(n,t[n],e));return this}if(i<2){var r=this.node();return a(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(B(t,e,n))},Oa.property=function(t,e){if(arguments.length<2){if("string"===typeof t)return this.node()[t];for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},Oa.text=function(t){return arguments.length?this.each("function"===typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Oa.html=function(t){return arguments.length?this.each("function"===typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Oa.append=function(t){return t=H(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Oa.insert=function(t,e){return t=H(t),e=I(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Oa.remove=function(){return this.each(U)},Oa.data=function(t,e){function n(t,n){var i,r,o,a=t.length,c=n.length,h=Math.min(a,c),d=new Array(c),f=new Array(c),g=new Array(a);if(e){var m,_=new p,v=new Array(a);for(i=-1;++i<a;)(r=t[i])&&(_.has(m=e.call(r,r.__data__,i))?g[i]=r:_.set(m,r),v[i]=m);for(i=-1;++i<c;)(r=_.get(m=e.call(n,o=n[i],i)))?!0!==r&&(d[i]=r,r.__data__=o):f[i]=Z(o),_.set(m,!0);for(i=-1;++i<a;)i in v&&!0!==_.get(v[i])&&(g[i]=t[i])}else{for(i=-1;++i<h;)r=t[i],o=n[i],r?(r.__data__=o,d[i]=r):f[i]=Z(o);for(;i<c;++i)f[i]=Z(n[i]);for(;i<a;++i)g[i]=t[i]}f.update=d,f.parentNode=d.parentNode=g.parentNode=t.parentNode,s.push(f),u.push(d),l.push(g)}var i,r,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++o<a;)(r=i[o])&&(t[o]=r.__data__);return t}var s=q([]),u=O([]),l=O([]);if("function"===typeof t)for(;++o<a;)n(i=this[o],t.call(i,i.parentNode.__data__,o));else for(;++o<a;)n(i=this[o],t);return u.enter=function(){return s},u.exit=function(){return l},u},Oa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Oa.filter=function(t){var e,n,i,r=[];"function"!==typeof t&&(t=X(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return O(r)},Oa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Oa.sort=function(t){t=Y.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Oa.each=function(t){return W(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Oa.call=function(t){var e=ga(arguments);return t.apply(e[0]=this,e),this},Oa.empty=function(){return!this.node()},Oa.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},Oa.size=function(){var t=0;return W(this,function(){++t}),t};var Na=[];fa.selection.enter=q,fa.selection.enter.prototype=Na,Na.append=Oa.append,Na.empty=Oa.empty,Na.node=Oa.node,Na.call=Oa.call,Na.size=Oa.size,Na.select=function(t){for(var e,n,i,r,o,a=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(e.push(i[l]=n=t.call(r.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return O(a)},Na.insert=function(t,e){return arguments.length<2&&(e=K(this)),Oa.insert.call(this,t,e)},fa.select=function(t){var e;return"string"===typeof t?(e=[Ea(t,ma)],e.parentNode=ma.documentElement):(e=[t],e.parentNode=o(t)),O([e])},fa.selectAll=function(t){var e;return"string"===typeof t?(e=ga(ka(t,ma)),e.parentNode=ma.documentElement):(e=ga(t),e.parentNode=null),O([e])},Oa.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!==typeof t){i<2&&(e=!1);for(n in t)this.each(Q(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(Q(t,e,n))};var za=fa.map({mouseenter:"mouseover",mouseleave:"mouseout"});ma&&za.forEach(function(t){"on"+t in ma&&za.remove(t)});var Va,Da=0;fa.mouse=function(t){return et(t,k())};var Fa=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;fa.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=k().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return et(t,i)},fa.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",o)}function e(t,e,r,o,a){return function(){function s(){var t,n,i=e(d,g);i&&(t=i[0]-y[0],n=i[1]-y[1],p|=t|n,y=i,f({type:"drag",x:i[0]+l[0],y:i[1]+l[1],dx:t,dy:n}))}function u(){e(d,g)&&(_.on(o+m,null).on(a+m,null),v(p),f({type:"dragend"}))}var l,c=this,h=fa.event.target.correspondingElement||fa.event.target,d=c.parentNode,f=n.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),_=fa.select(r(h)).on(o+m,s).on(a+m,u),v=tt(h),y=e(d,g);i?(l=i.apply(c,arguments),l=[l.x-y[0],l.y-y[1]]):l=[0,0],f({type:"dragstart"})}}var n=M(t,"drag","dragstart","dragend"),i=null,r=e(A,fa.mouse,a,"mousemove","mouseup"),o=e(nt,fa.touch,S,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},fa.rebind(t,n,"on")},fa.touches=function(t,e){return arguments.length<2&&(e=k().touches),e?ga(e).map(function(e){var n=et(t,e);return n.identifier=e.identifier,n}):[]};var Ga=1e-6,Ba=Ga*Ga,ja=Math.PI,Ha=2*ja,Ua=Ha-Ga,Za=ja/2,Xa=ja/180,Ya=180/ja,Wa=Math.SQRT2;fa.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-r,h=u-o,d=c*c+h*h;if(d<Ba)i=Math.log(l/a)/Wa,n=function(t){return[r+t*c,o+t*h,a*Math.exp(Wa*t*i)]};else{var f=Math.sqrt(d),p=(l*l-a*a+4*d)/(2*a*2*f),g=(l*l-a*a-4*d)/(2*l*2*f),m=Math.log(Math.sqrt(p*p+1)-p),_=Math.log(Math.sqrt(g*g+1)-g);i=(_-m)/Wa,n=function(t){var e=t*i,n=ut(m),s=a/(2*f)*(n*lt(Wa*e+m)-st(m));return[r+s*c,o+s*h,a*n/ut(Wa*e+m)]}}return n.duration=1e3*i,n},fa.behavior.zoom=function(){function t(t){t.on(k,h).on(Ka+".zoom",f).on("dblclick.zoom",p).on(R,d)}function e(t){return[(t[0]-T.x)/T.k,(t[1]-T.y)/T.k]}function n(t){return[t[0]*T.k+T.x,t[1]*T.k+T.y]}function i(t){T.k=Math.max(A[0],Math.min(A[1],t))}function r(t,e){e=n(e),T.x+=t[0]-e[0],T.y+=t[1]-e[1]}function o(e,n,o,a){e.__chart__={x:T.x,y:T.y,k:T.k},i(Math.pow(2,a)),r(m=n,o),e=fa.select(e),C>0&&(e=e.transition().duration(C)),e.call(t.event)}function s(){w&&w.domain(x.range().map(function(t){return(t-T.x)/T.k}).map(x.invert)),S&&S.domain(b.range().map(function(t){return(t-T.y)/T.k}).map(b.invert))}function u(t){L++||t({type:"zoomstart"})}function l(t){s(),t({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function c(t){--L||(t({type:"zoomend"}),m=null)}function h(){function t(){s=1,r(fa.mouse(i),d),l(o)}function n(){h.on(O,null).on(I,null),f(s),c(o)}var i=this,o=N.of(i,arguments),s=0,h=fa.select(a(i)).on(O,t).on(I,n),d=e(fa.mouse(i)),f=tt(i);Hu.call(i),u(o)}function d(){function t(){var t=fa.touches(p);return f=T.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function n(){var e=fa.event.target;fa.select(e).on(x,a).on(w,s),b.push(e);for(var n=fa.event.changedTouches,i=0,r=n.length;i<r;++i)m[n[i].identifier]=null;var u=t(),l=Date.now();if(1===u.length){if(l-y<500){var c=u[0];o(p,c,m[c.identifier],Math.floor(Math.log(T.k)/Math.LN2)+1),E()}y=l}else if(u.length>1){var c=u[0],h=u[1],d=c[0]-h[0],f=c[1]-h[1];_=d*d+f*f}}function a(){var t,e,n,o,a=fa.touches(p);Hu.call(p);for(var s=0,u=a.length;s<u;++s,o=null)if(n=a[s],o=m[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=_&&Math.sqrt(c/_);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],i(h*f)}y=null,r(t,e),l(g)}function s(){if(fa.event.touches.length){for(var e=fa.event.changedTouches,n=0,i=e.length;n<i;++n)delete m[e[n].identifier];for(var r in m)return void t()}fa.selectAll(b).on(v,null),S.on(k,h).on(R,d),P(),c(g)}var f,p=this,g=N.of(p,arguments),m={},_=0,v=".zoom-"+fa.event.changedTouches[0].identifier,x="touchmove"+v,w="touchend"+v,b=[],S=fa.select(p),P=tt(p);n(),u(g),S.on(k,null).on(R,n)}function f(){var t=N.of(this,arguments);v?clearTimeout(v):(Hu.call(this),g=e(m=_||fa.mouse(this)),u(t)),v=setTimeout(function(){v=null,c(t)},50),E(),i(Math.pow(2,.002*qa())*T.k),r(m,g),l(t)}function p(){var t=fa.mouse(this),n=Math.log(T.k)/Math.LN2;o(this,t,e(t),fa.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,m,_,v,y,x,w,b,S,T={x:0,y:0,k:1},P=[960,500],A=Qa,C=250,L=0,k="mousedown.zoom",O="mousemove.zoom",I="mouseup.zoom",R="touchstart.zoom",N=M(t,"zoomstart","zoom","zoomend");return Ka||(Ka="onwheel"in ma?(qa=function(){return-fa.event.deltaY*(fa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ma?(qa=function(){return fa.event.wheelDelta},"mousewheel"):(qa=function(){return-fa.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=N.of(this,arguments),e=T;Bu?fa.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=P[0],i=P[1],r=m?m[0]:n/2,o=m?m[1]:i/2,a=fa.interpolateZoom([(r-T.x)/T.k,(o-T.y)/T.k,n/T.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=a(e),s=n/i[2];this.__chart__=T={x:r-i[0]*s,y:o-i[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=T,u(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(T={x:+e[0],y:+e[1],k:T.k},s(),t):[T.x,T.y]},t.scale=function(e){return arguments.length?(T={x:T.x,y:T.y,k:null},i(+e),s(),t):T.k},t.scaleExtent=function(e){return arguments.length?(A=null==e?Qa:[+e[0],+e[1]],t):A},t.center=function(e){return arguments.length?(_=e&&[+e[0],+e[1]],t):_},t.size=function(e){return arguments.length?(P=e&&[+e[0],+e[1]],t):P},t.duration=function(e){return arguments.length?(C=+e,t):C},t.x=function(e){return arguments.length?(w=e,x=e.copy(),T={x:0,y:0,k:1},t):w},t.y=function(e){return arguments.length?(S=e,b=e.copy(),T={x:0,y:0,k:1},t):S},fa.rebind(t,N,"on")};var qa,Ka,Qa=[0,1/0];fa.color=ht,ht.prototype.toString=function(){return this.rgb()+""},fa.hsl=dt;var $a=dt.prototype=new ht;$a.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new dt(this.h,this.s,this.l/t)},$a.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new dt(this.h,this.s,t*this.l)},$a.rgb=function(){return ft(this.h,this.s,this.l)},fa.hcl=pt;var Ja=pt.prototype=new ht;Ja.brighter=function(t){return new pt(this.h,this.c,Math.min(100,this.l+ts*(arguments.length?t:1)))},Ja.darker=function(t){return new pt(this.h,this.c,Math.max(0,this.l-ts*(arguments.length?t:1)))},Ja.rgb=function(){return gt(this.h,this.c,this.l).rgb()},fa.lab=mt;var ts=18,es=.95047,ns=1,is=1.08883,rs=mt.prototype=new ht;rs.brighter=function(t){return new mt(Math.min(100,this.l+ts*(arguments.length?t:1)),this.a,this.b)},rs.darker=function(t){return new mt(Math.max(0,this.l-ts*(arguments.length?t:1)),this.a,this.b)},rs.rgb=function(){return _t(this.l,this.a,this.b)},fa.rgb=bt;var os=bt.prototype=new ht;os.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new bt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new bt(r,r,r)},os.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new bt(t*this.r,t*this.g,t*this.b)},os.hsl=function(){return Ct(this.r,this.g,this.b)},os.toString=function(){return"#"+Pt(this.r)+Pt(this.g)+Pt(this.b)};var as=fa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});as.forEach(function(t,e){as.set(t,St(e))}),fa.functor=Mt,fa.xhr=Ot(S),fa.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=It(t,e,null==n?i:r(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:r(t)):n},a}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(r)return r=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var i=t.charCodeAt(c++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==u)continue;return t.slice(e,c-s)}return t.slice(e)}for(var i,r,o={},a={},s=[],l=t.length,c=0,h=0;(i=n())!==a;){for(var d=[];i!==o&&i!==a;)d.push(i),i=n();e&&null==(d=e(d,h++))||s.push(d)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new b,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(a).join(t)].concat(e.map(function(e){return r.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},fa.csv=fa.dsv(",","text/csv"),fa.tsv=fa.dsv("\t","text/tab-separated-values");var ss,us,ls,cs,hs=this[P(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};fa.timer=function(){zt.apply(this,arguments)},fa.timer.flush=function(){Dt(),Ft()},fa.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ds=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Bt);fa.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=fa.round(t,Gt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ds[8+n/3]};var fs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ps=fa.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=fa.round(t,Gt(t,e))).toFixed(Math.max(0,Math.min(20,Gt(t*(1+1e-15),e))))}}),gs=fa.time={},ms=Date;Ut.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){_s.setUTCDate.apply(this._,arguments)},setDay:function(){_s.setUTCDay.apply(this._,arguments)},setFullYear:function(){_s.setUTCFullYear.apply(this._,arguments)},setHours:function(){_s.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){_s.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){_s.setUTCMinutes.apply(this._,arguments)},setMonth:function(){_s.setUTCMonth.apply(this._,arguments)},setSeconds:function(){_s.setUTCSeconds.apply(this._,arguments)},setTime:function(){_s.setTime.apply(this._,arguments)}};var _s=Date.prototype;gs.year=Zt(function(t){return t=gs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),gs.years=gs.year.range,gs.years.utc=gs.year.utc.range,gs.day=Zt(function(t){var e=new ms(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),gs.days=gs.day.range,gs.days.utc=gs.day.utc.range,gs.dayOfYear=function(t){var e=gs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=gs[t]=Zt(function(t){return(t=gs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=gs.year(t).getDay();return Math.floor((gs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});gs[t+"s"]=n.range,gs[t+"s"].utc=n.utc.range,gs[t+"OfYear"]=function(t){var n=gs.year(t).getDay();return Math.floor((gs.dayOfYear(t)+(n+e)%7)/7)}}),gs.week=gs.sunday,gs.weeks=gs.sunday.range,gs.weeks.utc=gs.sunday.utc.range,gs.weekOfYear=gs.sundayOfYear;var vs={"-":"",_:" ",0:"0"},ys=/^\s*\d+/,xs=/^%/;fa.locale=function(t){return{numberFormat:jt(t),timeFormat:Yt(t)}};var ws=fa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});fa.format=ws.numberFormat,fa.geo={},pe.prototype={s:0,t:0,add:function(t){ge(t,this.t,bs),ge(bs.s,this.s,this),this.s?this.t+=bs.t:this.s=bs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bs=new pe;fa.geo.stream=function(t,e){t&&Ss.hasOwnProperty(t.type)?Ss[t.type](t,e):me(t,e)};var Ss={Feature:function(t,e){me(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)me(n[i].geometry,e)}},Ts={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){_e(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)_e(n[i],e,0)},Polygon:function(t,e){ve(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)ve(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)me(n[i],e)}};fa.geo.area=function(t){return Ps=0,fa.geo.stream(t,Cs),Ps};var Ps,As=new pe,Cs={sphere:function(){Ps+=4*ja},point:A,lineStart:A,lineEnd:A,polygonStart:function(){As.reset(),Cs.lineStart=ye},polygonEnd:function(){var t=2*As;Ps+=t<0?4*ja+t:t,Cs.lineStart=Cs.lineEnd=Cs.point=A}};fa.geo.bounds=function(){function t(t,e){y.push(x=[c=t,d=t]),e<h&&(h=e),e>f&&(f=e)}function e(e,n){var i=xe([e*Xa,n*Xa]);if(_){var r=be(_,i),o=[r[1],-r[0],0],a=be(o,r);Pe(a),a=Ae(a);var u=e-p,l=u>0?1:-1,g=a[0]*Ya*l,m=Sa(u)>180;if(m^(l*p<g&&g<l*e)){var v=a[1]*Ya;v>f&&(f=v)}else if(g=(g+360)%360-180,m^(l*p<g&&g<l*e)){var v=-a[1]*Ya;v<h&&(h=v)}else n<h&&(h=n),n>f&&(f=n);m?e<p?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e):d>=c?(e<c&&(c=e),e>d&&(d=e)):e>p?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e)}else t(e,n);_=i,p=e}function n(){w.point=e}function i(){x[0]=c,x[1]=d,w.point=t,_=null}function r(t,n){if(_){var i=t-p;v+=Sa(i)>180?i+(i>0?360:-360):i}else g=t,m=n;Cs.point(t,n),e(t,n)}function o(){Cs.lineStart()}function a(){r(g,m),Cs.lineEnd(),Sa(v)>Ga&&(c=-(d=180)),x[0]=c,x[1]=d,_=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,d,f,p,g,m,_,v,y,x,w={point:t,lineStart:n,lineEnd:i,polygonStart:function(){w.point=r,w.lineStart=o,w.lineEnd=a,v=0,Cs.polygonStart()},polygonEnd:function(){Cs.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=i,As<0?(c=-(d=180),h=-(f=90)):v>Ga?f=90:v<-Ga&&(h=-90),x[0]=c,x[1]=d}};return function(t){f=d=-(c=h=1/0),y=[],fa.geo.stream(t,w);var e=y.length;if(e){y.sort(u);for(var n,i=1,r=y[0],o=[r];i<e;++i)n=y[i],l(n[0],r)||l(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var a,n,p=-1/0,e=o.length-1,i=0,r=o[e];i<=e;r=n,++i)n=o[i],(a=s(r[1],n[0]))>p&&(p=a,c=n[0],d=r[1])}return y=x=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[d,f]]}}(),fa.geo.centroid=function(t){Ls=Es=ks=Ms=Os=Is=Rs=Ns=zs=Vs=Ds=0,fa.geo.stream(t,Fs);var e=zs,n=Vs,i=Ds,r=e*e+n*n+i*i;return r<Ba&&(e=Is,n=Rs,i=Ns,Es<Ga&&(e=ks,n=Ms,i=Os),(r=e*e+n*n+i*i)<Ba)?[NaN,NaN]:[Math.atan2(n,e)*Ya,at(i/Math.sqrt(r))*Ya]};var Ls,Es,ks,Ms,Os,Is,Rs,Ns,zs,Vs,Ds,Fs={sphere:A,point:Le,lineStart:ke,lineEnd:Me,polygonStart:function(){Fs.lineStart=Oe},polygonEnd:function(){Fs.lineStart=ke}},Gs=De(Re,je,Ue,[-ja,-ja/2]),Bs=1e9;fa.geo.clipExtent=function(){var t,e,n,i,r,o,a={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(s){return arguments.length?(o=We(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(fa.geo.conicEqualArea=function(){return qe(Ke)}).raw=Ke,fa.geo.albers=function(){return fa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},fa.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(i(o,a),e)||r(o,a),e}var e,n,i,r,o=fa.geo.albers(),a=fa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=fa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?a:r>=.166&&r<.234&&i>=-.214&&i<-.115?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,h-.238*l],[c+.455*l,h+.238*l]]).stream(u).point,i=a.translate([c-.307*l,h+.201*l]).clipExtent([[c-.425*l+Ga,h+.12*l+Ga],[c-.214*l-Ga,h+.234*l-Ga]]).stream(u).point,r=s.translate([c-.205*l,h+.212*l]).clipExtent([[c-.214*l+Ga,h+.166*l+Ga],[c-.115*l-Ga,h+.234*l-Ga]]).stream(u).point,t},t.scale(1070)};var js,Hs,Us,Zs,Xs,Ys,Ws={point:A,lineStart:A,lineEnd:A,polygonStart:function(){Hs=0,Ws.lineStart=Qe},polygonEnd:function(){Ws.lineStart=Ws.lineEnd=Ws.point=A,js+=Sa(Hs/2)}},qs={point:$e,lineStart:A,lineEnd:A,polygonStart:A,polygonEnd:A},Ks={point:en,lineStart:nn,lineEnd:rn,polygonStart:function(){Ks.lineStart=on},polygonEnd:function(){Ks.point=en,Ks.lineStart=nn,Ks.lineEnd=rn}};fa.geo.path=function(){function t(t){return t&&("function"===typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=r(o)),fa.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,i,r,o,a,s=4.5;return t.area=function(t){return js=0,fa.geo.stream(t,r(Ws)),js},t.centroid=function(t){return ks=Ms=Os=Is=Rs=Ns=zs=Vs=Ds=0,fa.geo.stream(t,r(Ks)),Ds?[zs/Ds,Vs/Ds]:Ns?[Is/Ns,Rs/Ns]:Os?[ks/Os,Ms/Os]:[NaN,NaN]},t.bounds=function(t){return Xs=Ys=-(Us=Zs=1/0),fa.geo.stream(t,r(qs)),[[Us,Zs],[Xs,Ys]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||un(t):S,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new Je:new an(t),"function"!==typeof s&&o.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"===typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(fa.geo.albersUsa()).context(null)},fa.geo.transform=function(t){return{stream:function(e){var n=new ln(e);for(var i in t)n[i]=t[i];return n}}},ln.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},fa.geo.projection=hn,fa.geo.projectionMutator=dn,(fa.geo.equirectangular=function(){return hn(pn)}).raw=pn.invert=pn,fa.geo.rotation=function(t){function e(e){return e=t(e[0]*Xa,e[1]*Xa),e[0]*=Ya,e[1]*=Ya,e}return t=mn(t[0]%360*Xa,t[1]*Xa,t.length>2?t[2]*Xa:0),e.invert=function(e){return e=t.invert(e[0]*Xa,e[1]*Xa),e[0]*=Ya,e[1]*=Ya,e},e},gn.invert=pn,fa.geo.circle=function(){function t(){var t="function"===typeof i?i.apply(this,arguments):i,e=mn(-t[0]*Xa,-t[1]*Xa,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Ya,t[1]*=Ya}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=xn((e=+i)*Xa,r*Xa),t):e},t.precision=function(i){return arguments.length?(n=xn(e*Xa,(r=+i)*Xa),t):r},t.angle(90)},fa.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Xa,r=t[1]*Xa,o=e[1]*Xa,a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},fa.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return fa.range(Math.ceil(o/m)*m,r,m).map(d).concat(fa.range(Math.ceil(l/_)*_,u,_).map(f)).concat(fa.range(Math.ceil(i/p)*p,n,p).filter(function(t){return Sa(t%m)>Ga}).map(c)).concat(fa.range(Math.ceil(s/g)*g,a,g).filter(function(t){return Sa(t%_)>Ga}).map(h))}var n,i,r,o,a,s,u,l,c,h,d,f,p=10,g=p,m=90,_=360,v=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(f(u).slice(1),d(r).reverse().slice(1),f(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],l=+e[0][1],u=+e[1][1],o>r&&(e=o,o=r,r=e),l>u&&(e=l,l=u,u=e),t.precision(v)):[[o,l],[r,u]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(v)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],_=+e[1],t):[m,_]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(v=+e,c=bn(s,a,90),h=Sn(i,n,v),d=bn(l,u,90),f=Sn(o,r,v),t):v},t.majorExtent([[-180,-90+Ga],[180,90-Ga]]).minorExtent([[-180,-80-Ga],[180,80+Ga]])},fa.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=Tn,r=Pn;return t.distance=function(){return fa.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"===typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"===typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},fa.geo.interpolate=function(t,e){return An(t[0]*Xa,t[1]*Xa,e[0]*Xa,e[1]*Xa)},fa.geo.length=function(t){return Qs=0,fa.geo.stream(t,$s),Qs};var Qs,$s={sphere:A,point:A,lineStart:Cn,lineEnd:A,polygonStart:A,polygonEnd:A},Js=Ln(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(fa.geo.azimuthalEqualArea=function(){return hn(Js)}).raw=Js;var tu=Ln(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},S);(fa.geo.azimuthalEquidistant=function(){return hn(tu)}).raw=tu,(fa.geo.conicConformal=function(){return qe(En)}).raw=En,(fa.geo.conicEquidistant=function(){return qe(kn)}).raw=kn;var eu=Ln(function(t){return 1/t},Math.atan);(fa.geo.gnomonic=function(){return hn(eu)}).raw=eu,Mn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Za]},(fa.geo.mercator=function(){return On(Mn)}).raw=Mn;var nu=Ln(function(){return 1},Math.asin);(fa.geo.orthographic=function(){return hn(nu)}).raw=nu;var iu=Ln(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(fa.geo.stereographic=function(){return hn(iu)}).raw=iu,In.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Za]},(fa.geo.transverseMercator=function(){var t=On(In),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=In,fa.geom={},fa.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Mt(n),o=Mt(i),a=t.length,s=[],u=[];for(e=0;e<a;e++)s.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Vn),e=0;e<a;e++)u.push([s[e][0],-s[e][1]]);var l=zn(s),c=zn(u),h=c[0]===l[0],d=c[c.length-1]===l[l.length-1],f=[];for(e=l.length-1;e>=0;--e)f.push(t[s[l[e]][2]]);for(e=+h;e<c.length-d;++e)f.push(t[s[c[e]][2]]);return f}var n=Rn,i=Nn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},fa.geom.polygon=function(t){return La(t,ru),t};var ru=fa.geom.polygon.prototype=[];ru.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},ru.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},ru.clip=function(t){for(var e,n,i,r,o,a,s=Gn(t),u=-1,l=this.length-Gn(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,r=this[u],o=e[(i=e.length-s)-1],n=-1;++n<i;)a=e[n],Dn(a,c,r)?(Dn(o,c,r)||t.push(Fn(o,a,c,r)),t.push(a)):Dn(o,c,r)&&t.push(Fn(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var ou,au,su,uu,lu,cu=[],hu=[];Wn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Kn),e.length},ai.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},si.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=hi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(li(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ci(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ci(this,n),t=n,n=t.U),n.C=!1,i.C=!0,li(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?hi(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,li(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ci(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,li(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,ci(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,li(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ci(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},fa.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],o=s[1][0],a=s[1][1];return di(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site;(e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=i&&l.x<=o&&l.y>=r&&l.y<=a?[[i,a],[o,a],[o,r],[i,r]]:[]).point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ga)*Ga,y:Math.round(a(t,e)/Ga)*Ga,i:e}})}var i=Rn,r=Nn,o=i,a=r,s=du;return t?e(t):(e.links=function(t){return di(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return di(n(t)).cells.forEach(function(n,i){for(var r,o=n.site,a=n.edges.sort(Kn),s=-1,u=a.length,l=a[u-1].edge,c=l.l===o?l.r:l.l;++s<u;)l,r=c,l=a[s].edge,c=l.l===o?l.r:l.l,i<r.i&&i<c.i&&pi(o,r,c)<0&&e.push([t[i],t[r.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(o=Mt(i=t),e):i},e.y=function(t){return arguments.length?(a=Mt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?du:t,e):s===du?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===du?null:s&&s[1]},e)};var du=[[-1e6,-1e6],[1e6,1e6]];fa.geom.delaunay=function(t){return fa.geom.voronoi().triangles(t)},fa.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(Sa(u-n)+Sa(c-i)<.01)l(t,e,n,i,r,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,l(t,h,u,c,r,o,a,s),l(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else l(t,e,n,i,r,o,a,s)}function l(t,e,n,i,r,a,s,u){var l=.5*(r+s),c=.5*(a+u),h=n>=l,d=i>=c,f=d<<1|h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=_i()),h?r=l:s=l,d?a=c:u=c,o(t,e,n,i,r,a,s,u)}var c,h,d,f,p,g,m,_,v,y=Mt(s),x=Mt(u);if(null!=e)g=e,m=n,_=i,v=r;else if(_=v=-(g=m=1/0),h=[],d=[],p=t.length,a)for(f=0;f<p;++f)c=t[f],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>_&&(_=c.x),c.y>v&&(v=c.y),h.push(c.x),d.push(c.y);else for(f=0;f<p;++f){var w=+y(c=t[f],f),b=+x(c,f);w<g&&(g=w),b<m&&(m=b),w>_&&(_=w),b>v&&(v=b),h.push(w),d.push(b)}var S=_-g,T=v-m;S>T?v=m+S:_=g+T;var P=_i();if(P.add=function(t){o(P,t,+y(t,++f),+x(t,f),g,m,_,v)},P.visit=function(t){vi(t,P,g,m,_,v)},P.find=function(t){return yi(P,t[0],t[1],g,m,_,v)},f=-1,null==e){for(;++f<p;)o(P,t[f],h[f],d[f],g,m,_,v);--f}else t.forEach(P.add);return h=d=t=c=null,P}var a,s=Rn,u=Nn;return(a=arguments.length)?(s=gi,u=mi,3===a&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},fa.interpolateRgb=xi,fa.interpolateObject=wi,fa.interpolateNumber=bi,fa.interpolateString=Si;var fu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pu=new RegExp(fu.source,"g");fa.interpolate=Ti,fa.interpolators=[function(t,e){var n=typeof e;return("string"===n?as.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?xi:Si:e instanceof ht?xi:Array.isArray(e)?Pi:"object"===n&&isNaN(e)?wi:bi)(t,e)}],fa.interpolateArray=Pi;var gu=function(){return S},mu=fa.map({linear:gu,poly:Oi,quad:function(){return Ei},cubic:function(){return ki},sin:function(){return Ii},exp:function(){return Ri},circle:function(){return Ni},elastic:zi,back:Vi,bounce:function(){return Di}}),_u=fa.map({in:S,out:Ci,"in-out":Li,"out-in":function(t){return Li(Ci(t))}});fa.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=mu.get(n)||gu,i=_u.get(i)||S,Ai(i(n.apply(null,pa.call(arguments,1))))},fa.interpolateHcl=Fi,fa.interpolateHsl=Gi,fa.interpolateLab=Bi,fa.interpolateRound=ji,fa.transform=function(t){var e=ma.createElementNS(fa.ns.prefix.svg,"g");return(fa.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Hi(n?n.matrix:vu)})(t)},Hi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vu={a:1,b:0,c:0,d:1,e:0,f:0};fa.interpolateTransform=$i,fa.layout={},fa.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(er(t[n]));return e}},fa.layout.chord=function(){function t(){var t,l,h,d,f,p={},g=[],m=fa.range(o),_=[];for(n=[],i=[],t=0,d=-1;++d<o;){for(l=0,f=-1;++f<o;)l+=r[d][f];g.push(l),_.push(fa.range(o)),t+=l}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&_.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Ha-c*o)/t,l=0,d=-1;++d<o;){for(h=l,f=-1;++f<o;){var v=m[d],y=_[v][f],x=r[v][y],w=l,b=l+=x*t;p[v+"-"+y]={index:v,subindex:y,startAngle:w,endAngle:b,value:x}}i[v]={index:v,startAngle:h,endAngle:l,value:g[v]},l+=c}for(d=-1;++d<o;)for(f=d-1;++f<o;){var S=p[d+"-"+f],T=p[f+"-"+d];(S.value||T.value)&&n.push(S.value<T.value?{source:T,target:S}:{source:S,target:T})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,l):r},l.padding=function(t){return arguments.length?(c=t,n=i=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=i=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return i||t(),i},l},fa.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=r-n,u=o*o+a*a;if(s*s/_<u){if(u<g){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&u<g){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=fa.event.x,t.py=fa.event.y,u.resume()}var n,i,r,o,a,s,u={},l=fa.dispatch("start","tick","end"),c=[1,1],h=.9,d=yu,f=xu,p=-30,g=wu,m=.1,_=.64,v=[],y=[];return u.tick=function(){if((r*=.99)<.005)return n=null,l.end({type:"end",alpha:r=0}),!0;var e,i,u,d,f,g,_,x,w,b=v.length,S=y.length;for(i=0;i<S;++i)u=y[i],d=u.source,f=u.target,x=f.x-d.x,w=f.y-d.y,(g=x*x+w*w)&&(g=r*a[i]*((g=Math.sqrt(g))-o[i])/g,x*=g,w*=g,f.x-=x*(_=d.weight+f.weight?d.weight/(d.weight+f.weight):.5),f.y-=w*_,d.x+=x*(_=1-_),d.y+=w*_);if((_=r*m)&&(x=c[0]/2,w=c[1]/2,i=-1,_))for(;++i<b;)u=v[i],u.x+=(x-u.x)*_,u.y+=(w-u.y)*_;if(p)for(ur(e=fa.geom.quadtree(v),r,s),i=-1;++i<b;)(u=v[i]).fixed||e.visit(t(u));for(i=-1;++i<b;)u=v[i],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*h,u.y-=(u.py-(u.py=u.y))*h);l.tick({type:"tick",alpha:r})},u.nodes=function(t){return arguments.length?(v=t,u):v},u.links=function(t){return arguments.length?(y=t,u):y},u.size=function(t){return arguments.length?(c=t,u):c},u.linkDistance=function(t){return arguments.length?(d="function"===typeof t?t:+t,u):d},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(f="function"===typeof t?t:+t,u):f},u.friction=function(t){return arguments.length?(h=+t,u):h},u.charge=function(t){return arguments.length?(p="function"===typeof t?t:+t,u):p},u.chargeDistance=function(t){return arguments.length?(g=t*t,u):Math.sqrt(g)},u.gravity=function(t){return arguments.length?(m=+t,u):m},u.theta=function(t){return arguments.length?(_=t*t,u):Math.sqrt(_)},u.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,l.end({type:"end",alpha:r=0})):t>0&&(l.start({type:"start",alpha:r=t}),n=zt(u.tick)),u):r},u.start=function(){function t(t,i){if(!n){for(n=new Array(r),u=0;u<r;++u)n[u]=[];for(u=0;u<l;++u){var o=y[u];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[e],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][t]))return a;return Math.random()*i}var e,n,i,r=v.length,l=y.length,h=c[0],g=c[1];for(e=0;e<r;++e)(i=v[e]).index=e,i.weight=0;for(e=0;e<l;++e)i=y[e],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(e=0;e<r;++e)i=v[e],isNaN(i.x)&&(i.x=t("x",h)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(o=[],"function"===typeof d)for(e=0;e<l;++e)o[e]=+d.call(this,y[e],e);else for(e=0;e<l;++e)o[e]=d;if(a=[],"function"===typeof f)for(e=0;e<l;++e)a[e]=+f.call(this,y[e],e);else for(e=0;e<l;++e)a[e]=f;if(s=[],"function"===typeof p)for(e=0;e<r;++e)s[e]=+p.call(this,v[e],e);else for(e=0;e<r;++e)s[e]=p;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){if(i||(i=fa.behavior.drag().origin(S).on("dragstart.force",rr).on("drag.force",e).on("dragend.force",or)),!arguments.length)return i;this.on("mouseover.force",ar).on("mouseout.force",sr).call(i)},fa.rebind(u,l,"on")};var yu=20,xu=1,wu=1/0;fa.layout.hierarchy=function(){function t(r){var o,a=[r],s=[];for(r.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;i&&(o.value=0),o.children=l}else i&&(o.value=+i.call(t,o,o.depth)||0),delete o.children;return hr(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=pr,n=dr,i=fr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(cr(e,function(t){t.children&&(t.value=0)}),hr(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},fa.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,u,l=-1;for(i=e.value?i/e.value:0;++l<a;)t(s=o[l],n,u=s.value*i,r),n+=u}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var a=i.call(this,n,o);return t(a[0],0,r[0],r[1]/e(a[0])),a}var i=fa.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},lr(n,i)},fa.layout.pie=function(){function t(a){var s,u=a.length,l=a.map(function(n,i){return+e.call(t,n,i)}),c=+("function"===typeof i?i.apply(this,arguments):i),h=("function"===typeof r?r.apply(this,arguments):r)-c,d=Math.min(Math.abs(h)/u,+("function"===typeof o?o.apply(this,arguments):o)),f=d*(h<0?-1:1),p=fa.sum(l),g=p?(h-u*f)/p:0,m=fa.range(u),_=[];return null!=n&&m.sort(n===bu?function(t,e){return l[e]-l[t]}:function(t,e){return n(a[t],a[e])}),m.forEach(function(t){_[t]={data:a[t],value:s=l[t],startAngle:c,endAngle:c+=s*g+f,padAngle:d}}),_}var e=Number,n=bu,i=0,r=Ha,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var bu={};fa.layout.stack=function(){function t(s,u){if(!(d=s.length))return s;var l=s.map(function(n,i){return e.call(t,n,i)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,u);l=fa.permute(l,h),c=fa.permute(c,h);var d,f,p,g,m=i.call(t,c,u),_=l[0].length;for(p=0;p<_;++p)for(r.call(t,l[0][p],g=m[p],c[0][p][1]),f=1;f<d;++f)r.call(t,l[f][p],g+=c[f-1][p][1],c[f][p][1]);return s}var e=S,n=yr,i=xr,r=vr,o=mr,a=_r;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"===typeof e?e:Su.get(e)||yr,t):n},t.offset=function(e){return arguments.length?(i="function"===typeof e?e:Tu.get(e)||xr,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(r=e,t):r},t};var Su=fa.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(wr),o=t.map(br),a=fa.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,l=[],c=[];for(e=0;e<i;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return fa.range(t.length).reverse()},default:yr}),Tu=fa.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,i,r,o,a,s,u,l,c=t.length,h=t[0],d=h.length,f=[];for(f[0]=u=l=0,n=1;n<d;++n){for(e=0,r=0;e<c;++e)r+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];e<c;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}f[n]=u-=r?o/r*s:0,u<l&&(l=u)}for(n=0;n<d;++n)f[n]-=l;return f},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:xr});fa.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=i.call(this,l,o),h=r.call(this,c,l,o),o=-1,d=l.length,f=h.length-1,p=e?1:1/d;++o<f;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(f>0)for(o=-1;++o<d;)(s=l[o])>=c[0]&&s<=c[1]&&(a=u[fa.bisect(h,s,1,f)-1],a.y+=p,a.push(t[o]));return u}var e=!0,n=Number,i=Ar,r=Tr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Mt(e),t):i},t.bins=function(e){return arguments.length?(r="number"===typeof e?function(t){return Pr(t,e)}:Mt(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},fa.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=r[0],l=r[1],c=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};if(s.x=s.y=0,hr(s,function(t){t.r=+c(t.value)}),hr(s,Mr),i){var h=i*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;hr(s,function(t){t.r+=h}),hr(s,Mr),hr(s,function(t){t.r-=h})}return Rr(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=fa.layout.hierarchy().sort(Cr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"===typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},lr(t,n)},fa.layout.tree=function(){function t(t,r){var c=a.call(this,t,r),h=c[0],d=e(h);if(hr(d,n),d.parent.m=-d.z,cr(d,i),l)cr(h,o);else{var f=h,p=h,g=h;cr(h,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(f,p)/2-f.x,_=u[0]/(p.x+s(p,f)/2+m),v=u[1]/(g.depth||1);cr(h,function(t){t.x=(t.x+m)*_,t.y=t.depth*v})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Gr(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,o=t,a=e,u=r.parent.children[0],l=r.m,c=o.m,h=a.m,d=u.m;a=Dr(a),r=Vr(r),a&&r;)u=Vr(u),o=Dr(o),o.a=t,i=a.z+h-r.z-l+s(a._,r._),i>0&&(Fr(Br(a,t,n),t,i),l+=i,c+=i),h+=a.m,l+=r.m,d+=u.m,c+=o.m;a&&!Dr(o)&&(o.t=a,o.m+=h-c),r&&!Vr(u)&&(u.t=r,u.m+=l-d,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=fa.layout.hierarchy().sort(null).value(null),s=zr,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},lr(t,a)},fa.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;hr(u,function(t){var e=t.children;e&&e.length?(t.x=Hr(e),t.y=jr(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=Ur(u),h=Zr(u),d=c.x-n(c,h)/2,f=h.x+n(h,c)/2;return hr(u,r?function(t){t.x=(t.x-u.x)*i[0],t.y=(u.y-t.y)*i[1]}:function(t){t.x=(t.x-d)/(f-d)*i[0],t.y=(1-(u.y?t.y/u.y:1))*i[1]}),s}var e=fa.layout.hierarchy().sort(null).value(null),n=zr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},lr(t,e)},fa.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=h(n),c=[],d=o.slice(),p=1/0,g="slice"===f?l.dx:"dice"===f?l.dy:"slice-dice"===f?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(d,l.dx*l.dy/n.value),c.area=0;(u=d.length)>0;)c.push(a=d[u-1]),c.area+=a.area,"squarify"!==f||(s=i(c,g))<=p?(d.pop(),p=s):(c.area-=c.pop().area,r(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,a=h(e),s=i.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(r(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<a;)r=t[o],r.x=s,r.y=l,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?u(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<a;)r=t[o],r.x=s,r.y=l,r.dx=c,l+=r.dy=Math.min(n.y+n.dy-l,c?u(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(i){var r=a||s(i),o=r[0];return o.x=o.y=0,o.value?(o.dx=l[0],o.dy=l[1]):o.dx=o.dy=0,a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),d&&(a=r),r}var a,s=fa.layout.hierarchy(),u=Math.round,l=[1,1],c=null,h=Xr,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Xr(e):Yr(e,"number"===typeof n?[n,n,n,n]:n)}function n(e){return Yr(e,t)}if(!arguments.length)return c;var i;return h=null==(c=t)?Xr:"function"===(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(d=t,a=null,o):d},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(f=t+"",o):f},lr(o,s)},fa.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,i,r;do{n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i}while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=fa.random.normal.apply(fa,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=fa.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},fa.scale={};var Pu={floor:S,ceil:S};fa.scale.linear=function(){return to([0,1],[0,1],Ti,!1)};var Au={s:1,g:1,p:1,r:1,e:1};fa.scale.log=function(){return uo(fa.scale.linear().domain([0,1]),10,!0,[1,10])};var Cu=fa.format(".0e"),Lu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};fa.scale.pow=function(){return lo(fa.scale.linear(),1,[0,1])},fa.scale.sqrt=function(){return fa.scale.pow().exponent(.5)},fa.scale.ordinal=function(){return ho([],{t:"range",a:[[]]})},fa.scale.category10=function(){return fa.scale.ordinal().range(Eu)},fa.scale.category20=function(){return fa.scale.ordinal().range(ku)},fa.scale.category20b=function(){return fa.scale.ordinal().range(Mu)},fa.scale.category20c=function(){return fa.scale.ordinal().range(Ou)};var Eu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Tt),ku=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Tt),Mu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Tt),Ou=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Tt);fa.scale.quantile=function(){return fo([],[])},fa.scale.quantize=function(){return po(0,1,[0,1])},fa.scale.threshold=function(){return go([.5],[0,1])},fa.scale.identity=function(){return mo([0,1])},fa.svg={},fa.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+i.apply(this,arguments)),c=a.apply(this,arguments)-Za,h=s.apply(this,arguments)-Za,d=Math.abs(h-c),f=c>h?0:1;if(l<t&&(p=l,l=t,t=p),d>=Ua)return e(l,f)+(t?e(t,1-f):"")+"Z";var p,g,m,_,v,y,x,w,b,S,T,P,A=0,C=0,L=[];if((_=(+u.apply(this,arguments)||0)/2)&&(m=o===Iu?Math.sqrt(t*t+l*l):+o.apply(this,arguments),f||(C*=-1),l&&(C=at(m/l*Math.sin(_))),t&&(A=at(m/t*Math.sin(_)))),l){v=l*Math.cos(c+C),y=l*Math.sin(c+C),x=l*Math.cos(h-C),w=l*Math.sin(h-C);var E=Math.abs(h-c-2*C)<=ja?0:1;if(C&&So(v,y,x,w)===f^E){var k=(c+h)/2;v=l*Math.cos(k),y=l*Math.sin(k),x=w=null}}else v=y=0;if(t){b=t*Math.cos(h-A),S=t*Math.sin(h-A),T=t*Math.cos(c+A),P=t*Math.sin(c+A);var M=Math.abs(c-h+2*A)<=ja?0:1;if(A&&So(b,S,T,P)===1-f^M){var O=(c+h)/2;b=t*Math.cos(O),S=t*Math.sin(O),T=P=null}}else b=S=0;if(d>Ga&&(p=Math.min(Math.abs(l-t)/2,+r.apply(this,arguments)))>.001){g=t<l^f?0:1;var I=p,R=p;if(d<ja){var N=null==T?[b,S]:null==x?[v,y]:Fn([v,y],[T,P],[x,w],[b,S]),z=v-N[0],V=y-N[1],D=x-N[0],F=w-N[1],G=1/Math.sin(Math.acos((z*D+V*F)/(Math.sqrt(z*z+V*V)*Math.sqrt(D*D+F*F)))/2),B=Math.sqrt(N[0]*N[0]+N[1]*N[1]);R=Math.min(p,(t-B)/(G-1)),I=Math.min(p,(l-B)/(G+1))}if(null!=x){var j=To(null==T?[b,S]:[T,P],[v,y],l,I,f),H=To([x,w],[b,S],l,I,f);p===I?L.push("M",j[0],"A",I,",",I," 0 0,",g," ",j[1],"A",l,",",l," 0 ",1-f^So(j[1][0],j[1][1],H[1][0],H[1][1]),",",f," ",H[1],"A",I,",",I," 0 0,",g," ",H[0]):L.push("M",j[0],"A",I,",",I," 0 1,",g," ",H[0])}else L.push("M",v,",",y);if(null!=T){var U=To([v,y],[T,P],t,-R,f),Z=To([b,S],null==x?[v,y]:[x,w],t,-R,f);p===R?L.push("L",Z[0],"A",R,",",R," 0 0,",g," ",Z[1],"A",t,",",t," 0 ",f^So(Z[1][0],Z[1][1],U[1][0],U[1][1]),",",1-f," ",U[1],"A",R,",",R," 0 0,",g," ",U[0]):L.push("L",Z[0],"A",R,",",R," 0 0,",g," ",U[0])}else L.push("L",b,",",S)}else L.push("M",v,",",y),null!=x&&L.push("A",l,",",l," 0 ",E,",",f," ",x,",",w),L.push("L",b,",",S),null!=T&&L.push("A",t,",",t," 0 ",M,",",1-f," ",T,",",P);return L.push("Z"),L.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=vo,i=yo,r=_o,o=Iu,a=xo,s=wo,u=bo;return t.innerRadius=function(e){return arguments.length?(n=Mt(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Mt(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Mt(e),t):r},t.padRadius=function(e){return arguments.length?(o=e==Iu?Iu:Mt(e),t):o},t.startAngle=function(e){return arguments.length?(a=Mt(e),t):a},t.endAngle=function(e){return arguments.length?(s=Mt(e),t):s},t.padAngle=function(e){return arguments.length?(u=Mt(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Za;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Iu="auto";fa.svg.line=function(){return Po(S)};var Ru=fa.map({linear:Ao,"linear-closed":Co,step:Lo,"step-before":Eo,"step-after":ko,basis:zo,"basis-open":Vo,"basis-closed":Do,bundle:Fo,cardinal:Io,"cardinal-open":Mo,"cardinal-closed":Oo,monotone:Zo});Ru.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Nu=[0,2/3,1/3,0],zu=[0,1/3,2/3,0],Vu=[0,1/6,2/3,1/6];fa.svg.line.radial=function(){var t=Po(Xo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Eo.reverse=ko,ko.reverse=Eo,fa.svg.area=function(){return Yo(S)},fa.svg.area.radial=function(){var t=Yo(Xo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},fa.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+i(u.r,u.p1,u.a1-u.a0)+(n(u,l)?r(u.r,u.p1,u.r,u.p0):r(u.r,u.p1,l.r,l.p0)+i(l.r,l.p1,l.a1-l.a0)+r(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=s.call(t,r,i),a=u.call(t,r,i)-Za,c=l.call(t,r,i)-Za;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>ja)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=Tn,a=Pn,s=Wo,u=xo,l=wo;return t.radius=function(e){return arguments.length?(s=Mt(e),t):s},t.source=function(e){return arguments.length?(o=Mt(e),t):o},t.target=function(e){return arguments.length?(a=Mt(e),t):a},t.startAngle=function(e){return arguments.length?(u=Mt(e),t):u},t.endAngle=function(e){return arguments.length?(l=Mt(e),t):l},t},fa.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),a=n.call(this,t,r),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(i),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=Tn,n=Pn,i=qo;return t.source=function(n){return arguments.length?(e=Mt(n),t):e},t.target=function(e){return arguments.length?(n=Mt(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},fa.svg.diagonal.radial=function(){var t=fa.svg.diagonal(),e=qo,n=t.projection;return t.projection=function(t){return arguments.length?n(Ko(e=t)):e},t},fa.svg.symbol=function(){function t(t,i){return(Du.get(e.call(this,t,i))||Jo)(n.call(this,t,i))}var e=$o,n=Qo;return t.type=function(n){return arguments.length?(e=Mt(n),t):e},t.size=function(e){return arguments.length?(n=Mt(e),t):n},t};var Du=fa.map({circle:Jo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Gu)),n=e*Gu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Fu),n=e*Fu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Fu),n=e*Fu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});fa.svg.symbolTypes=Du.keys();var Fu=Math.sqrt(3),Gu=Math.tan(30*Xa);Oa.transition=function(t){for(var e,n,i=Bu||++Zu,r=ra(t),o=[],a=ju||{time:Date.now(),ease:Mi,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&oa(n,c,r,i,a),e.push(n)}return ea(o,r,i)},Oa.interrupt=function(t){return this.each(null==t?Hu:ta(ra(t)))};var Bu,ju,Hu=ta(ra()),Uu=[],Zu=0;Uu.call=Oa.call,Uu.empty=Oa.empty,Uu.node=Oa.node,Uu.size=Oa.size,fa.transition=function(t,e){return t&&t.transition?Bu?t.transition(e):t:fa.selection().transition(t)},fa.transition.prototype=Uu,Uu.select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=I(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(i=l[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),oa(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return ea(a,o,r)},Uu.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,u=[];t=R(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],d=-1,f=h.length;++d<f;)if(i=h[d]){o=i[s][a],n=t.call(i,i.__data__,d,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&oa(r,p,s,a,o),e.push(r)}return ea(u,s,a)},Uu.filter=function(t){var e,n,i,r=[];"function"!==typeof t&&(t=X(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]);for(var n=this[o],s=0,u=n.length;s<u;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return ea(r,this.namespace,this.id)},Uu.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):W(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Uu.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?$i:Ti,s=fa.ns.qualify(t);return na(this,"attr."+t,e,s.local?o:r)},Uu.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=fa.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Uu.style=function(t,e,n){function i(){this.style.removeProperty(t)}function r(e){return null==e?i:(e+="",function(){var i,r=a(this).getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=Ti(r,e),function(e){this.style.setProperty(t,i(e),n)})})}var o=arguments.length;if(o<3){if("string"!==typeof t){o<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return na(this,"style."+t,e,r)},Uu.styleTween=function(t,e,n){function i(i,r){var o=e.call(this,i,r,a(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,i)},Uu.text=function(t){return na(this,"text",t,ia)},Uu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Uu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!==typeof t&&(t=fa.ease.apply(fa,arguments)),W(this,function(i){i[n][e].ease=t}))},Uu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:W(this,"function"===typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},Uu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:W(this,"function"===typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Uu.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=ju,o=Bu;try{Bu=n,W(this,function(e,r,o){ju=e[i][n],t.call(e,e.__data__,r,o)})}finally{ju=r,Bu=o}}else W(this,function(r){var o=r[i][n];(o.event||(o.event=fa.dispatch("start","end","interrupt"))).on(t,e)});return this},Uu.transition=function(){for(var t,e,n,i,r=this.id,o=++Zu,a=this.namespace,s=[],u=0,l=this.length;u<l;u++){s.push(t=[]);for(var e=this[u],c=0,h=e.length;c<h;c++)(n=e[c])&&(i=n[a][r],oa(n,c,a,o,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return ea(s,a,o)},fa.svg.axis=function(){function t(t){t.each(function(){var t,l=fa.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),d=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,f=null==e?h.tickFormat?h.tickFormat.apply(h,s):S:e,p=l.selectAll(".tick").data(d,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ga),m=fa.transition(p.exit()).style("opacity",Ga).remove(),_=fa.transition(p.order()).style("opacity",1),v=Math.max(r,0)+a,y=qr(h),x=l.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),fa.transition(x));g.append("line"),g.append("text");var b,T,P,A,C=g.select("line"),L=_.select("line"),E=p.select("text").text(f),k=g.select("text"),M=_.select("text"),O="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=aa,b="x",P="y",T="x2",A="y2",E.attr("dy",O<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+O*o+"V0H"+y[1]+"V"+O*o)):(t=sa,b="y",P="x",T="y2",A="x2",E.attr("dy",".32em").style("text-anchor",O<0?"end":"start"),w.attr("d","M"+O*o+","+y[0]+"H0V"+y[1]+"H"+O*o)),C.attr(A,O*r),k.attr(P,O*v),L.attr(T,0).attr(A,O*r),M.attr(b,0).attr(P,O*v),h.rangeBand){var I=h,R=I.rangeBand()/2;c=h=function(t){return I(t)+R}}else c.rangeBand?c=h:m.call(t,h,c);g.call(t,c,h),_.call(t,h,h)})}var e,n=fa.scale.linear(),i=Xu,r=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Yu?e+"":Xu,t):i},t.ticks=function(){return arguments.length?(s=ga(arguments),t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Xu="bottom",Yu={top:1,right:1,bottom:1,left:1};fa.svg.brush=function(){function t(o){o.each(function(){var o=fa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(g,S);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Wu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,h=fa.transition(o),d=fa.transition(a);l&&(u=qr(l),d.attr("x",u[0]).attr("width",u[1]-u[0]),n(h)),c&&(u=qr(c),d.attr("y",u[0]).attr("height",u[1]-u[0]),i(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function i(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function r(){function r(){32==fa.event.keyCode&&(L||(y=null,M[0]-=h[1],M[1]-=d[1],L=2),E())}function g(){32==fa.event.keyCode&&2==L&&(M[0]+=h[1],M[1]+=d[1],L=0,E())}function m(){var t=fa.mouse(w),r=!1;x&&(t[0]+=x[0],t[1]+=x[1]),L||(fa.event.altKey?(y||(y=[(h[0]+h[1])/2,(d[0]+d[1])/2]),M[0]=h[+(t[0]<y[0])],M[1]=d[+(t[1]<y[1])]):y=null),A&&_(t,l,0)&&(n(T),r=!0),C&&_(t,c,1)&&(i(T),r=!0),r&&(e(T),S({type:"brush",mode:L?"move":"resize"}))}function _(t,e,n){var i,r,a=qr(e),u=a[0],l=a[1],c=M[n],g=n?d:h,m=g[1]-g[0];if(L&&(u-=c,l-=m+c),i=(n?p:f)?Math.max(u,Math.min(l,t[n])):t[n],L?r=(i+=c)+m:(y&&(c=Math.max(u,Math.min(l,2*y[n]-i))),c<i?(r=i,i=c):r=c),g[0]!=i||g[1]!=r)return n?s=null:o=null,g[0]=i,g[1]=r,!0}function v(){m(),T.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),fa.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),S({type:"brushend"})}var y,x,w=this,b=fa.select(fa.event.target),S=u.of(w,arguments),T=fa.select(w),P=b.datum(),A=!/^(n|s)$/.test(P)&&l,C=!/^(e|w)$/.test(P)&&c,L=b.classed("extent"),k=tt(w),M=fa.mouse(w),O=fa.select(a(w)).on("keydown.brush",r).on("keyup.brush",g);if(fa.event.changedTouches?O.on("touchmove.brush",m).on("touchend.brush",v):O.on("mousemove.brush",m).on("mouseup.brush",v),T.interrupt().selectAll("*").interrupt(),L)M[0]=h[0]-M[0],M[1]=d[0]-M[1];else if(P){var I=+/w$/.test(P),R=+/^n/.test(P);x=[h[1-I]-M[0],d[1-R]-M[1]],M[0]=h[I],M[1]=d[R]}else fa.event.altKey&&(y=M.slice());T.style("pointer-events","none").selectAll(".resize").style("display",null),fa.select("body").style("cursor",b.style("cursor")),S({type:"brushstart"}),m()}var o,s,u=M(t,"brushstart","brush","brushend"),l=null,c=null,h=[0,0],d=[0,0],f=!0,p=!0,g=qu[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:h,y:d,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Bu?fa.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,h=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Pi(h,e.x),i=Pi(d,e.y);return o=s=null,function(r){h=e.x=n(r),d=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,g=qu[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,g=qu[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(f=!!e[0],p=!!e[1]):l?f=!!e:c&&(p=!!e),t):l&&c?[f,p]:l?f:c?p:null},t.extent=function(e){var n,i,r,a,u;return arguments.length?(l&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),o=[n,i],l.invert&&(n=l(n),i=l(i)),i<n&&(u=n,n=i,i=u),n==h[0]&&i==h[1]||(h=[n,i])),c&&(r=e[0],a=e[1],l&&(r=r[1],a=a[1]),s=[r,a],c.invert&&(r=c(r),a=c(a)),a<r&&(u=r,r=a,a=u),r==d[0]&&a==d[1]||(d=[r,a])),t):(l&&(o?(n=o[0],i=o[1]):(n=h[0],i=h[1],l.invert&&(n=l.invert(n),i=l.invert(i)),i<n&&(u=n,n=i,i=u))),c&&(s?(r=s[0],a=s[1]):(r=d[0],a=d[1],c.invert&&(r=c.invert(r),a=c.invert(a)),a<r&&(u=r,r=a,a=u))),l&&c?[[n,r],[i,a]]:l?[n,i]:c&&[r,a])},t.clear=function(){return t.empty()||(h=[0,0],d=[0,0],o=s=null),t},t.empty=function(){return!!l&&h[0]==h[1]||!!c&&d[0]==d[1]},fa.rebind(t,u,"on")};var Wu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},qu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ku=gs.format=ws.timeFormat,Qu=Ku.utc,$u=Qu("%Y-%m-%dT%H:%M:%S.%LZ");Ku.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ua:$u,ua.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ua.toString=$u.toString,gs.second=Zt(function(t){return new ms(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),gs.seconds=gs.second.range,gs.seconds.utc=gs.second.utc.range,gs.minute=Zt(function(t){return new ms(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),gs.minutes=gs.minute.range,gs.minutes.utc=gs.minute.utc.range,gs.hour=Zt(function(t){var e=t.getTimezoneOffset()/60;return new ms(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),gs.hours=gs.hour.range,gs.hours.utc=gs.hour.utc.range,gs.month=Zt(function(t){return t=gs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),gs.months=gs.month.range,gs.months.utc=gs.month.utc.range;var Ju=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],tl=[[gs.second,1],[gs.second,5],[gs.second,15],[gs.second,30],[gs.minute,1],[gs.minute,5],[gs.minute,15],[gs.minute,30],[gs.hour,1],[gs.hour,3],[gs.hour,6],[gs.hour,12],[gs.day,1],[gs.day,2],[gs.week,1],[gs.month,1],[gs.month,3],[gs.year,1]],el=Ku.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Re]]),nl={range:function(t,e,n){return fa.range(Math.ceil(t/n)*n,+e,n).map(ca)},floor:S,ceil:S};tl.year=gs.year,gs.scale=function(){return la(fa.scale.linear(),tl,el)};var il=tl.map(function(t){return[t[0].utc,t[1]]}),rl=Qu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Re]]);il.year=gs.year.utc,gs.scale.utc=function(){return la(fa.scale.linear(),il,rl)},fa.text=Ot(function(t){return t.responseText}),fa.json=function(t,e){return It(t,"application/json",ha,e)},fa.html=function(t,e){return It(t,"text/html",da,e)},fa.xml=Ot(function(t){return t.responseXML}),this.d3=fa,i=fa,void 0!==(r="function"===typeof i?i.call(e,n,e,t):i)&&(t.exports=r)}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(42),l=n.n(u),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o.state={data:null},a=n,r(o,a)}return o(e,t),c(e,[{key:"componentDidMount",value:function(){this.map=l.a.map("map-container",{attributionControl:!1,zoomControl:!1}).setView([15.505,-.09],2),l.a.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png").addTo(this.map)}},{key:"componentWillReceiveProps",value:function(t){var e=this;t.rawData!==this.state.data&&this.setState({data:t.rawData},function(){return e.drawMarkers()})}},{key:"drawMarkers",value:function(){var t=[].concat(this.state.data),e=t.sort(function(t,e){return e.population-t.population})[0].population;this.markerLayer=l.a.featureGroup(t.filter(function(t){return t.latlng.length}).map(function(t){var n={radius:t.population/e*30,color:"#FF5349"};return l.a.circleMarker({lat:t.latlng[0],lng:t.latlng[1],name:t.name},n)})).addTo(this.map)}},{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("article",null,s.a.createElement("div",{ref:"map",id:"map-container"})),s.a.createElement("article",null))}}]),e}(a.Component);e.a=h},function(t,e,n){!function(t,n){n(e)}(0,function(t){"use strict";function e(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(e in r)t[e]=r[e]}return t}function n(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}function i(t){return t._leaflet_id=t._leaflet_id||++pe,t._leaflet_id}function r(t,e,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}}function o(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function a(){return!1}function s(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function l(t){return u(t).split(/\s+/)}function c(t,e){t.hasOwnProperty("options")||(t.options=t.options?fe(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function h(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}function d(t,e){return t.replace(ge,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"===typeof i&&(i=i(e)),i})}function f(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function p(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function g(t){var e=+new Date,n=Math.max(0,16-(e-ve));return ve=e+n,window.setTimeout(t,n)}function m(t,e,i){if(!i||ye!==g)return ye.call(window,n(t,e));t.call(e)}function _(t){t&&xe.call(window,t)}function v(){}function y(t){if(L&&L.Mixin){t=me(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function x(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function w(t,e,n){return t instanceof x?t:me(t)?new x(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new x(t.x,t.y):new x(t,e,n)}function b(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function S(t,e){return!t||t instanceof b?t:new b(t,e)}function T(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function P(t,e){return t instanceof T?t:new T(t,e)}function A(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function C(t,e,n){return t instanceof A?t:me(t)&&"object"!==typeof t[0]?3===t.length?new A(t[0],t[1],t[2]):2===t.length?new A(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new A(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new A(t,e,n)}function E(t,e,n,i){if(me(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function k(t,e,n,i){return new E(t,e,n,i)}function M(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t,e){var n,i,r,o,a,s,u="";for(n=0,r=t.length;n<r;n++){for(a=t[n],i=0,o=a.length;i<o;i++)s=a[i],u+=(i?"L":"M")+s.x+" "+s.y;u+=e?un?"z":"x":""}return u||"M0 0"}function I(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function R(t,e,n,i){return"touchstart"===e?z(t,n,i):"touchmove"===e?B(t,n,i):"touchend"===e&&j(t,n,i),this}function N(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(hn,i,!1):"touchmove"===e?t.removeEventListener(dn,i,!1):"touchend"===e&&(t.removeEventListener(fn,i,!1),t.removeEventListener(pn,i,!1)),this}function z(t,e,i){var r=n(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(gn.indexOf(t.target.tagName)<0))return;$(t)}G(t,e)});t["_leaflet_touchstart"+i]=r,t.addEventListener(hn,r,!1),_n||(document.documentElement.addEventListener(hn,V,!0),document.documentElement.addEventListener(dn,D,!0),document.documentElement.addEventListener(fn,F,!0),document.documentElement.addEventListener(pn,F,!0),_n=!0)}function V(t){mn[t.pointerId]=t,vn++}function D(t){mn[t.pointerId]&&(mn[t.pointerId]=t)}function F(t){delete mn[t.pointerId],vn--}function G(t,e){t.touches=[];for(var n in mn)t.touches.push(mn[n]);t.changedTouches=[t],e(t)}function B(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&G(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(dn,i,!1)}function j(t,e,n){var i=function(t){G(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(fn,i,!1),t.addEventListener(pn,i,!1)}function H(t,e,n){function i(t){var e;if(en){if(!ze||"mouse"===t.pointerType)return;e=vn}else e=t.touches.length;if(!(e>1)){var n=Date.now(),i=n-(o||n);a=t.touches?t.touches[0]:t,s=i>0&&i<=u,o=n}}function r(t){if(s&&!a.cancelBubble){if(en){if(!ze||"mouse"===t.pointerType)return;var n,i,r={};for(i in a)n=a[i],r[i]=n&&n.bind?n.bind(a):n;a=r}a.type="dblclick",e(a),o=null}}var o,a,s=!1,u=250;return t[wn+yn+n]=i,t[wn+xn+n]=r,t[wn+"dblclick"+n]=e,t.addEventListener(yn,i,!1),t.addEventListener(xn,r,!1),t.addEventListener("dblclick",e,!1),this}function U(t,e){var n=t[wn+yn+e],i=t[wn+xn+e],r=t[wn+"dblclick"+e];return t.removeEventListener(yn,n,!1),t.removeEventListener(xn,i,!1),ze||t.removeEventListener("dblclick",r,!1),this}function Z(t,e,n,i){if("object"===typeof e)for(var r in e)Y(t,r,e[r],n);else{e=l(e);for(var o=0,a=e.length;o<a;o++)Y(t,e[o],n,i)}return this}function X(t,e,n,i){if("object"===typeof e)for(var r in e)W(t,r,e[r],n);else if(e){e=l(e);for(var o=0,a=e.length;o<a;o++)W(t,e[o],n,i)}else{for(var s in t[bn])W(t,s,t[bn][s]);delete t[bn]}return this}function Y(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):"");if(t[bn]&&t[bn][o])return this;var a=function(e){return n.call(r||t,e||window.event)},s=a;en&&0===e.indexOf("touch")?R(t,e,a,o):!nn||"dblclick"!==e||!H||en&&Be?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,rt(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("click"===e&&De&&(a=function(t){ot(t,s)}),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a):H(t,a,o),t[bn]=t[bn]||{},t[bn][o]=a}function W(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):""),a=t[bn]&&t[bn][o];if(!a)return this;en&&0===e.indexOf("touch")?N(t,e,o):nn&&"dblclick"===e&&U?U(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[bn][o]=null}function q(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,it(t),this}function K(t){return Y(t,"mousewheel",q),this}function Q(t){return Z(t,"mousedown touchstart dblclick",q),Y(t,"click",nt),this}function $(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function J(t){return $(t),q(t),this}function tt(t,e){if(!e)return new x(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new x(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)}function et(t){return ze?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Sn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function nt(t){Tn[t.type]=!0}function it(t){var e=Tn[t.type];return Tn[t.type]=!1,e}function rt(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}function ot(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Ce&&n-Ce;if(i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated)return void J(t);Ce=n,e(t)}function at(t){return"string"===typeof t?document.getElementById(t):t}function st(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function ut(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function lt(t){var e=t.parentNode;e&&e.removeChild(t)}function ct(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ht(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function dt(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ft(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=_t(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function pt(t,e){if(void 0!==t.classList)for(var n=l(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!ft(t,e)){var o=_t(t);mt(t,(o?o+" ":"")+e)}}function gt(t,e){void 0!==t.classList?t.classList.remove(e):mt(t,u((" "+_t(t)+" ").replace(" "+e+" "," ")))}function mt(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function _t(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function vt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&yt(t,e)}function yt(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function xt(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function wt(t,e,n){var i=e||new x(0,0);t.style[An]=(Ye?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function bt(t,e){t._leaflet_pos=e,Ke?wt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function St(t){return t._leaflet_pos||new x(0,0)}function Tt(){Z(window,"dragstart",$)}function Pt(){X(window,"dragstart",$)}function At(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ct(),kn=t,Mn=t.style.outline,t.style.outline="none",Z(window,"keydown",Ct))}function Ct(){kn&&(kn.style.outline=Mn,kn=void 0,Mn=void 0,X(window,"keydown",Ct))}function Lt(t,e){return new Rn(t,e)}function Et(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Rt(t,n),t=Ot(t,n)}function kt(t,e,n){return Math.sqrt(Ft(t,e,n,!0))}function Mt(t,e,n){return Ft(t,e,n)}function Ot(t,e){var n=t.length,i=typeof Uint8Array!==void 0+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1,It(t,r,e,0,n-1);var o,a=[];for(o=0;o<n;o++)r[o]&&a.push(t[o]);return a}function It(t,e,n,i,r){var o,a,s,u=0;for(a=i+1;a<=r-1;a++)(s=Ft(t[a],t[i],t[r],!0))>u&&(o=a,u=s);u>n&&(e[o]=1,It(t,e,n,i,o),It(t,e,n,o,r))}function Rt(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)Dt(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n}function Nt(t,e,n,i,r){var o,a,s,u=i?Zn:Vt(t,n),l=Vt(e,n);for(Zn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;o=u||l,a=zt(t,e,o,n,r),s=Vt(a,n),o===u?(t=a,u=s):(e=a,l=s)}}function zt(t,e,n,i,r){var o,a,s=e.x-t.x,u=e.y-t.y,l=i.min,c=i.max;return 8&n?(o=t.x+s*(c.y-t.y)/u,a=c.y):4&n?(o=t.x+s*(l.y-t.y)/u,a=l.y):2&n?(o=c.x,a=t.y+u*(c.x-t.x)/s):1&n&&(o=l.x,a=t.y+u*(l.x-t.x)/s),new x(o,a,r)}function Vt(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Dt(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Ft(t,e,n,i){var r,o=e.x,a=e.y,s=n.x-o,u=n.y-a,l=s*s+u*u;return l>0&&(r=((t.x-o)*s+(t.y-a)*u)/l,r>1?(o=n.x,a=n.y):r>0&&(o+=s*r,a+=u*r)),s=t.x-o,u=t.y-a,i?s*s+u*u:new x(o,a)}function Gt(t){return!me(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Bt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Gt(t)}function jt(t,e,n){var i,r,o,a,s,u,l,c,h,d=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=Vt(t[r],e);for(a=0;a<4;a++){for(c=d[a],i=[],r=0,l=t.length,o=l-1;r<l;o=r++)s=t[r],u=t[o],s._code&c?u._code&c||(h=zt(u,s,c,e,n),h._code=Vt(h,e),i.push(h)):(u._code&c&&(h=zt(u,s,c,e,n),h._code=Vt(h,e),i.push(h)),i.push(s));t=i}return t}function Ht(t){return new hi(t)}function Ut(t,e){return new pi(t,e)}function Zt(t,e){return new mi(t,e)}function Xt(t,e,n){return new _i(t,e,n)}function Yt(t,e){return new vi(t,e)}function Wt(t,e){return new yi(t,e)}function qt(t,e){var n,i,r,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Kt;if(!s&&!a)return null;switch(a.type){case"Point":return n=c(s),l?l(t,n):new pi(n);case"MultiPoint":for(r=0,o=s.length;r<o;r++)n=c(s[r]),u.push(l?l(t,n):new pi(n));return new li(u);case"LineString":case"MultiLineString":return i=Qt(s,"LineString"===a.type?0:1,c),new vi(i,e);case"Polygon":case"MultiPolygon":return i=Qt(s,"Polygon"===a.type?1:2,c),new yi(i,e);case"GeometryCollection":for(r=0,o=a.geometries.length;r<o;r++){var h=qt({geometry:a.geometries[r],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new li(u);default:throw new Error("Invalid GeoJSON object.")}}function Kt(t){return new A(t[1],t[0],t[2])}function Qt(t,e,n){for(var i,r=[],o=0,a=t.length;o<a;o++)i=e?Qt(t[o],e-1,n):(n||Kt)(t[o]),r.push(i);return r}function $t(t,e){return e="number"===typeof e?e:6,void 0!==t.alt?[s(t.lng,e),s(t.lat,e),s(t.alt,e)]:[s(t.lng,e),s(t.lat,e)]}function Jt(t,e,n,i){for(var r=[],o=0,a=t.length;o<a;o++)r.push(e?Jt(t[o],e-1,n,i):$t(t[o],i));return!e&&n&&r.push(r[0]),r}function te(t,n){return t.feature?e({},t.feature,{geometry:n}):ee(n)}function ee(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function ne(t,e){return new xi(t,e)}function ie(t,e,n){return new Pi(t,e,n)}function re(t){return new Mi(t)}function oe(t){return new Oi(t)}function ae(t,e){return new Ii(t,e)}function se(t,e){return new Ri(t,e)}function ue(t){return sn?new zi(t):null}function le(t){return un||ln?new Gi(t):null}function ce(t,e){return new Bi(t,e)}function he(){return window.L=qi,this}var de=Object.freeze;Object.freeze=function(t){return t};var fe=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),pe=0,ge=/\{ *([\w_\-]+) *\}/g,me=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},_e="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",ve=0,ye=window.requestAnimationFrame||p("RequestAnimationFrame")||g,xe=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},we=(Object.freeze||Object)({freeze:de,extend:e,create:fe,bind:n,lastId:pe,stamp:i,throttle:r,wrapNum:o,falseFn:a,formatNum:s,trim:u,splitWords:l,setOptions:c,getParamString:h,template:d,isArray:me,indexOf:f,emptyImageUrl:_e,requestFn:ye,cancelFn:xe,requestAnimFrame:m,cancelAnimFrame:_});v.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=n.__super__=this.prototype,r=fe(i);r.constructor=n,n.prototype=r;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);return t.statics&&(e(n,t.statics),delete t.statics),t.includes&&(y(t.includes),e.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=e(fe(r.options),t.options)),e(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},n},v.include=function(t){return e(this.prototype,t),this},v.mergeOptions=function(t){return e(this.prototype.options,t),this},v.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var be={on:function(t,e,n){if("object"===typeof t)for(var i in t)this._on(i,t[i],e);else{t=l(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,n)}return this},off:function(t,e,n){if(t)if("object"===typeof t)for(var i in t)this._off(i,t[i],e);else{t=l(t);for(var r=0,o=t.length;r<o;r++)this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t])){if(!e){for(r=0,o=i.length;r<o;r++)i[r].fn=a;return void delete this._events[t]}if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var s=i[r];if(s.ctx===n&&s.fn===e)return s.fn=a,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}},fire:function(t,n,i){if(!this.listens(t,i))return this;var r=e({},n,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"===typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=n(function(){this.off(t,e,i).off(t,o,i)},this);return this.on(t,e,i).on(t,o,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[i(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[i(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target},t),!0)}};be.addEventListener=be.on,be.removeEventListener=be.clearAllEventListeners=be.off,be.addOneTimeEventListener=be.once,be.fireEvent=be.fire,be.hasEventListeners=be.listens;var Se=v.extend(be);x.prototype={clone:function(){return new x(this.x,this.y)},add:function(t){return this.clone()._add(w(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(w(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new x(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new x(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=w(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=w(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=w(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+s(this.x)+", "+s(this.y)+")"}},b.prototype={extend:function(t){return t=w(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new x(this.min.x,this.max.y)},getTopRight:function(){return new x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"===typeof t[0]||t instanceof x?w(t):S(t),t instanceof b?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=S(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return o&&a},overlaps:function(t){t=S(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,a=r.y>e.y&&i.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},T.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof A)e=t,n=t;else{if(!(t instanceof T))return t?this.extend(C(t)||P(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new A(e.lat,e.lng),this._northEast=new A(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new T(new A(e.lat-i,e.lng-r),new A(n.lat+i,n.lng+r))},getCenter:function(){return new A((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new A(this.getNorth(),this.getWest())},getSouthEast:function(){return new A(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof A||"lat"in t?C(t):P(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof T?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=P(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return o&&a},overlaps:function(t){t=P(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,a=r.lng>e.lng&&i.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=P(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},A.prototype={equals:function(t,e){return!!t&&(t=C(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+s(this.lat,t)+", "+s(this.lng,t)+")"},distanceTo:function(t){return Pe.distance(this,C(t))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return P([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new A(this.lat,this.lng,this.alt)}};var Te={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new b(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new A(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new T(new A(o.lat-i,o.lng-r),new A(a.lat-i,a.lng-r))}},Pe=e({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(o,1))}}),Ae={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new x(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new A((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new b([-t,-t],[t,t])}()};E.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new x((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Ce,Le,Ee,ke,Me=e({},Pe,{code:"EPSG:3857",projection:Ae,transformation:function(){var t=.5/(Math.PI*Ae.R);return k(t,.5,-t,.5)}()}),Oe=e({},Me,{code:"EPSG:900913"}),Ie=document.documentElement.style,Re="ActiveXObject"in window,Ne=Re&&!document.addEventListener,ze="msLaunchUri"in navigator&&!("documentMode"in document),Ve=I("webkit"),De=I("android"),Fe=I("android 2")||I("android 3"),Ge=!!window.opera,Be=I("chrome"),je=I("gecko")&&!Ve&&!Ge&&!Re,He=!Be&&I("safari"),Ue=I("phantom"),Ze="OTransition"in Ie,Xe=0===navigator.platform.indexOf("Win"),Ye=Re&&"transition"in Ie,We="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Fe,qe="MozPerspective"in Ie,Ke=!window.L_DISABLE_3D&&(Ye||We||qe)&&!Ze&&!Ue,Qe="undefined"!==typeof orientation||I("mobile"),$e=Qe&&Ve,Je=Qe&&We,tn=!window.PointerEvent&&window.MSPointerEvent,en=!(!window.PointerEvent&&!tn),nn=!window.L_NO_TOUCH&&(en||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),rn=Qe&&Ge,on=Qe&&je,an=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,sn=function(){return!!document.createElement("canvas").getContext}(),un=!(!document.createElementNS||!M("svg").createSVGRect),ln=!un&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(t){return!1}}(),cn=(Object.freeze||Object)({ie:Re,ielt9:Ne,edge:ze,webkit:Ve,android:De,android23:Fe,opera:Ge,chrome:Be,gecko:je,safari:He,phantom:Ue,opera12:Ze,win:Xe,ie3d:Ye,webkit3d:We,gecko3d:qe,any3d:Ke,mobile:Qe,mobileWebkit:$e,mobileWebkit3d:Je,msPointer:tn,pointer:en,touch:nn,mobileOpera:rn,mobileGecko:on,retina:an,canvas:sn,svg:un,vml:ln}),hn=tn?"MSPointerDown":"pointerdown",dn=tn?"MSPointerMove":"pointermove",fn=tn?"MSPointerUp":"pointerup",pn=tn?"MSPointerCancel":"pointercancel",gn=["INPUT","SELECT","OPTION"],mn={},_n=!1,vn=0,yn=tn?"MSPointerDown":en?"pointerdown":"touchstart",xn=tn?"MSPointerUp":en?"pointerup":"touchend",wn="_leaflet_",bn="_leaflet_events",Sn=Xe&&Be?2*window.devicePixelRatio:je?window.devicePixelRatio:1,Tn={},Pn=(Object.freeze||Object)({on:Z,off:X,stopPropagation:q,disableScrollPropagation:K,disableClickPropagation:Q,preventDefault:$,stop:J,getMousePosition:tt,getWheelDelta:et,fakeStop:nt,skipped:it,isExternalTarget:rt,addListener:Z,removeListener:X}),An=xt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Cn=xt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ln="webkitTransition"===Cn||"OTransition"===Cn?Cn+"End":"transitionend";if("onselectstart"in document)Le=function(){Z(window,"selectstart",$)},Ee=function(){X(window,"selectstart",$)};else{var En=xt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Le=function(){if(En){var t=document.documentElement.style;ke=t[En],t[En]="none"}},Ee=function(){En&&(document.documentElement.style[En]=ke,ke=void 0)}}var kn,Mn,On=(Object.freeze||Object)({TRANSFORM:An,TRANSITION:Cn,TRANSITION_END:Ln,get:at,getStyle:st,create:ut,remove:lt,empty:ct,toFront:ht,toBack:dt,hasClass:ft,addClass:pt,removeClass:gt,setClass:mt,getClass:_t,setOpacity:vt,testProp:xt,setTransform:wt,setPosition:bt,getPosition:St,disableTextSelection:Le,enableTextSelection:Ee,disableImageDrag:Tt,enableImageDrag:Pt,preventOutline:At,restoreOutline:Ct}),In=Se.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=St(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=m(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),bt(this._el,n),this.fire("step")},_complete:function(){_(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Rn=Se.extend({options:{crs:Me,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=c(this,e),this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(C(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=Cn&&Ke&&!rn&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Z(this._proxy,Ln,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,i){if(n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(C(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=e({animate:i.animate},i.zoom),i.pan=e({animate:i.animate,duration:i.duration},i.pan));if(this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(t,n),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Ke?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Ke?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof x?t:this.latLngToContainerPoint(t),a=o.subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(a));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():P(t);var n=w(e.paddingTopLeft||e.padding||[0,0]),i=w(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"===typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),s=this.project(t.getNorthEast(),r);return{center:this.unproject(a.add(s).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(t=P(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=w(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new In,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){pt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){function i(t){var e=t?-1:1,n=t?_:g,i=_*_-g*g+e*x*x*v*v,r=2*n*x*v,o=i/r,a=Math.sqrt(o*o+1)-o;return a<1e-9?-18:Math.log(a)}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}function a(t){return r(t)/o(t)}function s(t){return g*(o(w)/o(w+y*t))}function u(t){return g*(o(w)*a(w+y*t)-r(w))/x}function l(t){return 1-Math.pow(1-t,1.5)}function c(){var n=(Date.now()-b)/T,i=l(n)*S;n<=1?(this._flyToFrame=m(c,this),this._move(this.unproject(h.add(d.subtract(h).multiplyBy(u(i)/v)),p),this.getScaleZoom(g/s(i),p),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},!1===n.animate||!Ke)return this.setView(t,e,n);this._stop();var h=this.project(this.getCenter()),d=this.project(t),f=this.getSize(),p=this._zoom;t=C(t),e=void 0===e?p:e;var g=Math.max(f.x,f.y),_=g*this.getZoomScale(p,e),v=d.distanceTo(h)||1,y=1.42,x=y*y,w=i(0),b=Date.now(),S=(i(1)-w)/y,T=n.duration?1e3*n.duration:1e3*S*.8;return this._moveStart(!0),c.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=P(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,P(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=i.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),r=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,t):navigator.geolocation.getCurrentPosition(i,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new A(e,n),r=i.toBounds(t.coords.accuracy),o=this._locateOptions;if(o.setView){var a=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(a,o.maxZoom):a)}var s={latlng:i,bounds:r,timestamp:t.timestamp};for(var u in t.coords)"number"===typeof t.coords[u]&&(s[u]=t.coords[u]);this.fire("locationfound",s)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)lt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=ut("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new T(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=P(t),n=w(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),l=S(this.project(s,i),this.project(a,i)).getSize(),c=Ke?this.options.zoomSnap:1,h=u.x/l.x,d=u.y/l.y,f=e?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(f,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new b(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(C(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(w(t),e)},layerPointToLatLng:function(t){var e=w(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(C(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(C(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(P(t))},distance:function(t,e){return this.options.crs.distance(C(t),C(e))},containerPointToLayerPoint:function(t){return w(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return w(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(w(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(t)))},mouseEventToContainerPoint:function(t){return tt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=at(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Z(e,"scroll",this._onScroll,this),this._containerId=i(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke,pt(t,"leaflet-container"+(nn?" leaflet-touch":"")+(an?" leaflet-retina":"")+(Ne?" leaflet-oldie":"")+(He?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=st(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),bt(this._mapPane,new x(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(t.markerPane,"leaflet-zoom-hide"),pt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){bt(this._mapPane,new x(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){bt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[i(this._container)]=this;var e=t?X:Z;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Ke&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_(this._resizeRequest),this._resizeRequest=m(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],o="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,s=!1;a;){if((n=this._targets[i(a)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(o&&!rt(a,t))break;if(r.push(n),o)break}if(a===this._container)break;a=a.parentNode}return r.length||s||o||!rt(a,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!it(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||At(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,i){if("click"===t.type){var r=e({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,n)),i.length)){var o=i[0];"contextmenu"===n&&o.listens(n,!0)&&$(t);var a={originalEvent:t};if("keypress"!==t.type){var s=o.options&&"icon"in o.options;a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<i.length;u++)if(i[u].fire(n,a,!0),a.originalEvent._stopped||!1===i[u].options.bubblingMouseEvents&&-1!==f(this._mouseEvents,n))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return St(this._mapPane)||new x(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return S([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new b(i.subtract(r),i.add(r)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new b(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=S(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new x(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Ke?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=An,n=this._proxy.style[e];wt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();wt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(m(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,r){i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(n(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(gt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),m(function(){this._moveEnd(!0)},this))}}),Nn=v.extend({options:{position:"topright"},initialize:function(t){c(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return pt(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),zn=function(t){return new Nn(t)};Rn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,r){var o=n+t+" "+n+r;e[t+r]=ut("div",o,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=ut("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)lt(this._controlCorners[t]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vn=Nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){c(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Nn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(i(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(pt(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):gt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ut("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Q(e),K(e);var i=this._form=ut("form",t+"-list");n&&(this._map.on("click",this.collapse,this),De||Z(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=ut("a",t+"-toggle",e);r.href="#",r.title="Layers",nn?(Z(r,"click",J),Z(r,"click",this.expand,this)):Z(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ut("div",t+"-base",i),this._separator=ut("div",t+"-separator",i),this._overlaysList=ut("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&i(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(n(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ct(this._baseLayersList),ct(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(i(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(e),e.layerId=i(t.layer),Z(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var a=document.createElement("div");return n.appendChild(a),a.appendChild(e),a.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Dn=function(t,e,n){return new Vn(t,e,n)},Fn=Nn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ut("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=ut("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Q(o),Z(o,"click",J),Z(o,"click",r,this),Z(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";gt(this._zoomInButton,e),gt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&pt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&pt(this._zoomInButton,e)}});Rn.mergeOptions({zoomControl:!0}),Rn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fn,this.addControl(this.zoomControl))});var Gn=function(t){return new Fn(t)},Bn=Nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=ut("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ut("div",e,n)),t.imperial&&(this._iScale=ut("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),jn=function(t){return new Bn(t)},Hn=Nn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){c(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),Q(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Rn.mergeOptions({attributionControl:!0}),Rn.addInitHook(function(){this.options.attributionControl&&(new Hn).addTo(this)});var Un=function(t){return new Hn(t)};Nn.Layers=Vn,Nn.Zoom=Fn,Nn.Scale=Bn,Nn.Attribution=Hn,zn.layers=Dn,zn.zoom=Gn,zn.scale=jn,zn.attribution=Un;var Zn,Xn=v.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Yn={Events:be},Wn=nn?"touchstart mousedown":"mousedown",qn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Kn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Qn=Se.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){c(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Z(this._dragStartTarget,Wn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qn._dragging===this&&this.finishDrag(),X(this._dragStartTarget,Wn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ft(this._element,"leaflet-zoom-anim")&&!(Qn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(Qn._dragging=this,this._preventOutline&&At(this._element),Tt(),Le(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new x(e.clientX,e.clientY),Z(document,Kn[t.type],this._onMove,this),Z(document,qn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new x(e.clientX,e.clientY),i=n.subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||($(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=St(this._element).subtract(i),pt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,_(this._animRequest),this._lastEvent=t,this._animRequest=m(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),bt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){gt(document.body,"leaflet-dragging"),this._lastTarget&&(gt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in Kn)X(document,Kn[t],this._onMove,this),X(document,qn[t],this._onUp,this);Pt(),Ee(),this._moved&&this._moving&&(_(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Qn._dragging=!1}}),$n=(Object.freeze||Object)({simplify:Et,pointToSegmentDistance:kt,closestPointOnSegment:Mt,clipSegment:Nt,_getEdgeIntersection:zt,_getBitCode:Vt,_sqClosestPointOnSegment:Ft,isFlat:Gt,_flat:Bt}),Jn=(Object.freeze||Object)({clipPolygon:jt}),ti={project:function(t){return new x(t.lng,t.lat)},unproject:function(t){return new A(t.y,t.x)},bounds:new b([-180,-90],[180,90])},ei={R:6378137,R_MINOR:6356752.314245179,bounds:new b([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),a=o*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),o/2);return i=-n*Math.log(Math.max(s,1e-10)),new x(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),l=Math.PI/2-2*Math.atan(a*e)-s,s+=l;return new A(s*n,t.x*n/i)}},ni=(Object.freeze||Object)({LonLat:ti,Mercator:ei,SphericalMercator:Ae}),ii=e({},Pe,{code:"EPSG:3395",projection:ei,transformation:function(){var t=.5/(Math.PI*ei.R);return k(t,.5,-t,.5)}()}),ri=e({},Pe,{code:"EPSG:4326",projection:ti,transformation:k(1/180,1,-1/180,.5)}),oi=e({},Te,{projection:ti,transformation:k(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});Te.Earth=Pe,Te.EPSG3395=ii,Te.EPSG3857=Me,Te.EPSG900913=Oe,Te.EPSG4326=ri,Te.Simple=oi;var ai=Se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[i(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[i(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Rn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=i(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=i(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&i(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?me(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[i(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=i(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var si=ai.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return i(t)}}),ui=function(t){return new si(t)},li=si.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),si.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),si.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new T;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),ci=function(t){return new li(t)},hi=v.extend({initialize:function(t){c(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"===typeof i&&(i=[i,i]);var r=w(i),o=w("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return an&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),di=hi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return di.imagePath||(di.imagePath=this._detectIconPath()),(this.options.imagePath||di.imagePath)+hi.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ut("div","leaflet-default-icon-path",document.body),e=st(t,"background-image")||st(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),fi=Xn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Qn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,i=St(e._icon),r=e._map.layerPointToLatLng(i);n&&bt(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),pi=ai.extend({options:{icon:new di,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){c(this,e),this._latlng=C(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=C(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),pt(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(pt(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(t){bt(this._icon,t),this._shadow&&bt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;vt(this._icon,t),this._shadow&&vt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),gi=ai.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return c(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(nn?10:0)}}),mi=gi.extend({options:{fill:!0,radius:10},initialize:function(t,e){c(this,e),this._latlng=C(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=C(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return gi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new b(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),_i=mi.extend({initialize:function(t,n,i){if("number"===typeof n&&(n=e({},i,{radius:n})),c(this,n),this._latlng=C(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:gi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===Pe.distance){var r=Math.PI/180,o=this._mRadius/Pe.R/r,a=n.project([e+o,t]),s=n.project([e-o,t]),u=a.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(u.x-n.project([l,t-c]).x),1),this._radiusY=Math.max(Math.round(u.y-a.y),1)}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),vi=gi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){c(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=Ft,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],l=1,c=u.length;l<c;l++){e=u[l-1],n=u[l];var h=o(t,e,n,!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,i=0;t<u-1;t++)if(r=s[t],o=s[t+1],n=r.distanceTo(o),(i+=n)>e)return a=(i-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-r.x),o.y-a*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=C(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new T,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Gt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Gt(t),i=0,r=t.length;i<r;i++)n?(e[i]=C(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new b;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new x(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof A,a=t.length;if(o){for(r=[],i=0;i<a;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,r,o,a,s,u=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(s=this._rings[e],n=0,o=s.length;n<o-1;n++)(a=Nt(s[n],s[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Et(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(s=this._parts[n],i=0,a=s.length,r=a-1;i<a;r=i++)if((e||0!==i)&&kt(t,s[r],s[i])<=u)return!0;return!1}});vi._flat=Bt;var yi=vi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=a=s=0,t=0,e=c-1;t<c;e=t++)n=l[t],i=l[e],r=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*r,s+=(n.y+i.y)*r,o+=3*r;return u=0===o?l[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=vi.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof A&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){vi.prototype._setLatLngs.call(this,t),Gt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new x(e,e);if(t=new b(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,r=0,o=this._rings.length;r<o;r++)i=jt(this._rings[r],t,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,a,s,u,l=!1;if(!this._pxBounds.contains(t))return!1;for(r=0,s=this._parts.length;r<s;r++)for(e=this._parts[r],o=0,u=e.length,a=u-1;o<u;a=o++)n=e[o],i=e[a],n.y>t.y!==i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||vi.prototype._containsPoint.call(this,t,!0)}}),xi=li.extend({initialize:function(t,e){c(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=me(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=qt(t,o);return a?(a.feature=ee(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"===typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),wi={toGeoJSON:function(t){return te(this,{type:"Point",coordinates:$t(this.getLatLng(),t)})}};pi.include(wi),_i.include(wi),mi.include(wi),vi.include({toGeoJSON:function(t){var e=!Gt(this._latlngs),n=Jt(this._latlngs,e?1:0,!1,t);return te(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),yi.include({toGeoJSON:function(t){var e=!Gt(this._latlngs),n=e&&!Gt(this._latlngs[0]),i=Jt(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),te(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),si.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),te(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=ee(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?te(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var bi=ne,Si=ai.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=P(e),c(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ht(this._image),this},bringToBack:function(){return this._map&&dt(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=P(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=ut("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));t.onselectstart=a,t.onmousemove=a,t.onload=n(this.fire,this,"load"),t.onerror=n(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;wt(this._image,n,e)},_reset:function(){var t=this._image,e=new b(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();bt(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){vt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Ti=function(t,e,n){return new Si(t,e,n)},Pi=Si.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ut("video");if(e.class=e.class||"",e.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),e.onselectstart=a,e.onmousemove=a,e.onloadeddata=n(this.fire,this,"load"),!t){me(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var i=0;i<this._url.length;i++){var r=ut("source");r.src=this._url[i],e.appendChild(r)}}}}),Ai=ai.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){c(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&vt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&vt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(vt(this._container,0),this._removeTimeout=setTimeout(n(lt,void 0,this._container),200)):lt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=C(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ht(this._container),this},bringToBack:function(){return this._map&&dt(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=w(this.options.offset),n=this._getAnchor();this._zoomAnimated?bt(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Ci=Ai.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ai.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gi||this._source.on("preclick",q))},onRemove:function(t){Ai.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gi||this._source.off("preclick",q))},getEvents:function(){var t=Ai.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ut("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ut("div",t+"-content-wrapper",e);if(this._contentNode=ut("div",t+"-content",n),Q(n),K(this._contentNode),Z(n,"contextmenu",q),this._tipContainer=ut("div",t+"-tip-container",e),this._tip=ut("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ut("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Z(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight;r&&i>r?(e.height=r+"px",pt(t,"leaflet-popup-scrolled")):gt(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();bt(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(st(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new x(this._containerLeft,-n-this._containerBottom);r._add(St(this._container));var o=t.layerPointToContainerPoint(r),a=w(this.options.autoPanPadding),s=w(this.options.autoPanPaddingTopLeft||a),u=w(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),c=0,h=0;o.x+i+u.x>l.x&&(c=o.x+i-l.x+u.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+n+u.y>l.y&&(h=o.y+n-l.y+u.y),o.y-h-s.y<0&&(h=o.y-s.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),J(t)},_getAnchor:function(){return w(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Li=function(t,e){return new Ci(t,e)};Rn.mergeOptions({closePopupOnClick:!0}),Rn.include({openPopup:function(t,e,n){return t instanceof Ci||(t=new Ci(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),ai.include({bindPopup:function(t,e){return t instanceof Ci?(c(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Ci(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof ai||(e=t,t=this),t instanceof li)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map){if(J(t),e instanceof gi)return void this.openPopup(t.layer||t.target,t.latlng);this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ei=Ai.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ai.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ai.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ai.prototype.getEvents.call(this);return nn&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=w(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(w(-a/2+u.x,-s+u.y+l.y,!0)):"bottom"===o?t=t.subtract(w(a/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(w(a/2+u.x,s/2-l.y+u.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t=t.add(w(u.x+l.x,l.y-s/2+u.y,!0))):(o="left",t=t.subtract(w(a+l.x-u.x,s/2-l.y-u.y,!0))),gt(n,"leaflet-tooltip-right"),gt(n,"leaflet-tooltip-left"),gt(n,"leaflet-tooltip-top"),gt(n,"leaflet-tooltip-bottom"),pt(n,"leaflet-tooltip-"+o),bt(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&vt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return w(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ki=function(t,e){return new Ei(t,e)};Rn.include({openTooltip:function(t,e,n){return t instanceof Ei||(t=new Ei(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),ai.include({bindTooltip:function(t,e){return t instanceof Ei?(c(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Ei(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),nn&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof ai||(e=t,t=this),t instanceof li)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(pt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(gt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Mi=hi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=w(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});hi.Default=di;var Oi=ai.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Qe,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){c(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),lt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(ht(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof x?t:new x(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne){vt(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);vt(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(_(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(lt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||(i=this._levels[t]={},i.el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)lt(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new x(+r,+o);s.z=+a;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>i&&this._retainParent(r,o,a,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var a=new x(r,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Ke?wt(t.el,r,i):bt(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new b(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),a=[],s=this.options.keepBuffer,u=new b(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new x(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(t,n);for(var h=r.min.y;h<=r.max.y;h++)for(var d=r.min.x;d<=r.max.x;d++){var f=new x(d,h);f.z=this._tileZoom,this._isValidTile(f)&&(this._tiles[this._tileCoordsToKey(f)]||a.push(f))}if(a.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var p=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],p);this._level.el.appendChild(p)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return P(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n),o=e.unproject(i,t.z),a=e.unproject(r,t.z),s=new T(o,a);return this.options.noWrap||e.wrapLatLngBounds(s),s},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new x(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(lt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){pt(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,Ne&&this.options.opacity<1&&vt(t,this.options.opacity),De&&!Fe&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&m(n(this._tileReady,this,t,null,o)),bt(o,i),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var r=this._tileCoordsToKey(t);i=this._tiles[r],i&&(i.loaded=+new Date,this._map._fadeAnimated?(vt(i.el,0),_(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(pt(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne||!this._map._fadeAnimated?m(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new x(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new b(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),Ii=Oi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=c(this,e),e.detectRetina&&an&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),De||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Z(i,"load",n(this._tileOnLoad,this,e,i)),Z(i,"error",n(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var n={r:an?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=i),n["-y"]=i}return d(this._url,e(n,this.options))},_tileOnLoad:function(t,e){Ne?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.src!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=a,e.onerror=a,e.complete||(e.src=_e,lt(e)))}}),Ri=Ii.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var i=e({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);n=c(this,n),i.width=i.height=n.tileSize*(n.detectRetina&&an?2:1),this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Ii.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),i=this._crs.project(e.getSouthEast()),r=(this._wmsVersion>=1.3&&this._crs===ri?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),o=Ii.prototype.getTileUrl.call(this,t);return o+h(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});Ii.WMS=Ri,ae.wms=se;var Ni=ai.extend({options:{padding:.1},initialize:function(t){c(this,t),i(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=St(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e),s=a.subtract(o),u=r.multiplyBy(-n).add(i).add(r).subtract(s);Ke?wt(this._container,u,n):bt(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new b(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zi=Ni.extend({getEvents:function(){var t=Ni.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ni.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Z(t,"mousemove",r(this._onMouseMove,32,this),this),Z(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Z(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,lt(this._container),X(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},Ni.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=an?2:1;bt(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",an&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ni.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[i(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||m(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new b,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,a=t._parts,s=a.length,u=this._ctx;if(s){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++)o=a[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=t._radius,r=(t._radiusY||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)e=r.layer,e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(nt(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(gt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,r=this._drawFirst;r;r=r.next)n=r.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(pt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),Vi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Di={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ni.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Vi("shape");pt(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Vi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;lt(e),t.removeInteractiveTarget(e),delete this._layers[i(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Vi("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=me(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Vi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ht(t._container)},_bringToBack:function(t){dt(t._container)}},Fi=ln?Vi:M,Gi=Ni.extend({getEvents:function(){var t=Ni.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Fi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),X(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ni.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),bt(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Fi("path");t.options.className&&pt(e,t.options.className),t.options.interactive&&pt(e,"leaflet-interactive"),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){lt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[i(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,O(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,i=t._radiusY||n,r="a"+n+","+i+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ht(t._path)},_bringToBack:function(t){dt(t._path)}});ln&&Gi.include(Di),Rn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&ue()||le()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=Gi&&le({pane:t})||zi&&ue({pane:t}),this._paneRenderers[t]=e),e}});var Bi=yi.extend({initialize:function(t,e){yi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=P(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Gi.create=Fi,Gi.pointsToPath=O,xi.geometryToLayer=qt,xi.coordsToLatLng=Kt,xi.coordsToLatLngs=Qt,xi.latLngToCoords=$t,xi.latLngsToCoords=Jt,xi.getFeature=te,xi.asFeature=ee,Rn.mergeOptions({boxZoom:!0});var ji=Xn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Z(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){X(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Le(),Tt(),this._startPoint=this._map.mouseEventToContainerPoint(t),Z(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new b(this._point,this._startPoint),n=e.getSize();bt(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(lt(this._box),gt(this._container,"leaflet-crosshair")),Ee(),Pt(),X(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Rn.addInitHook("addHandler","boxZoom",ji),Rn.mergeOptions({doubleClickZoom:!0});var Hi=Xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Rn.addInitHook("addHandler","doubleClickZoom",Hi),Rn.mergeOptions({dragging:!0,inertia:!Fe,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ui=Xn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Qn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gt(this._map._container,"leaflet-grab"),gt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=P(this._map.options.maxBounds);this._offsetLimit=S(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=r.multiplyBy(a/o),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),h=l/(n.inertiaDeceleration*a),d=c.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),m(function(){e.panBy(d,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Rn.addInitHook("addHandler","dragging",Ui),Rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zi=Xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Z(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),X(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){Z(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){X(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=w(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup)return;i.closePopup()}J(t)}}});Rn.addInitHook("addHandler","keyboard",Zi),Rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xi=Xn.extend({addHooks:function(){Z(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){X(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=et(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),r),J(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Rn.addInitHook("addHandler","scrollWheelZoom",Xi),Rn.mergeOptions({tap:!0,tapTolerance:15});var Yi=Xn.extend({addHooks:function(){Z(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){X(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if($(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new x(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&pt(i,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Z(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),X(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&gt(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new x(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});nn&&!en&&Rn.addInitHook("addHandler","tap",Yi),Rn.mergeOptions({touchZoom:nn&&!Fe,bounceAtZoomLimits:!0});var Wi=Xn.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),Z(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),X(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Z(document,"touchmove",this._onTouchMove,this),Z(document,"touchend",this._onTouchEnd,this),$(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=i._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),_(this._animRequest);var s=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=m(s,this,!0),$(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,_(this._animRequest),X(document,"touchmove",this._onTouchMove),X(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Rn.addInitHook("addHandler","touchZoom",Wi),Rn.BoxZoom=ji,Rn.DoubleClickZoom=Hi,Rn.Drag=Ui,Rn.Keyboard=Zi,Rn.ScrollWheelZoom=Xi,Rn.Tap=Yi,Rn.TouchZoom=Wi;var qi=window.L;window.L=t,Object.freeze=de,t.version="1.2.0",t.noConflict=he,t.Control=Nn,t.control=zn,t.Browser=cn,t.Evented=Se,t.Mixin=Yn,t.Util=we,t.Class=v,t.Handler=Xn,t.extend=e,t.bind=n,t.stamp=i,t.setOptions=c,t.DomEvent=Pn,t.DomUtil=On,t.PosAnimation=In,t.Draggable=Qn,t.LineUtil=$n,t.PolyUtil=Jn,t.Point=x,t.point=w,t.Bounds=b,t.bounds=S,t.Transformation=E,t.transformation=k,t.Projection=ni,t.LatLng=A,t.latLng=C,t.LatLngBounds=T,t.latLngBounds=P,t.CRS=Te,t.GeoJSON=xi,t.geoJSON=ne,t.geoJson=bi,t.Layer=ai,t.LayerGroup=si,t.layerGroup=ui,t.FeatureGroup=li,t.featureGroup=ci,t.ImageOverlay=Si,t.imageOverlay=Ti,t.VideoOverlay=Pi,t.videoOverlay=ie,t.DivOverlay=Ai,t.Popup=Ci,t.popup=Li,t.Tooltip=Ei,t.tooltip=ki,t.Icon=hi,t.icon=Ht,t.DivIcon=Mi,t.divIcon=re,t.Marker=pi,t.marker=Ut,t.TileLayer=Ii,t.tileLayer=ae,t.GridLayer=Oi,t.gridLayer=oe,t.SVG=Gi,t.svg=le,t.Renderer=Ni,t.Canvas=zi,t.canvas=ue,t.Path=gi,t.CircleMarker=mi,t.circleMarker=Zt,t.Circle=_i,t.circle=Xt,t.Polyline=vi,t.polyline=Yt,t.Polygon=yi,t.polygon=Wt,t.Rectangle=Bi,t.rectangle=ce,t.Map=Rn,t.map=Lt})},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),u=n.n(s),l=n(44),c=(n.n(l),n(8)),h=n.n(c),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=function(t){function e(){var t,n,i,a;r(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),i.state={data:null,stats:{}},a=n,o(i,a)}return a(e,t),d(e,[{key:"componentWillReceiveProps",value:function(t){var e=this;this.state.data!==t.data&&this.setState({data:t.data},function(){return t.datapoints.map(function(t){return e.getStats(t)})})}},{key:"getStats",value:function(t){var e,n=[].concat(this.state.data),r=Object.assign(this.state.stats,{}),o="-";switch(t.key){case"countries":o=n.length;break;case"population":o=n.reduce(function(t,e){return t+e.population},0);break;case"area":o=n.filter(function(t){return t.area}).reduce(function(t,e){return t+e.area},0);break;case"languages":var a=(e=[]).concat.apply(e,i(n.map(function(t){return t.languages})));o=Object(l.uniq)(a,function(t){return t.name}).length}r[t.key]=o,this.setState({stats:r})}},{key:"render",value:function(){var t=this;return u.a.createElement("section",null,u.a.createElement("article",{className:"stats-container"},this.props.datapoints.map(function(e){return u.a.createElement("div",{key:e.key,className:"stat"},u.a.createElement("label",null,e.key),u.a.createElement("span",null,t.state.stats[e.key]?h()(t.state.stats[e.key]).format("0a"):"-"),e.postfix?u.a.createElement("sup",null,e.postfix):null)})))}}]),e}(s.Component);e.a=f},function(t,e,n){var i,r;(function(){function n(t){function e(e,n,i,r,o,a){for(;o>=0&&o<a;o+=t){var s=r?r[o]:o;i=n(i,e[s],s,e)}return i}return function(n,i,r,o){i=S(i,o,4);var a=!k(n)&&b.keys(n),s=(a||n).length,u=t>0?0:s-1;return arguments.length<3&&(r=n[a?a[u]:u],u+=t),e(n,i,r,a,u,s)}}function o(t){return function(e,n,i){n=T(n,i);for(var r=E(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function a(t,e,n){return function(i,r,o){var a=0,s=E(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(p.call(i,a,s),b.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(i[o]===r)return o;return-1}}function s(t,e){var n=N.length,i=t.constructor,r=b.isFunction(i)&&i.prototype||h,o="constructor";for(b.has(t,o)&&!b.contains(e,o)&&e.push(o);n--;)(o=N[n])in t&&t[o]!==r[o]&&!b.contains(e,o)&&e.push(o)}var u=this,l=u._,c=Array.prototype,h=Object.prototype,d=Function.prototype,f=c.push,p=c.slice,g=h.toString,m=h.hasOwnProperty,_=Array.isArray,v=Object.keys,y=d.bind,x=Object.create,w=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};"undefined"!==typeof t&&t.exports&&(e=t.exports=b),e._=b,b.VERSION="1.8.3";var S=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},T=function(t,e,n){return null==t?b.identity:b.isFunction(t)?S(t,e,n):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,e){return T(t,e,1/0)};var P=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}},A=function(t){if(!b.isObject(t))return{};if(x)return x(t);w.prototype=t;var e=new w;return w.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},L=Math.pow(2,53)-1,E=C("length"),k=function(t){var e=E(t);return"number"==typeof e&&e>=0&&e<=L};b.each=b.forEach=function(t,e,n){e=S(e,n);var i,r;if(k(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=b.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},b.map=b.collect=function(t,e,n){e=T(e,n);for(var i=!k(t)&&b.keys(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o},b.reduce=b.foldl=b.inject=n(1),b.reduceRight=b.foldr=n(-1),b.find=b.detect=function(t,e,n){var i;if(void 0!==(i=k(t)?b.findIndex(t,e,n):b.findKey(t,e,n))&&-1!==i)return t[i]},b.filter=b.select=function(t,e,n){var i=[];return e=T(e,n),b.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},b.reject=function(t,e,n){return b.filter(t,b.negate(T(e)),n)},b.every=b.all=function(t,e,n){e=T(e,n);for(var i=!k(t)&&b.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},b.some=b.any=function(t,e,n){e=T(e,n);for(var i=!k(t)&&b.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},b.contains=b.includes=b.include=function(t,e,n,i){return k(t)||(t=b.values(t)),("number"!=typeof n||i)&&(n=0),b.indexOf(t,e,n)>=0},b.invoke=function(t,e){var n=p.call(arguments,2),i=b.isFunction(e);return b.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},b.pluck=function(t,e){return b.map(t,b.property(e))},b.where=function(t,e){return b.filter(t,b.matcher(e))},b.findWhere=function(t,e){return b.find(t,b.matcher(e))},b.max=function(t,e,n){var i,r,o=-1/0,a=-1/0;if(null==e&&null!=t){t=k(t)?t:b.values(t);for(var s=0,u=t.length;s<u;s++)(i=t[s])>o&&(o=i)}else e=T(e,n),b.each(t,function(t,n,i){((r=e(t,n,i))>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},b.min=function(t,e,n){var i,r,o=1/0,a=1/0;if(null==e&&null!=t){t=k(t)?t:b.values(t);for(var s=0,u=t.length;s<u;s++)(i=t[s])<o&&(o=i)}else e=T(e,n),b.each(t,function(t,n,i){((r=e(t,n,i))<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},b.shuffle=function(t){for(var e,n=k(t)?t:b.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=b.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},b.sample=function(t,e,n){return null==e||n?(k(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,e))},b.sortBy=function(t,e,n){return e=T(e,n),b.pluck(b.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,n,i){var r={};return n=T(n,i),b.each(e,function(i,o){var a=n(i,o,e);t(r,i,a)}),r}};b.groupBy=M(function(t,e,n){b.has(t,n)?t[n].push(e):t[n]=[e]}),b.indexBy=M(function(t,e,n){t[n]=e}),b.countBy=M(function(t,e,n){b.has(t,n)?t[n]++:t[n]=1}),b.toArray=function(t){return t?b.isArray(t)?p.call(t):k(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:k(t)?t.length:b.keys(t).length},b.partition=function(t,e,n){e=T(e,n);var i=[],r=[];return b.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},b.first=b.head=b.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:b.initial(t,t.length-e)},b.initial=function(t,e,n){return p.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},b.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:b.rest(t,Math.max(0,t.length-e))},b.rest=b.tail=b.drop=function(t,e,n){return p.call(t,null==e||n?1:e)},b.compact=function(t){return b.filter(t,b.identity)};var O=function(t,e,n,i){for(var r=[],o=0,a=i||0,s=E(t);a<s;a++){var u=t[a];if(k(u)&&(b.isArray(u)||b.isArguments(u))){e||(u=O(u,e,n));var l=0,c=u.length;for(r.length+=c;l<c;)r[o++]=u[l++]}else n||(r[o++]=u)}return r};b.flatten=function(t,e){return O(t,e,!1)},b.without=function(t){return b.difference(t,p.call(arguments,1))},b.uniq=b.unique=function(t,e,n,i){b.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=T(n,i));for(var r=[],o=[],a=0,s=E(t);a<s;a++){var u=t[a],l=n?n(u,a,t):u;e?(a&&o===l||r.push(u),o=l):n?b.contains(o,l)||(o.push(l),r.push(u)):b.contains(r,u)||r.push(u)}return r},b.union=function(){return b.uniq(O(arguments,!0,!0))},b.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=E(t);i<r;i++){var o=t[i];if(!b.contains(e,o)){for(var a=1;a<n&&b.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},b.difference=function(t){var e=O(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(e,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var e=t&&b.max(t,E).length||0,n=Array(e),i=0;i<e;i++)n[i]=b.pluck(t,i);return n},b.object=function(t,e){for(var n={},i=0,r=E(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},b.findIndex=o(1),b.findLastIndex=o(-1),b.sortedIndex=function(t,e,n,i){n=T(n,i,1);for(var r=n(e),o=0,a=E(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o},b.indexOf=a(1,b.findIndex,b.sortedIndex),b.lastIndexOf=a(-1,b.findLastIndex),b.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var I=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=A(t.prototype),a=t.apply(o,r);return b.isObject(a)?a:o};b.bind=function(t,e){if(y&&t.bind===y)return y.apply(t,p.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),i=function(){return I(t,i,e,this,n.concat(p.call(arguments)))};return i},b.partial=function(t){var e=p.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),a=0;a<r;a++)o[a]=e[a]===b?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return I(t,n,this,this,o)};return n},b.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=b.bind(t[n],t);return t},b.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return b.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},b.delay=function(t,e){var n=p.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:b.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var l=b.now();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,r=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),s=l,o=t.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(u,c)),o}},b.debounce=function(t,e,n){var i,r,o,a,s,u=function(){var l=b.now()-a;l<e&&l>=0?i=setTimeout(u,e-l):(i=null,n||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=b.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(s=t.apply(o,r),o=r=null),s}},b.wrap=function(t,e){return b.partial(e,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},b.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},b.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},b.once=b.partial(b.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(v)return v(t);var e=[];for(var n in t)b.has(t,n)&&e.push(n);return R&&s(t,e),e},b.allKeys=function(t){if(!b.isObject(t))return[];var e=[];for(var n in t)e.push(n);return R&&s(t,e),e},b.values=function(t){for(var e=b.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},b.mapObject=function(t,e,n){e=T(e,n);for(var i,r=b.keys(t),o=r.length,a={},s=0;s<o;s++)i=r[s],a[i]=e(t[i],i,t);return a},b.pairs=function(t){for(var e=b.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},b.invert=function(t){for(var e={},n=b.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},b.functions=b.methods=function(t){var e=[];for(var n in t)b.isFunction(t[n])&&e.push(n);return e.sort()},b.extend=P(b.allKeys),b.extendOwn=b.assign=P(b.keys),b.findKey=function(t,e,n){e=T(e,n);for(var i,r=b.keys(t),o=0,a=r.length;o<a;o++)if(i=r[o],e(t[i],i,t))return i},b.pick=function(t,e,n){var i,r,o={},a=t;if(null==a)return o;b.isFunction(e)?(r=b.allKeys(a),i=S(e,n)):(r=O(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,u=r.length;s<u;s++){var l=r[s],c=a[l];i(c,l,a)&&(o[l]=c)}return o},b.omit=function(t,e,n){if(b.isFunction(e))e=b.negate(e);else{var i=b.map(O(arguments,!1,!1,1),String);e=function(t,e){return!b.contains(i,e)}}return b.pick(t,e,n)},b.defaults=P(b.allKeys,!0),b.create=function(t,e){var n=A(t);return e&&b.extendOwn(n,e),n},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,e){return e(t),t},b.isMatch=function(t,e){var n=b.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var z=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof b&&(t=t._wrapped),e instanceof b&&(e=e._wrapped);var r=g.call(t);if(r!==g.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!z(t[u],e[u],n,i))return!1}else{var l,c=b.keys(t);if(u=c.length,b.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!b.has(e,l)||!z(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};b.isEqual=function(t,e){return z(t,e)},b.isEmpty=function(t){return null==t||(k(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length)},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=_||function(t){return"[object Array]"===g.call(t)},b.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===g.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,e){return null!=t&&m.call(t,e)},b.noConflict=function(){return u._=l,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=C,b.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(e){return b.isMatch(e,t)}},b.times=function(t,e,n){var i=Array(Math.max(0,t));e=S(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},b.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=b.invert(V),F=function(t){var e=function(e){return t[e]},n="(?:"+b.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};b.escape=F(V),b.unescape=F(D),b.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),b.isFunction(i)?i.call(t):i};var G=0;b.uniqueId=function(t){var e=++G+"";return t?t+e:e},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+j[t]};b.template=function(t,e,n){!e&&n&&(e=n),e=b.defaults({},e,b.templateSettings);var i=RegExp([(e.escape||B).source,(e.interpolate||B).source,(e.evaluate||B).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(H,U),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,b)};return s.source="function("+(e.variable||"obj")+"){\n"+o+"}",s},b.chain=function(t){var e=b(t);return e._chain=!0,e};var Z=function(t,e){return t._chain?b(e).chain():e};b.mixin=function(t){b.each(b.functions(t),function(e){var n=b[e]=t[e];b.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),Z(this,n.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];b.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Z(this,n)}}),b.each(["concat","join","slice"],function(t){var e=c[t];b.prototype[t]=function(){return Z(this,e.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},i=[],void 0!==(r=function(){return b}.apply(e,i))&&(t.exports=r)}).call(this)},function(t,e,n){"use strict";function i(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/service-worker.js";a?o(t):r(t)})}}function r(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function o(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):r(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}e.a=i;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.13cff9cf.js.map